import{r as c,fs as Zs,ft as It,fu as el,j as e,cz as m,fv as B}from"./index-DWbV5iXo.js";const k="customFontUrlSlots",Ee=10,V=Array.from({length:Ee},(s,h)=>h);function C(s,h){return Array.isArray(s)?Array.from({length:Ee},(v,f)=>{const g=s[f];return typeof g=="string"?g.trim():""}):[...h]}function Dt(s){return s.replace(/\.(txt|md|docx?|json)$/i,"")}function F(s){return typeof s!="number"||!Number.isFinite(s)||s<=0?null:s}function tl(s,h){const v=s.split(/\r?\n/).map(f=>f.trim()).filter(f=>f.length>0);return v.length?v:[...h]}function sl(s){const h=F(s.writtenAt)??F(s.importedAt);return h?new Date(h).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"æœªçŸ¥æ—¥æœŸ"}function ll(s){const h=F(s.importedAt);return h?new Date(h).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"æœªçŸ¥æ—¥æœŸ"}const z=[{key:"app",label:"æ•´ç«™",hint:"ä¸»æ¨™é¡Œ / é ç±¤ç­‰åŸºåº•å­—é«”"},{key:"letter",label:"æƒ…æ›¸",hint:"æƒ…æ›¸é é–±è®€æ–‡å­—"},{key:"campfire",label:"æ²»ç™’ç¯ç«",hint:"æ²»ç™’ç¯ç«ï¼å¿ƒæƒ…æ˜Ÿçƒï¼ç•™å…‰çµ¦å¦³çš„è·¯é–±è®€æ–‡å­—"},{key:"diary",label:"æ—¥è¨˜",hint:"M æ—¥è¨˜ / Anni æ—¥è¨˜ / é¡˜æœ›"},{key:"soulmate",label:"å®¶é ",hint:"å®¶é–±è®€é "},{key:"archive",label:"ç¸½æ”¬",hint:"ç¸½æ”¬å…¥å£é–±è®€æ–‡å­—"},{key:"notes",label:"M's memo",hint:"M çš„å‚™å¿˜éŒ„é–±è®€æ–‡å­—"}],al=[{key:"uiHeaderTitleSize",label:"é é¦–æ¨™é¡Œ",hint:"Mæ—¥è¨˜ / Anniæ—¥è¨˜ / ç¶“æœŸ / é¡˜æœ› / å°è©±é æ¨™é¡Œ",min:14,max:24,step:1},{key:"uiTabLabelSize",label:"é ç±¤æ–‡å­—",hint:"é–±è®€/æœˆæ›†/æ ¼ç‹€ã€é¡˜æœ›/æ¸…å–®/ç”Ÿæ—¥ä»»å‹™ ç­‰é ç±¤",min:6,max:24,step:1},{key:"uiFilterPillSize",label:"ç¯©é¸ç±¤æ¢",hint:"å…¨éƒ¨/æ”¶è—/æœªçŸ¥æ™‚åˆ»/å·²å®Œæˆ/æœªå®Œæˆ",min:9,max:16,step:1},{key:"uiHintTextSize",label:"æç¤ºå°å­—",hint:"å·²å®Œæˆè¨ˆæ•¸ã€æ»‘å‹•æç¤ºã€ç´°ç¯€å°å­—",min:8,max:14,step:1},{key:"chatContactNameSize",label:"å°è©±è¯çµ¡äººå",hint:"å°è©±é¦–é å¡ç‰‡ä¸Šçš„å¤§åç¨±ï¼ˆä¾‹å¦‚ Mï¼‰",min:12,max:38,step:1},{key:"chatContactSubtitleSize",label:"å°è©±è¯çµ¡äººå‰¯æ¨™",hint:"å°è©±é¦–é å¡ç‰‡ä¸Šçš„å‰¯æ¨™ï¼ˆä¾‹å¦‚ ä½ â™¡ï¼‰",min:12,max:24,step:1}],rl=["#efeff4","#f6f1e7","#eaf1f6","#f4e9ef","#eef3e6"],K=[{value:"gradientFlow",label:"ç³–éœ§å¹»å½©",hint:"R1 å½©ç³–æ•£æ™¯ï¼šç²‰é»ƒé’è—åŒå ´æ…¢æ…¢æµå‹•"},{value:"snowNight",label:"é›ªå¤œ",hint:"å†·è—æ™šéœ + è‡ªç„¶é£„é›ª"},{value:"bokehDream",label:"å¤¢å¹»æ•£æ™¯",hint:"æŸ”ç„¦å…‰æ–‘ + æ˜é¡¯è‰²ç›¸è®ŠåŒ–"},{value:"firefly",label:"å¥¶éœ§è–„è·",hint:"R2 å¥¶éœ§è–„è·ï¼šæ·¡ç¶ å¥¶ç™½è–°ç´«ï¼ŒæŸ”å’Œæ›è‰²"},{value:"meteorShower",label:"å¤œè—é–ƒè®Š",hint:"é’ç¶ ç²‰æš®è‰² + ä¸€ç¬åè—è®Šæš—ï¼ˆç´”èƒŒæ™¯ï¼‰"},{value:"skyLantern",label:"å¤¢å¹»ç”œå½©",hint:"åƒæ™šéœä¸€æ¨£ä¸€å¯¸å¯¸è‡ªç„¶æ›è‰²"},{value:"coolTwilight",label:"å¥½é…·æµç„°",hint:"Untitled-3 åŸç‰ˆç´…è—é‡‘ç´”è®Šè‰²ï¼ˆç„¡åœˆåœˆï¼‰"},{value:"prismDepth",label:"è—ç´«æ·±å¢ƒ",hint:"R3 è—ç´«æ·±åº¦ï¼šè—ç´«é’å±¤æ¬¡æ›´æ·±ã€æµå‹•æ›´æœ‰ç©ºé–“æ„Ÿ"},{value:"auroraDance",label:"Anniå°ˆå±¬ï¼šæ¥µå…‰ä¹‹èˆ",hint:"ç…§æŠ„ï¼š#00cdac â†’ #02aab0 â†’ #00cdac â†’ #8EE4AFï¼Œ15s ç·©æ…¢å¾ªç’°"}],X=[{value:"none",label:"ç„¡ç‰¹æ•ˆ",hint:"åªç•™èƒŒæ™¯ï¼Œå…ˆå°ˆå¿ƒçœ‹æ›è‰²ç¯€å¥"},{value:"orbs",label:"å…‰æšˆåœ“æ–‘",hint:"æŸ”ç„¦æ¼‚æµ®å…‰æ–‘ï¼Œå­˜åœ¨æ„Ÿä¸­ç­‰"},{value:"snow",label:"é›ªèŠ±",hint:"å‰å¾Œæ™¯å±¤æ¬¡é£„é›ªï¼Œç«‹é«”æ„Ÿæœ€å¼·"},{value:"lantern",label:"å¤©ç‡ˆä¸Šé£„",hint:"æš–è‰²å¤©ç‡ˆæ…¢æ…¢å¾€ä¸Šï¼Œå¸¶è¼•å¾®æ–æ™ƒ"},{value:"heart",label:"æ„›å¿ƒé£„æµ®",hint:"æŸ”å’Œæ„›å¿ƒç·©æ…¢ä¸Šé£„ï¼Œå¾®å¾®æ–æ™ƒ"},{value:"ribbon",label:"æŸ”å…‰å¸¶",hint:"æµå‹•å…‰æŸåƒçµ²å¸¶ä¸€æ¨£æ¼‚ç§»"},{value:"stardust",label:"æ˜Ÿå¡µæµæ˜Ÿ",hint:"ç´°äº®é» + æµæ˜Ÿæ éï¼Œå‹•æ„Ÿè¼ƒå¼·"},{value:"bubbles",label:"ä¸Šé£„æ³¡æ³¡",hint:"åƒè€ƒæ‰‹æœ­ Cï¼šå°æ³¡æ³¡ç”±ä¸‹å¾€ä¸Šæ…¢æ…¢é£„ç§»"}],Mt=[{value:"vinylCounter",label:"å”±ç‰‡æ©Ÿ",hint:"ä¿ç•™ç¾åœ¨çš„å”±ç‰‡æ©Ÿå¤–è§€èˆ‡æ§åˆ¶éˆ•ã€‚"},{value:"polaroid",label:"æ‹åŠ›å¾—",hint:"æ”¹æˆæ‹ç«‹å¾—ç›¸æ©Ÿã€‚"}],ol={home:"ğŸ ",inbox:"ğŸ“®",calendar:"ğŸ“…",tarot:"ğŸ”®",letters:"ğŸ’Œ",heart:"ğŸ’—",list:"ğŸ´",fitness:"ğŸ‹ï¸",pomodoro:"ğŸ…",period:"ğŸ©¸",diary:"ğŸ““",album:"ğŸ“·",notes:"ğŸ“",settings:"âš™ï¸",wishlist:"ğŸŒ ","letters-ab":"ğŸ“œ",archive:"ğŸ—‚","light-path":"âœ¨","healing-campfire":"ğŸ”¥","mood-letters":"ğŸ«§",questionnaire:"ğŸ“‹",memo:"ğŸ§·",murmur:"ğŸ’­","self-intro":"ğŸªª",bookshelf:"ğŸ“š"},Pt=[{key:"home",label:"Home"},{key:"inbox",label:"Inbox"},{key:"calendar",label:"Calendar"},{key:"tarot",label:"Tarot"},{key:"letters",label:"Letters æƒ…æ›¸"},{key:"heart",label:"MY LOVE å¿ƒç‰†"},{key:"list",label:"List æ¸…å–®"},{key:"fitness",label:"Fitness å¥èº«"},{key:"pomodoro",label:"Pomodoro ç•ªèŒ„é˜"},{key:"period",label:"Period ç¶“æœŸæ—¥è¨˜"},{key:"diary",label:"Diary æ—¥è¨˜"},{key:"album",label:"Album ç›¸å†Š"},{key:"notes",label:"Notes ä¾¿åˆ©è²¼"},{key:"settings",label:"Settings"},{key:"wishlist",label:"é¡˜æœ›"},{key:"letters-ab",label:"å¹´åº¦ä¿¡ä»¶"},{key:"archive",label:"ç¸½æ”¬"},{key:"light-path",label:"ç•™å…‰çµ¦å¦³çš„è·¯"},{key:"healing-campfire",label:"æ²»ç™’ç¯ç«"},{key:"mood-letters",label:"å¿ƒæƒ…æ˜Ÿçƒ"},{key:"questionnaire",label:"å•å·"},{key:"memo",label:"M's memo"},{key:"murmur",label:"ç¢ç¢å¿µ"},{key:"self-intro",label:"è‡ªæˆ‘ä»‹ç´¹"},{key:"bookshelf",label:"æ›¸æ¶"}],nl=[{key:"home",label:"åº•éƒ¨åˆ†é ï¼šHome"},{key:"inbox",label:"åº•éƒ¨åˆ†é ï¼šInbox"},{key:"calendar",label:"åº•éƒ¨åˆ†é ï¼šCalendar"},{key:"settings",label:"åº•éƒ¨åˆ†é ï¼šSettings"},{key:"tarot",label:"é¦–é å…¥å£ï¼šå¡”ç¾…"},{key:"letters",label:"é¦–é å…¥å£ï¼šæƒ…æ›¸"},{key:"heart",label:"é¦–é å…¥å£ï¼šå¿ƒç‰†"},{key:"chat",label:"é¦–é å…¥å£ï¼šå°è©±"},{key:"list",label:"é¦–é å…¥å£ï¼šæ¸…å–®"},{key:"fitness",label:"é¦–é å…¥å£ï¼šå¥èº«"},{key:"pomodoro",label:"é¦–é å…¥å£ï¼šç•ªèŒ„é˜"},{key:"period",label:"é¦–é å…¥å£ï¼šç¶“æœŸæ—¥è¨˜"},{key:"diary",label:"é¦–é å…¥å£ï¼šæ—¥è¨˜"},{key:"album",label:"é¦–é å…¥å£ï¼šç›¸å†Š"},{key:"notes",label:"é¦–é å…¥å£ï¼šä¾¿åˆ©è²¼"},{key:"wishlist",label:"é¦–é å…¥å£ï¼šé¡˜æœ›"},{key:"letters-ab",label:"é¦–é å…¥å£ï¼šå¹´åº¦ä¿¡ä»¶"},{key:"archive",label:"é¦–é å…¥å£ï¼šç¸½æ”¬"},{key:"light-path",label:"é¦–é å…¥å£ï¼šç•™å…‰çµ¦å¦³çš„è·¯"},{key:"healing-campfire",label:"é¦–é å…¥å£ï¼šæ²»ç™’ç¯ç«"},{key:"mood-letters",label:"é¦–é å…¥å£ï¼šå¿ƒæƒ…æ˜Ÿçƒ"},{key:"questionnaire",label:"é¦–é å…¥å£ï¼šå•å·"},{key:"memo",label:"é¦–é å…¥å£ï¼šM's memo"},{key:"murmur",label:"é¦–é å…¥å£ï¼šç¢ç¢å¿µ"},{key:"self-intro",label:"é¦–é å…¥å£ï¼šè‡ªæˆ‘ä»‹ç´¹"},{key:"bookshelf",label:"é¦–é å…¥å£ï¼šæ›¸æ¶"}],il=[{key:"mDiary",label:"Mæ—¥è¨˜",hint:"mDiary.json"},{key:"letters",label:"æƒ…æ›¸",hint:"letters.json"},{key:"chatLogs",label:"å°è©±ç´€éŒ„",hint:"chatLogs.json"},{key:"inbox",label:"Inbox / æœˆæ›†",hint:"inbox.json"},{key:"soulmate",label:"æ¬å®¶è¨ˆåŠƒæ›¸",hint:"soulmate.json"},{key:"other",label:"å…¶ä»–ï¼ˆM's memo / è‡ªæˆ‘ä»‹ç´¹ï¼‰",hint:"other.json"}],cl=[{page:"M æ—¥è¨˜ / é¡˜æœ› / å®¶ / å¡”ç¾…è¿”å›å°äºº",path:"public/mdiary-chibi/"},{page:"å¥èº«",path:"public/fitness-chibi/"},{page:"ç•ªèŒ„é˜",path:"public/pomodoro-chibi/"},{page:"ä¾¿åˆ©è²¼",path:"public/notes-chibi/"},{page:"ä¸»æœˆæ›†",path:"public/calendar-chibi/"},{page:"å¹´åº¦ä¿¡ä»¶",path:"public/letters-ab-chibi/"},{page:"æƒ…æ›¸ï¼ˆèˆŠ LetterPageï¼‰",path:"public/letter-chibi/"},{page:"ç¶“æœŸæ—¥è¨˜",path:"public/period-chibi/"},{page:"æ‰“å¡",path:"public/checkin-chibi/"},{page:"å…¨åŸŸå¤§æ± ",path:"public/chibi/",note:"å…¶ä»–é é¢å›é€€æ± èˆ‡æ··æ± ä¾†æº"}],dl=[{path:"public/data/movies.json",target:"æ¸…å–®-ç‰‡å–®",note:"ç‰‡å–®å¡ç‰‡å…§å®¹"},{path:"public/data/songs.json",target:"æ¸…å–®-æ­Œå–®",note:"æ­Œå–®å¡ç‰‡å…§å®¹"},{path:"public/data/books.json",target:"æ¸…å–®-æ›¸å–®",note:"æ›¸å–®å¡ç‰‡å…§å®¹"},{path:"public/data/wishlist/wishes.json",target:"é¡˜æœ›é ",note:"é¡˜æœ›ï¼ˆç¿»é–±/æ¸…å–®ï¼‰å…§å®¹"},{path:"public/data/wishlist/birthday-tasks.json",target:"é¡˜æœ›é ",note:"ç”Ÿæ—¥ä»»å‹™å…§å®¹"},{path:"public/data/letters-ab/index.json",target:"å¹´åº¦ä¿¡ä»¶",note:"å¹´ä»½/æ–‡ç« ç´¢å¼•"},{path:"public/data/letters-ab/content/*.txt",target:"å¹´åº¦ä¿¡ä»¶",note:"æ¯ç¯‡æ­£æ–‡å…§å®¹"},{path:"public/data/checkin/checkin_phrases.json",target:"æ‰“å¡",note:"æ‰“å¡èªå¥ï¼ˆJSONï¼‰"},{path:"public/data/checkin/checkin_phrases.txt",target:"æ‰“å¡",note:"æ‰“å¡èªå¥ï¼ˆTXT å‚™æ´ï¼‰"},{path:"public/data/checkin/checkin_milestones.json",target:"æ‰“å¡",note:"é‡Œç¨‹ç¢‘èªå¥"},{path:"public/data/mood-letters/index.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¿ƒæƒ…ä¿¡ç´¢å¼•ï¼ˆæ¨™é¡Œ / åˆ†é¡ / è·¯å¾‘ï¼‰"},{path:"public/data/mood-letters/content/*.txt",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"æ¯å°ä¿¡æ­£æ–‡ï¼ˆç”±è…³æœ¬è‡ªå‹•ç”¢ç”Ÿï¼‰"},{path:"public/data/mood-letters/overrides.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¿ƒæƒ…åˆ†é¡äººå·¥è¦†è“‹ï¼ˆä¿®æ­£ï¼‰"},{path:"public/data/mood-letters/review.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¾…äººå·¥ç¢ºèªæ¸…å–®ï¼ˆè…³æœ¬è¼¸å‡ºï¼‰"},{path:"public/data/period/period_hover_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"æœˆæ›† hover èªå¥"},{path:"public/data/period/period_post_end_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"ç¶“æœŸçµæŸå¾Œèªå¥"},{path:"public/data/period/period_chibi_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"ç¶“æœŸå°äººå°è©"},{path:"public/data/fitness-weeks.json",target:"å¥èº«",note:"æ¯é€±å¥èº«/é£²é£Ÿè³‡æ–™"},{path:"public/data/albums.json",target:"ç›¸å†Š",note:"ç›¸å†Šæ¸…å–®èˆ‡è¨­å®š"}],xl=[{path:"public/diary-covers/",target:"Mæ—¥è¨˜ / Anniæ—¥è¨˜",note:"æ—¥è¨˜å°é¢åœ–æ± "},{path:"public/photos/",target:"ç›¸å†Š",note:"ç›¸ç°¿åœ–ç‰‡"},{path:"public/tarot/",target:"å¡”ç¾…",note:"å¡”ç¾…ç‰Œåœ–æª”"},{path:"public/icons/",target:"ç¶²ç«™ / PWA",note:"ç¶²ç«™åœ–ç¤ºèˆ‡é€šçŸ¥ icon"},{path:"public/chibi*/",target:"æ‰€æœ‰å«å°äººé é¢",note:"å°äººç´ æï¼ˆå«å„å°ˆå±¬æ± ï¼‰"}],ml=["GitHub ç¶²é ä¸Šå‚³æª”æ¡ˆåˆ° main åˆ†æ”¯ä¹Ÿå¯ä»¥æ›´æ–°ï¼Œä¸ä¸€å®šè¦æœ¬æ©Ÿ git pushã€‚","ä¸Šå‚³å¾Œéœ€ç­‰å¾… Actions build/deployï¼ˆé€šå¸¸ç´„ 1-5 åˆ†é˜ï¼‰ï¼Œæ‰‹æ©Ÿç«¯é‡æ•´æ‰æœƒçœ‹åˆ°ã€‚","å°äººæ–°å¢åˆ° public/chibi/ å¾Œï¼Œè‹¥æš«æ™‚æŠ½ä¸åˆ°æ–°åœ–ï¼Œå¯åœ¨å¤–è§€è¨­å®šæŒ‰ã€Œé‡æŠ½å°äººæ± ã€ã€‚","å¹´åº¦ä¿¡ä»¶å»ºè­°ç¶­æŒ index.json + txt åˆ†æª”ï¼ˆä¸è¦å‰ç«¯ä¸€æ¬¡è§£æå¤§é‡ docxï¼‰ã€‚","å¿ƒæƒ…ä¿¡æ–°å¢å¾ŒåŸ·è¡Œ `npm run build:mood-letters`ï¼Œæœƒè‡ªå‹•æ›´æ–° index/content/reviewã€‚","å¿ƒæƒ…åˆ†é¡ä¸æº–æ™‚ï¼Œæ”¹ `public/data/mood-letters/overrides.json` å¾Œå†é‡è·‘è…³æœ¬ã€‚","å¿ƒæƒ…æ˜Ÿçƒå°è¨­å®š/æ”¶è— keyï¼š`memorial-mood-letters-prefs-v1`ã€`memorial-mood-letters-favorites-v1`ã€‚","é å…§ã€Œæ‰‹å‹•åŒ¯å…¥ã€çš„è³‡æ–™æ˜¯æœ¬æ©Ÿè³‡æ–™åº«ï¼Œä¸æœƒè¢« GitHub æª”æ¡ˆç›´æ¥è¦†è“‹ã€‚","æ–‡å­—æª”å»ºè­° UTF-8ï¼Œåœ–ç‰‡å»ºè­°å£“ç¸®å¾Œå†ä¸Šå‚³ï¼Œæ‰‹æ©Ÿè¼‰å…¥æœƒæ›´ç©©ã€‚"],pl=[{path:"public/data/bookshelf.json",required:"å¿…å¡«",note:"æ›¸æœ¬æ¸…å–®èˆ‡é¡¯ç¤ºé †åºï¼ˆç”±ä¸Šåˆ°ä¸‹ï¼‰"},{path:"public/books/<bookId>/cover.webp",required:"é¸å¡«",note:"å°é¢ï¼ˆä¸æ”¾ä¹Ÿå¯ï¼‰"},{path:"public/books/<bookId>/001.webp",required:"å¿…å¡«ï¼ˆè‡³å°‘ä¸€é ï¼‰",note:"é–±è®€é ç¬¬ 1 å¼µ"},{path:"public/books/<bookId>/002.webp, 003.webp ...",required:"é¸å¡«",note:"å¾ŒçºŒé é¢ï¼Œä¾æª”åæ•¸å­—æ’åº"}],ul=["åœ¨ `public/data/bookshelf.json` æ–°å¢ä¸€æœ¬æ›¸ï¼ˆå»ºè­°å…ˆè¤‡è£½æ—¢æœ‰ä¸€ç­†å†æ”¹ï¼‰ã€‚","æŠŠ `id` è¨­æˆå”¯ä¸€å€¼ï¼ˆä¾‹å¦‚ `book-006`ï¼‰ï¼Œé€™å€‹ id è¦å’Œè³‡æ–™å¤¾åç¨±ä¸€è‡´ã€‚","å»ºç«‹è³‡æ–™å¤¾ `public/books/<id>/`ï¼Œæ”¾é€²å°é¢èˆ‡é–±è®€é åœ–ç‰‡ã€‚","åœ–ç‰‡æª”åå»ºè­°ç”¨ `001.webp`ã€`002.webp`...ï¼ˆå¯æ·· jpg/png/webpï¼Œç³»çµ±æœƒæŒ‰æª”åæ’åºï¼‰ã€‚","å­˜æª”å¾Œä¸Šå‚³ GitHub mainï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œæ‰‹æ©Ÿé‡æ•´å°±æœƒçœ‹åˆ°ã€‚"],bl=`[
  {
    "id": "book-006",
    "title": "æ–°æ›¸åç¨±",
    "subtitle": "",
    "icon": "ğŸ“–",
    "coverImage": ""
  }
]`,hl=[{path:"åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/*.docx|*.txt",required:"å¿…å¡«ä¾†æº",note:"ä½ æ–°å¢çš„ Word/TXT ä¿¡ä»¶éƒ½æ”¾é€™è£¡"},{path:"scripts/build-mood-letters-index.mjs",required:"å·¥å…·è…³æœ¬",note:"è‡ªå‹•è½‰æª”èˆ‡åˆ†é¡ï¼ˆä¸ç”¨æ‰‹å‹•æ”¹ indexï¼‰"},{path:"public/data/mood-letters/content/*.txt",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"æ¯å°ä¿¡è½‰æˆ txt å¾Œæœƒåœ¨é€™è£¡"},{path:"public/data/mood-letters/index.json",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"å¿ƒæƒ…æ˜Ÿçƒè®€å–çš„ä¸»ç´¢å¼•"},{path:"public/data/mood-letters/review.json",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"å¾…äººå·¥ç¢ºèªåˆ†é¡æ¸…å–®"},{path:"public/data/mood-letters/overrides.json",required:"äººå·¥ä¿®æ­£",note:"åˆ†é¡ä¸æº–æ™‚ï¼Œåœ¨é€™è£¡è¦†è“‹ moodIds"}],yl=["æŠŠæ–°ä¿¡ä»¶ï¼ˆ.docx / .txtï¼‰ä¸Ÿåˆ° `åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/`ã€‚æª”åä¿ç•™åŸæª”åå³å¯ã€‚","åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œï¼š`npm run build:mood-letters`ã€‚","è…³æœ¬æœƒè‡ªå‹•è§£æ Word/TXTï¼Œä¸¦é‡å»º `public/data/mood-letters/index.json` èˆ‡ `content/*.txt`ã€‚","æ‰“é–‹ `public/data/mood-letters/review.json`ï¼Œçœ‹ `unresolved` æ˜¯å¦æœ‰å¾…åˆ†é¡é …ç›®ã€‚","å¦‚æœæœ‰å¾…åˆ†é¡ï¼šåˆ° `public/data/mood-letters/overrides.json` æ–°å¢è©²æª”åå°æ‡‰çš„ moodIdsã€‚","ä¿®æ­£å¾Œå†è·‘ä¸€æ¬¡ `npm run build:mood-letters`ï¼Œç›´åˆ° `review.json` çš„ unresolvedCount é™åˆ°ä½ å¯æ¥å—ã€‚","æœ€å¾ŒæŠŠé€™äº›æª”æ¡ˆä¸€èµ·ä¸Šå‚³ GitHub mainï¼šä¾†æºä¿¡ä»¶ + `public/data/mood-letters/*`ï¼ˆè‡³å°‘ index/content/overrides/reviewï¼‰ã€‚"],fl=`{
  "version": 1,
  "updatedAt": "2026-02-23T00:00:00.000Z",
  "note": "key è¦å¡« displayNameï¼ˆå«å‰¯æª”åï¼‰",
  "overrides": {
    "ä»Šå¤©æœ‰é»ä½æ½®.docx": ["low", "support"],
    "æƒ³å¦³æŠ±æŠ±æ™šå®‰.txt": ["longing", "night"]
  }
}`;function b({icon:s,title:h,subtitle:v,isOpen:f,onToggle:g,children:A}){return e.jsxs("section",{className:"overflow-hidden rounded-2xl border border-stone-700/80 bg-[#161b26] shadow-sm",children:[e.jsxs("button",{type:"button",onClick:g,className:"flex w-full items-center gap-3 px-4 py-3 text-left text-white transition hover:bg-white/5",children:[e.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/12 text-lg",children:s}),e.jsxs("span",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"block text-sm",children:h}),e.jsx("span",{className:"block truncate text-xs text-stone-300",children:v})]}),e.jsx("span",{className:`text-xl leading-none text-stone-300 transition-transform ${f?"rotate-90":""}`,"aria-hidden":"true",children:"â€º"})]}),f&&e.jsx("div",{className:"border-t border-stone-700/70 bg-white/95 p-4 text-sm text-stone-700",children:A})]})}function N({title:s,subtitle:h,isOpen:v,onToggle:f,children:g}){return e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:f,className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:s}),h?e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:h}):null]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${v?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),v&&e.jsx("div",{className:"mt-3 space-y-3 border-t border-stone-200 pt-3",children:g})]})}function jl({settings:s,visibleEmailCount:h,totalEmailCount:v,monthCount:f,notificationPermission:g,importStatus:A,letterCount:We,letters:Oe,diaryCount:Le,diaries:ze,chatLogCount:$e,chatProfiles:_e,chibiPoolInfo:He,onSettingChange:i,onRequestNotificationPermission:Bt,onImportEmlFiles:At,onImportCalendarFiles:Et,onImportLetterFiles:Wt,onImportLetterFolderFiles:Ot,onImportDiaryFiles:Lt,onImportDiaryFolderFiles:zt,onImportChatLogFiles:$t,onImportChatLogFolderFiles:_t,onClearAllLetters:Ht,onDeleteLetter:Gt,onClearAllDiaries:Rt,onDeleteDiary:qt,onClearAllChatLogs:Jt,onExportAboutMeBackup:Vt,onExportAboutMBackup:Kt,onExportAboutMBackupPart:Xt,onImportAboutMeBackup:Ge,onImportAboutMBackup:Re,onImportAboutMBackupPart:qe,onSaveChatProfile:Qt,onDeleteChatProfile:Yt,onHoverToneWeightChange:Zt,onReshuffleHoverPhrases:es,onReshuffleChibiPool:xe,onRefresh:ts}){const[p,ss]=c.useState("appearance"),[ls,as]=c.useState(!1),[Je,Q]=c.useState(s.diaryCoverImageUrl),[Y,Ve]=c.useState(s.tarotGalleryImageUrl),[Ke,Xe]=c.useState(s.homeWidgetTitle),[Qe,Ye]=c.useState(s.homeWidgetBadgeText),[Ze,et]=c.useState(s.homeWidgetSubtitle),[tt,st]=c.useState(s.inboxTitle),[lt,at]=c.useState(s.memorialStartDate),[Z,rt]=c.useState(s.homeFinalWidgetPreset),[ot,nt]=c.useState(s.homePolaroidMessages.join(`
`)),[$,E]=c.useState({name:"",leftNick:"M",rightNick:"ä½ ",leftAvatarDataUrl:"",rightAvatarDataUrl:""}),[rs,me]=c.useState(!1),[_,pe]=c.useState(s.customFontUrlSlots[0]??s.customFontFileUrl),[it,ue]=c.useState(s.backgroundImageUrl),[H,ct]=c.useState(s.homeDynamicWallpaperPreset),[G,dt]=c.useState(s.homeWallpaperEffectPreset),[xt,ee]=c.useState(s.chatBackgroundImageUrl),[x,be]=c.useState(s.tabIconUrls),[d,he]=c.useState(s.appLabels),[mt,W]=c.useState(""),[pt,ye]=c.useState(""),[ut,T]=c.useState(""),[bt,I]=c.useState(""),[ht,fe]=c.useState(""),[yt,te]=c.useState(""),[ft,ge]=c.useState(""),[gt,je]=c.useState(""),[jt,Ne]=c.useState(""),[w,Nt]=c.useState(null),[se,os]=c.useState("aboutMe"),[le,ns]=c.useState("colorScale"),[ae,is]=c.useState("preset"),[cs,ds]=c.useState(!1),[xs,ms]=c.useState(!1),[ps,re]=c.useState(!1),[D,O]=c.useState("general"),[U,us]=c.useState({customFontUrlSlots:0,letterFontUrlSlots:0,diaryFontUrlSlots:0,soulmateFontUrlSlots:0}),[y,bs]=c.useState(0),[M,ve]=c.useState(()=>{const t=s.customFontFileUrl.trim();if(!t)return null;const n=V.map(l=>s.customFontUrlSlots[l]??"").map(l=>l.trim()).findIndex(l=>l===t);return n>=0?n:null}),[ke,hs]=c.useState(0),[we,ys]=c.useState("app"),[Se,Fe]=c.useState({app:!0,letter:!0,campfire:!1,diary:!0,soulmate:!1,archive:!1,notes:!1}),[fs,vt]=c.useState({customFontUrlSlots:s.customFontUrlSlotNames[0]??"",letterFontUrlSlots:s.letterFontUrlSlotNames[0]??"",diaryFontUrlSlots:s.diaryFontUrlSlotNames[0]??"",soulmateFontUrlSlots:s.soulmateFontUrlSlotNames[0]??""}),gs=c.useMemo(()=>K.find(t=>t.value===s.homeDynamicWallpaperPreset)??K[0],[s.homeDynamicWallpaperPreset]),Ue=c.useMemo(()=>K.find(t=>t.value===H)??K[0],[H]),js=c.useMemo(()=>X.find(t=>t.value===s.homeWallpaperEffectPreset)??X[0],[s.homeWallpaperEffectPreset]),Ce=c.useMemo(()=>X.find(t=>t.value===G)??X[0],[G]),Te=H!==s.homeDynamicWallpaperPreset,Ie=G!==s.homeWallpaperEffectPreset;c.useEffect(()=>{ue(s.backgroundImageUrl),ct(s.homeDynamicWallpaperPreset),dt(s.homeWallpaperEffectPreset),ee(s.chatBackgroundImageUrl),be(s.tabIconUrls),he(s.appLabels),Q(s.diaryCoverImageUrl),Ve(s.tarotGalleryImageUrl),Xe(s.homeWidgetTitle),Ye(s.homeWidgetBadgeText),et(s.homeWidgetSubtitle),st(s.inboxTitle),at(s.memorialStartDate),rt(s.homeFinalWidgetPreset),nt(s.homePolaroidMessages.join(`
`))},[s.backgroundImageUrl,s.homeDynamicWallpaperPreset,s.homeWallpaperEffectPreset,s.chatBackgroundImageUrl,s.tabIconUrls,s.appLabels,s.diaryCoverImageUrl,s.tarotGalleryImageUrl,s.homeWidgetTitle,s.homeWidgetBadgeText,s.homeWidgetSubtitle,s.inboxTitle,s.memorialStartDate,s.homeFinalWidgetPreset,s.homePolaroidMessages]),c.useEffect(()=>{vt({customFontUrlSlots:s.customFontUrlSlotNames[U.customFontUrlSlots]??"",letterFontUrlSlots:s.letterFontUrlSlotNames[U.letterFontUrlSlots]??"",diaryFontUrlSlots:s.diaryFontUrlSlotNames[U.diaryFontUrlSlots]??"",soulmateFontUrlSlots:s.soulmateFontUrlSlotNames[U.soulmateFontUrlSlots]??""})},[U.customFontUrlSlots,U.letterFontUrlSlots,U.diaryFontUrlSlots,U.soulmateFontUrlSlots,s.customFontUrlSlotNames,s.letterFontUrlSlotNames,s.diaryFontUrlSlotNames,s.soulmateFontUrlSlotNames]),c.useEffect(()=>{if(y===null)return;const t=P(),a=R();pe(t[y]??""),q(k,a[y]??"")},[y,s.customFontUrlSlots,s.customFontUrlSlotNames]),c.useEffect(()=>{const t="settings-preview-font-file-style",a=_.trim();let n=document.getElementById(t);if(!a){n&&n.remove();return}n||(n=document.createElement("style"),n.id=t,document.head.appendChild(n)),n.textContent=Zs(It,a)},[_]),c.useEffect(()=>()=>{document.getElementById("settings-preview-font-file-style")?.remove()},[]);function u(t){ss(a=>a===t?null:t)}function kt(t){os(a=>a===t?null:t)}function oe(t){ns(a=>a===t?null:t)}function ne(t){is(a=>a===t?null:t)}function Ns(t){Fe(a=>({...a,[t]:!a[t]}))}function vs(t){Fe({app:t,letter:t,campfire:t,diary:t,soulmate:t,archive:t,notes:t})}function ks(t){return t==="app"?s.customFontFileUrl.trim():t==="letter"?s.letterFontUrl.trim():t==="campfire"?s.campfireFontUrl.trim():t==="diary"?s.diaryFontUrl.trim():t==="archive"?s.archiveFontUrl.trim():t==="notes"?s.notesFontUrl.trim():s.soulmateFontUrl.trim()}function wt(t){if(t==="blank")return null;const a=Number(t);return Number.isNaN(a)||a<0||a>=Ee?null:a}function ws(t){if(bs(t),t===null){pe(""),q(k,"");return}us(a=>({...a,[k]:t})),Ms(k,t)}function Ss(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&ie(k,a.result)},a.readAsDataURL(t)}function Fs(){if(y===null){m({kind:"error",message:"è«‹å…ˆé¸æ“‡è¨˜æ†¶ 1~10 å†ä¿å­˜"});return}Is(k,y)}function Us(){if(y===null){m({kind:"error",message:"è«‹å…ˆé¸æ“‡è¦åˆªé™¤çš„è¨˜æ†¶ 1~10"});return}Ds(k,y)}function Cs(){const t=z.filter(r=>Se[r.key]);if(!t.length){m({kind:"error",message:"è«‹å…ˆå‹¾é¸è‡³å°‘ä¸€å€‹å¥—ç”¨ç¯„åœ"});return}const a=P(),n=M===null?"":(a[M]??"").trim();if(M!==null&&!n){m({kind:"error",message:"æ­¤å­—é«”é è¨­æ˜¯ç©ºç™½ï¼Œè«‹å…ˆå›ä¸Šæ–¹ä¿å­˜å­—é«”ä¾†æº"});return}const l={};for(const r of t)r.key==="app"?(l.customFontCssUrl="",l.customFontFileUrl=n,l.customFontFamily=""):r.key==="letter"?l.letterFontUrl=n:r.key==="campfire"?l.campfireFontUrl=n:r.key==="diary"?l.diaryFontUrl=n:r.key==="soulmate"?l.soulmateFontUrl=n:r.key==="archive"?l.archiveFontUrl=n:r.key==="notes"&&(l.notesFontUrl=n);i(l),m({kind:"success",message:M===null?`å·²é‚„åŸé è¨­å­—é«”ï¼š${t.map(r=>r.label).join("ã€")}`:`å·²å¥—ç”¨å­—é«”é è¨­ ${M+1}ï¼š${t.map(r=>r.label).join("ã€")}`})}function Ts(){Fe({app:!0,letter:!0,campfire:!1,diary:!0,soulmate:!1,archive:!1,notes:!1});const t=P().map(l=>l.trim()),a=s.customFontFileUrl.trim();if(!a){ve(null),m({kind:"success",message:"å­—é«”å¥—ç”¨ç¯„åœè‰ç¨¿å·²é‚„åŸ"});return}const n=t.findIndex(l=>l===a);ve(n>=0?n:null),m({kind:"success",message:"å­—é«”å¥—ç”¨ç¯„åœè‰ç¨¿å·²é‚„åŸ"})}function P(t){const a=s.customFontUrlSlots;return V.map(n=>a[n]??"")}function St(t){return"customFontUrlSlotNames"}function R(t){const a=s.customFontUrlSlotNames;return V.map(n=>a[n]??"")}function Ft(t){return _.trim()}function ie(t,a){pe(a)}function Ut(t){return fs[t]??""}function q(t,a){vt(n=>({...n,[t]:a}))}function Is(t,a){const n=P(),l=R(),r=St();n[a]=Ft(),l[a]=Ut(t).trim(),i({[t]:n,[r]:l}),m({kind:"success",message:`å­—é«”è¨˜æ†¶ ${a+1} å·²ä¿å­˜`})}function Ds(t,a){const n=P(),l=R(),r=St();n[a]="",l[a]="",i({[t]:n,[r]:l}),ie(t,""),q(t,""),m({kind:"success",message:`å­—é«”è¨˜æ†¶ ${a+1} å·²æ¸…é™¤`})}function Ms(t,a){const n=P(),l=R();ie(t,n[a]??""),q(t,l[a]??"")}function De(t,a,n=""){const l=n.trim();if(l)return l;const r=t.trim();if(!r)return`è¨˜æ†¶ ${a+1}`;if(r.startsWith("data:"))return`æœ¬æ©Ÿå­—é«” ${a+1}`;try{const j=new URL(r),o=decodeURIComponent(j.pathname.split("/").pop()??"").replace(/\.[a-z0-9]+$/i,"");if(o)return o}catch{}return r.length>26?`${r.slice(0,26)}...`:r}function Me(t,a){be(n=>({...n,[t]:a})),W("")}function Ps(t,a){if(!a)return;const n=new FileReader;n.onload=()=>{typeof n.result=="string"&&(Me(t,n.result),W(`${Pt.find(l=>l.key===t)?.label??t} åœ–ç¤ºå·²æ”¾å…¥è‰ç¨¿`))},n.readAsDataURL(a)}function Bs(t,a){he(n=>({...n,[t]:a})),ge("")}function As(){const t={home:x.home.trim(),inbox:x.inbox.trim(),calendar:x.calendar.trim(),tarot:x.tarot.trim(),letters:x.letters.trim(),heart:x.heart.trim(),list:x.list.trim(),fitness:x.fitness.trim(),pomodoro:x.pomodoro.trim(),period:x.period.trim(),diary:x.diary.trim(),album:x.album.trim(),notes:x.notes.trim(),settings:x.settings.trim(),wishlist:x.wishlist.trim(),"letters-ab":x["letters-ab"].trim(),archive:x.archive.trim(),"light-path":x["light-path"].trim(),"healing-campfire":x["healing-campfire"].trim(),"mood-letters":x["mood-letters"].trim(),questionnaire:x.questionnaire.trim(),memo:x.memo.trim(),murmur:x.murmur.trim(),"self-intro":x["self-intro"].trim(),bookshelf:x.bookshelf.trim()};i({tabIconUrls:t}),W("åœ–æ¨™è¨­å®šå·²å„²å­˜"),m({kind:"success",message:"åœ–æ¨™è¨­å®šå·²å„²å­˜"})}function Es(){be(s.tabIconUrls),W("å·²é‚„åŸæˆç›®å‰å„²å­˜å€¼")}function Ws(){const t={home:d.home.trim(),inbox:d.inbox.trim(),calendar:d.calendar.trim(),settings:d.settings.trim(),tarot:d.tarot.trim(),letters:d.letters.trim(),heart:d.heart.trim(),chat:d.chat.trim(),list:d.list.trim(),fitness:d.fitness.trim(),pomodoro:d.pomodoro.trim(),period:d.period.trim(),diary:d.diary.trim(),album:d.album.trim(),notes:d.notes.trim(),wishlist:d.wishlist.trim(),"letters-ab":d["letters-ab"].trim(),archive:d.archive.trim(),"light-path":d["light-path"].trim(),"healing-campfire":d["healing-campfire"].trim(),"mood-letters":d["mood-letters"].trim(),questionnaire:d.questionnaire.trim(),memo:d.memo.trim(),murmur:d.murmur.trim(),"self-intro":d["self-intro"].trim(),bookshelf:d.bookshelf.trim()};i({appLabels:t}),ge("å…¥å£åç¨±å·²å„²å­˜"),m({kind:"success",message:"å…¥å£åç¨±å·²å„²å­˜"})}function Os(){he(s.appLabels),ge("å·²é‚„åŸæˆç›®å‰å„²å­˜å€¼")}function Ls(){const t={version:1,savedAt:new Date().toISOString(),appearance:{themeMonthColor:s.themeMonthColor,globalTextColor:s.globalTextColor,calendarColorMode:s.calendarColorMode,lockedBubbleColor:s.lockedBubbleColor,calendarHoverBubbleTextColor:s.calendarHoverBubbleTextColor,chatBubbleStyle:s.chatBubbleStyle,chatUserBubbleColor:s.chatUserBubbleColor,chatUserBubbleBorderColor:s.chatUserBubbleBorderColor,chatUserBubbleTextColor:s.chatUserBubbleTextColor,chatAiBubbleColor:s.chatAiBubbleColor,chatAiBubbleBorderColor:s.chatAiBubbleBorderColor,chatAiBubbleTextColor:s.chatAiBubbleTextColor,chatBubbleRadius:s.chatBubbleRadius,chatBackgroundColor:s.chatBackgroundColor,chatBackgroundImageUrl:s.chatBackgroundImageUrl,chatBackgroundOverlay:s.chatBackgroundOverlay,customFontCssUrl:s.customFontCssUrl,customFontFileUrl:s.customFontFileUrl,customFontFamily:s.customFontFamily,customFontUrlSlots:[...s.customFontUrlSlots],customFontUrlSlotNames:[...s.customFontUrlSlotNames],letterFontUrl:s.letterFontUrl,letterFontUrlSlots:[...s.letterFontUrlSlots],letterFontUrlSlotNames:[...s.letterFontUrlSlotNames],diaryFontUrl:s.diaryFontUrl,diaryFontUrlSlots:[...s.diaryFontUrlSlots],diaryFontUrlSlotNames:[...s.diaryFontUrlSlotNames],soulmateFontUrl:s.soulmateFontUrl,soulmateFontUrlSlots:[...s.soulmateFontUrlSlots],soulmateFontUrlSlotNames:[...s.soulmateFontUrlSlotNames],archiveFontUrl:s.archiveFontUrl,notesFontUrl:s.notesFontUrl,campfireFontUrl:s.campfireFontUrl,fontScale:s.fontScale,uiHeaderTitleSize:s.uiHeaderTitleSize,uiTabLabelSize:s.uiTabLabelSize,uiFilterPillSize:s.uiFilterPillSize,uiHintTextSize:s.uiHintTextSize,chatContactNameSize:s.chatContactNameSize,chatContactSubtitleSize:s.chatContactSubtitleSize,tabIconUrls:s.tabIconUrls,tabIconDisplayMode:s.tabIconDisplayMode,calendarCellRadius:s.calendarCellRadius,calendarCellShadow:s.calendarCellShadow,calendarCellDepth:s.calendarCellDepth,backgroundMode:s.backgroundMode,backgroundGradientStart:s.backgroundGradientStart,backgroundGradientEnd:s.backgroundGradientEnd,homeDynamicWallpaperPreset:s.homeDynamicWallpaperPreset,homeDynamicEffectsEnabled:s.homeDynamicEffectsEnabled,homeDynamicIntensity:s.homeDynamicIntensity,homeDynamicSpeed:s.homeDynamicSpeed,homeDynamicParticleAmount:s.homeDynamicParticleAmount,homeWallpaperGradientPreset:s.homeWallpaperGradientPreset,homeWallpaperEffectPreset:s.homeWallpaperEffectPreset,backgroundImageUrl:s.backgroundImageUrl,backgroundImageOverlay:s.backgroundImageOverlay,homeWidgetTitle:s.homeWidgetTitle,homeWidgetSubtitle:s.homeWidgetSubtitle,homeWidgetBadgeText:s.homeWidgetBadgeText,homeWidgetIconDataUrl:s.homeWidgetIconDataUrl,inboxTitle:s.inboxTitle,memorialStartDate:s.memorialStartDate,homeFinalWidgetPreset:s.homeFinalWidgetPreset,homePolaroidMessages:s.homePolaroidMessages,diaryCoverFitMode:s.diaryCoverFitMode,tarotNameColor:s.tarotNameColor,tarotNameScale:s.tarotNameScale,chibiPoolSize:s.chibiPoolSize,chibiPoolMode:s.chibiPoolMode,appLabels:s.appLabels}},a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=`memorial-style-${new Date().toISOString().slice(0,10)}.json`,l.click(),URL.revokeObjectURL(n),ye("å·²åŒ¯å‡ºç¾åŒ–è¨­å®š JSON")}async function zs(t){try{const a=await t.text(),n=JSON.parse(a),l=n.appearance??n,r={};if(typeof l.themeMonthColor=="string"&&(r.themeMonthColor=l.themeMonthColor),typeof l.globalTextColor=="string"&&(r.globalTextColor=l.globalTextColor),(l.calendarColorMode==="month"||l.calendarColorMode==="custom")&&(r.calendarColorMode=l.calendarColorMode),typeof l.lockedBubbleColor=="string"&&(r.lockedBubbleColor=l.lockedBubbleColor),typeof l.calendarHoverBubbleTextColor=="string"&&(r.calendarHoverBubbleTextColor=l.calendarHoverBubbleTextColor),(l.chatBubbleStyle==="jelly"||l.chatBubbleStyle==="imessage"||l.chatBubbleStyle==="imessageClassic")&&(r.chatBubbleStyle=l.chatBubbleStyle),typeof l.chatUserBubbleColor=="string"&&(r.chatUserBubbleColor=l.chatUserBubbleColor),typeof l.chatUserBubbleBorderColor=="string"&&(r.chatUserBubbleBorderColor=l.chatUserBubbleBorderColor),typeof l.chatUserBubbleTextColor=="string"&&(r.chatUserBubbleTextColor=l.chatUserBubbleTextColor),typeof l.chatAiBubbleColor=="string"&&(r.chatAiBubbleColor=l.chatAiBubbleColor),typeof l.chatAiBubbleBorderColor=="string"&&(r.chatAiBubbleBorderColor=l.chatAiBubbleBorderColor),typeof l.chatAiBubbleTextColor=="string"&&(r.chatAiBubbleTextColor=l.chatAiBubbleTextColor),typeof l.chatBubbleRadius=="number"&&Number.isFinite(l.chatBubbleRadius)&&(r.chatBubbleRadius=l.chatBubbleRadius),typeof l.chatBackgroundColor=="string"&&(r.chatBackgroundColor=l.chatBackgroundColor),typeof l.chatBackgroundImageUrl=="string"&&(r.chatBackgroundImageUrl=l.chatBackgroundImageUrl),typeof l.chatBackgroundOverlay=="number"&&Number.isFinite(l.chatBackgroundOverlay)&&(r.chatBackgroundOverlay=Math.max(0,Math.min(90,Math.round(l.chatBackgroundOverlay)))),typeof l.customFontCssUrl=="string"&&(r.customFontCssUrl=l.customFontCssUrl),typeof l.customFontFileUrl=="string"&&(r.customFontFileUrl=l.customFontFileUrl),typeof l.customFontFamily=="string"&&(r.customFontFamily=l.customFontFamily),typeof l.letterFontUrl=="string"&&(r.letterFontUrl=l.letterFontUrl),typeof l.diaryFontUrl=="string"&&(r.diaryFontUrl=l.diaryFontUrl),typeof l.soulmateFontUrl=="string"&&(r.soulmateFontUrl=l.soulmateFontUrl),typeof l.archiveFontUrl=="string"&&(r.archiveFontUrl=l.archiveFontUrl),typeof l.notesFontUrl=="string"&&(r.notesFontUrl=l.notesFontUrl),typeof l.campfireFontUrl=="string"&&(r.campfireFontUrl=l.campfireFontUrl),Array.isArray(l.customFontUrlSlots)&&(r.customFontUrlSlots=C(l.customFontUrlSlots,s.customFontUrlSlots)),Array.isArray(l.customFontUrlSlotNames)&&(r.customFontUrlSlotNames=C(l.customFontUrlSlotNames,s.customFontUrlSlotNames)),Array.isArray(l.letterFontUrlSlots)&&(r.letterFontUrlSlots=C(l.letterFontUrlSlots,s.letterFontUrlSlots)),Array.isArray(l.letterFontUrlSlotNames)&&(r.letterFontUrlSlotNames=C(l.letterFontUrlSlotNames,s.letterFontUrlSlotNames)),Array.isArray(l.diaryFontUrlSlots)&&(r.diaryFontUrlSlots=C(l.diaryFontUrlSlots,s.diaryFontUrlSlots)),Array.isArray(l.diaryFontUrlSlotNames)&&(r.diaryFontUrlSlotNames=C(l.diaryFontUrlSlotNames,s.diaryFontUrlSlotNames)),Array.isArray(l.soulmateFontUrlSlots)&&(r.soulmateFontUrlSlots=C(l.soulmateFontUrlSlots,s.soulmateFontUrlSlots)),Array.isArray(l.soulmateFontUrlSlotNames)&&(r.soulmateFontUrlSlotNames=C(l.soulmateFontUrlSlotNames,s.soulmateFontUrlSlotNames)),typeof l.fontScale=="number"&&Number.isFinite(l.fontScale)&&(r.fontScale=l.fontScale),typeof l.uiHeaderTitleSize=="number"&&Number.isFinite(l.uiHeaderTitleSize)&&(r.uiHeaderTitleSize=l.uiHeaderTitleSize),typeof l.uiTabLabelSize=="number"&&Number.isFinite(l.uiTabLabelSize)&&(r.uiTabLabelSize=l.uiTabLabelSize),typeof l.uiFilterPillSize=="number"&&Number.isFinite(l.uiFilterPillSize)&&(r.uiFilterPillSize=l.uiFilterPillSize),typeof l.uiHintTextSize=="number"&&Number.isFinite(l.uiHintTextSize)&&(r.uiHintTextSize=l.uiHintTextSize),typeof l.chatContactNameSize=="number"&&Number.isFinite(l.chatContactNameSize)&&(r.chatContactNameSize=l.chatContactNameSize),typeof l.chatContactSubtitleSize=="number"&&Number.isFinite(l.chatContactSubtitleSize)&&(r.chatContactSubtitleSize=l.chatContactSubtitleSize),l.tabIconUrls&&typeof l.tabIconUrls=="object"){const o=l.tabIconUrls;r.tabIconUrls={home:typeof o.home=="string"?o.home.trim():"",inbox:typeof o.inbox=="string"?o.inbox.trim():"",calendar:typeof o.calendar=="string"?o.calendar.trim():"",tarot:typeof o.tarot=="string"?o.tarot.trim():"",letters:typeof o.letters=="string"?o.letters.trim():"",heart:typeof o.heart=="string"?o.heart.trim():"",list:typeof o.list=="string"?o.list.trim():"",fitness:typeof o.fitness=="string"?o.fitness.trim():"",pomodoro:typeof o.pomodoro=="string"?o.pomodoro.trim():"",period:typeof o.period=="string"?o.period.trim():"",diary:typeof o.diary=="string"?o.diary.trim():"",album:typeof o.album=="string"?o.album.trim():"",notes:typeof o.notes=="string"?o.notes.trim():"",settings:typeof o.settings=="string"?o.settings.trim():"",wishlist:typeof o.wishlist=="string"?o.wishlist.trim():"","letters-ab":typeof o["letters-ab"]=="string"?o["letters-ab"].trim():"",archive:typeof o.archive=="string"?o.archive.trim():"","light-path":typeof o["light-path"]=="string"?o["light-path"].trim():"","healing-campfire":typeof o["healing-campfire"]=="string"?o["healing-campfire"].trim():"","mood-letters":typeof o["mood-letters"]=="string"?o["mood-letters"].trim():"",questionnaire:typeof o.questionnaire=="string"?o.questionnaire.trim():"",memo:typeof o.memo=="string"?o.memo.trim():"",murmur:typeof o.murmur=="string"?o.murmur.trim():"","self-intro":typeof o["self-intro"]=="string"?o["self-intro"].trim():"",bookshelf:typeof o.bookshelf=="string"?o.bookshelf.trim():""}}if((l.tabIconDisplayMode==="framed"||l.tabIconDisplayMode==="full")&&(r.tabIconDisplayMode=l.tabIconDisplayMode),typeof l.calendarCellRadius=="number"&&Number.isFinite(l.calendarCellRadius)&&(r.calendarCellRadius=l.calendarCellRadius),typeof l.calendarCellShadow=="number"&&Number.isFinite(l.calendarCellShadow)&&(r.calendarCellShadow=l.calendarCellShadow),typeof l.calendarCellDepth=="number"&&Number.isFinite(l.calendarCellDepth)&&(r.calendarCellDepth=l.calendarCellDepth),(l.backgroundMode==="gradient"||l.backgroundMode==="image"||l.backgroundMode==="dynamic")&&(r.backgroundMode=l.backgroundMode),typeof l.backgroundGradientStart=="string"&&(r.backgroundGradientStart=l.backgroundGradientStart),typeof l.backgroundGradientEnd=="string"&&(r.backgroundGradientEnd=l.backgroundGradientEnd),(l.homeDynamicWallpaperPreset==="gradientFlow"||l.homeDynamicWallpaperPreset==="snowNight"||l.homeDynamicWallpaperPreset==="bokehDream"||l.homeDynamicWallpaperPreset==="firefly"||l.homeDynamicWallpaperPreset==="meteorShower"||l.homeDynamicWallpaperPreset==="skyLantern"||l.homeDynamicWallpaperPreset==="coolTwilight"||l.homeDynamicWallpaperPreset==="auroraDance"||l.homeDynamicWallpaperPreset==="prismDepth")&&(r.homeDynamicWallpaperPreset=l.homeDynamicWallpaperPreset),typeof l.homeDynamicEffectsEnabled=="boolean"&&(r.homeDynamicEffectsEnabled=l.homeDynamicEffectsEnabled),typeof l.homeDynamicIntensity=="number"&&Number.isFinite(l.homeDynamicIntensity)&&(r.homeDynamicIntensity=l.homeDynamicIntensity),typeof l.homeDynamicSpeed=="number"&&Number.isFinite(l.homeDynamicSpeed)&&(r.homeDynamicSpeed=l.homeDynamicSpeed),typeof l.homeDynamicParticleAmount=="number"&&Number.isFinite(l.homeDynamicParticleAmount)&&(r.homeDynamicParticleAmount=l.homeDynamicParticleAmount),(l.homeWallpaperGradientPreset==="auroraCandy"||l.homeWallpaperGradientPreset==="bokehDream"||l.homeWallpaperGradientPreset==="neonTwilight"||l.homeWallpaperGradientPreset==="peachSky"||l.homeWallpaperGradientPreset==="mintLilac"||l.homeWallpaperGradientPreset==="nightBlue")&&(r.homeWallpaperGradientPreset=l.homeWallpaperGradientPreset),l.homeWallpaperEffectPreset==="orbs"||l.homeWallpaperEffectPreset==="snow"||l.homeWallpaperEffectPreset==="heart"||l.homeWallpaperEffectPreset==="lantern"||l.homeWallpaperEffectPreset==="ribbon"||l.homeWallpaperEffectPreset==="stardust"||l.homeWallpaperEffectPreset==="bubbles"||l.homeWallpaperEffectPreset==="none"?r.homeWallpaperEffectPreset=l.homeWallpaperEffectPreset:l.homeWallpaperEffectPreset==="firefly"&&(r.homeWallpaperEffectPreset="heart"),typeof l.backgroundImageUrl=="string"&&(r.backgroundImageUrl=l.backgroundImageUrl),typeof l.backgroundImageOverlay=="number"&&Number.isFinite(l.backgroundImageOverlay)&&(r.backgroundImageOverlay=l.backgroundImageOverlay),typeof l.homeWidgetTitle=="string"&&(r.homeWidgetTitle=l.homeWidgetTitle),typeof l.homeWidgetSubtitle=="string"&&(r.homeWidgetSubtitle=l.homeWidgetSubtitle),typeof l.homeWidgetBadgeText=="string"&&(r.homeWidgetBadgeText=l.homeWidgetBadgeText),typeof l.homeWidgetIconDataUrl=="string"&&(r.homeWidgetIconDataUrl=l.homeWidgetIconDataUrl),typeof l.inboxTitle=="string"&&(r.inboxTitle=l.inboxTitle),typeof l.memorialStartDate=="string"&&(r.memorialStartDate=l.memorialStartDate),(l.homeFinalWidgetPreset==="vinylCounter"||l.homeFinalWidgetPreset==="polaroid")&&(r.homeFinalWidgetPreset=l.homeFinalWidgetPreset),Array.isArray(l.homePolaroidMessages)){const o=l.homePolaroidMessages.map(de=>typeof de=="string"?de.trim():"").filter(de=>de.length>0);o.length&&(r.homePolaroidMessages=o)}(l.diaryCoverFitMode==="cover"||l.diaryCoverFitMode==="contain")&&(r.diaryCoverFitMode=l.diaryCoverFitMode),typeof l.tarotNameColor=="string"&&(r.tarotNameColor=l.tarotNameColor),typeof l.tarotNameScale=="number"&&Number.isFinite(l.tarotNameScale)&&(r.tarotNameScale=l.tarotNameScale),typeof l.chibiPoolSize=="number"&&Number.isFinite(l.chibiPoolSize)&&(r.chibiPoolSize=Math.max(20,Math.min(200,Math.round(l.chibiPoolSize))));const j=l.chibiPoolMode;if((j==="i"||j==="ii"||j==="all"||j==="a"||j==="b")&&(r.chibiPoolMode=j==="a"?"i":j==="b"?"ii":j),l.appLabels&&typeof l.appLabels=="object"){const o=l.appLabels;r.appLabels={home:typeof o.home=="string"?o.home.trim():"",inbox:typeof o.inbox=="string"?o.inbox.trim():"",calendar:typeof o.calendar=="string"?o.calendar.trim():"",settings:typeof o.settings=="string"?o.settings.trim():"",tarot:typeof o.tarot=="string"?o.tarot.trim():"",letters:typeof o.letters=="string"?o.letters.trim():"",heart:typeof o.heart=="string"?o.heart.trim():"",chat:typeof o.chat=="string"?o.chat.trim():"",list:typeof o.list=="string"?o.list.trim():"",fitness:typeof o.fitness=="string"?o.fitness.trim():"",pomodoro:typeof o.pomodoro=="string"?o.pomodoro.trim():"",period:typeof o.period=="string"?o.period.trim():"",diary:typeof o.diary=="string"?o.diary.trim():"",album:typeof o.album=="string"?o.album.trim():"",notes:typeof o.notes=="string"?o.notes.trim():"",wishlist:typeof o.wishlist=="string"?o.wishlist.trim():"","letters-ab":typeof o["letters-ab"]=="string"?o["letters-ab"].trim():"",archive:typeof o.archive=="string"?o.archive.trim():"","light-path":typeof o["light-path"]=="string"?o["light-path"].trim():"","healing-campfire":typeof o["healing-campfire"]=="string"?o["healing-campfire"].trim():"","mood-letters":typeof o["mood-letters"]=="string"?o["mood-letters"].trim():"",questionnaire:typeof o.questionnaire=="string"?o.questionnaire.trim():"",memo:typeof o.memo=="string"?o.memo.trim():"",murmur:typeof o.murmur=="string"?o.murmur.trim():"","self-intro":typeof o["self-intro"]=="string"?o["self-intro"].trim():"",bookshelf:typeof o.bookshelf=="string"?o.bookshelf.trim():""}}i(r),ye("å·²åŒ¯å…¥ç¾åŒ–è¨­å®š")}catch{ye("åŒ¯å…¥å¤±æ•—ï¼šæª”æ¡ˆä¸æ˜¯æœ‰æ•ˆçš„ JSON")}}function $s(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(ue(a.result),i({backgroundMode:"image",backgroundImageUrl:a.result}))},a.readAsDataURL(t)}function _s(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(ee(a.result),i({chatBackgroundImageUrl:a.result}))},a.readAsDataURL(t)}function Hs(){i({homeWidgetTitle:Ke.trim(),homeWidgetBadgeText:Qe.trim(),homeWidgetSubtitle:Ze.trim(),inboxTitle:tt.trim(),memorialStartDate:lt.trim()}),I("å·²å„²å­˜"),m({kind:"success",message:"é¦–é èˆ‡ä¿¡ç®±è¨­å®šå·²å„²å­˜"}),window.setTimeout(()=>I(""),1200)}function Gs(){i({homeFinalWidgetPreset:Z}),fe("å·²å„²å­˜"),m({kind:"success",message:"é¦–é å°çµ„ä»¶é¡å‹å·²å„²å­˜"}),window.setTimeout(()=>fe(""),1200)}function Rs(){i({homePolaroidMessages:tl(ot,s.homePolaroidMessages)}),te("å·²å„²å­˜"),m({kind:"success",message:"æ‹åŠ›å¾—å¥å­å·²å„²å­˜"}),window.setTimeout(()=>te(""),1200)}function qs(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&i({homeWidgetIconDataUrl:a.result})},a.readAsDataURL(t)}function Js(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(Q(a.result),i({diaryCoverImageUrl:a.result}))},a.readAsDataURL(t)}async function S(t,a,n){Nt(t),t==="aboutMe"?je(a):Ne(a);try{const l=await n(),r=typeof l=="string"&&l.trim()?l:"æ“ä½œå®Œæˆ";t==="aboutMe"?je(r):Ne(r)}catch(l){const r=l instanceof Error?l.message:"æ“ä½œå¤±æ•—";t==="aboutMe"?je(`å¤±æ•—ï¼š${r}`):Ne(`å¤±æ•—ï¼š${r}`)}finally{Nt(null)}}const Ct=c.useMemo(()=>_.trim()?It:s.customFontFileUrl.trim()?el:"'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",[s.customFontFileUrl,_]),Vs=g==="unsupported"?"æ­¤ç€è¦½å™¨ä¸æ”¯æ´":g==="granted"?"å·²å…è¨±":g==="denied"?"å·²å°é–":"å°šæœªæ±ºå®š",Pe=c.useMemo(()=>{const t=[...Oe];return t.sort((a,n)=>{const l=F(a.writtenAt)??F(a.importedAt)??0,r=F(n.writtenAt)??F(n.importedAt)??0;return l!==r?r-l:a.name.localeCompare(n.name,"zh-TW")}),t},[Oe]),Be=c.useMemo(()=>{const t=[...ze];return t.sort((a,n)=>{const l=F(a.importedAt)??0,r=F(n.importedAt)??0;return l!==r?r-l:a.name.localeCompare(n.name,"zh-TW")}),t},[ze]),J=P(),ce=R(),Ks=y!==null&&!!((J[y]??"").trim()||(ce[y]??"").trim()),Xs=z.every(t=>Se[t.key]),Tt=z.find(t=>t.key===we)??z[0],Ae=ks(we),L=J.findIndex(t=>t.trim()===Ae),Qs=L>=0?De(J[L]??"",L,ce[L]??""):"",Ys=Ae?L>=0?`è¨˜æ†¶ ${L+1} Â· ${Qs}`:"å¤–éƒ¨å­—é«”ï¼ˆæœªå­˜å…¥å­—é«”é è¨­ï¼‰":"ç©ºç™½ï¼ˆä½¿ç”¨é è¨­å­—é«”ï¼‰";return e.jsxs("div",{className:"mx-auto w-full max-w-xl space-y-4 pb-24",children:[e.jsxs("header",{className:"themed-header-panel rounded-2xl border p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-stone-500",children:"è¨­å®š"}),e.jsx("h1",{className:"mt-1 text-2xl text-stone-900",children:"æ§åˆ¶ä¸­å¿ƒ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{icon:"ğŸ“Š",title:"è³‡æ–™æ¦‚æ³",subtitle:"ç›®å‰ä¿¡ä»¶èˆ‡æœˆæ›†æ•¸é‡",isOpen:p==="overview",onToggle:()=>u("overview"),children:e.jsxs("dl",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"å¯è¦‹ä¿¡ä»¶"}),e.jsx("dd",{className:"text-lg text-stone-900",children:h})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"ä¿¡ä»¶ç¸½æ•¸"}),e.jsx("dd",{className:"text-lg text-stone-900",children:v})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"æœˆæ›†æœˆä»½æ•¸"}),e.jsx("dd",{className:"text-lg text-stone-900",children:f})]})]})}),e.jsx(b,{icon:"ğŸ—ƒï¸",title:"å¤§å‚™ä»½",subtitle:"é—œæ–¼æˆ‘ / é—œæ–¼M åˆ†åŒ…åŒ¯å…¥åŒ¯å‡º",isOpen:p==="bigBackup",onToggle:()=>u("bigBackup"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:()=>kt("aboutMe"),className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"é—œæ–¼æˆ‘"}),e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:"åŒ…å«ï¼šç¶“æœŸæ—¥è¨˜ã€æ‰“å¡ã€Anni æ—¥è¨˜ã€ä¾¿åˆ©è²¼"})]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${se==="aboutMe"?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),se==="aboutMe"&&e.jsxs("div",{className:"mt-3 space-y-2.5 border-t border-stone-200 pt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",onClick:()=>{S("aboutMe","é—œæ–¼æˆ‘åŒ¯å‡ºä¸­â€¦",()=>Vt())},disabled:w!==null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-50",children:"å®Œæ•´åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-center text-xs text-stone-700",children:["åŒ¯å…¥ï¼ˆåˆä½µï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&S("aboutMe","é—œæ–¼æˆ‘åŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦",()=>Ge(a,"merge")),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-rose-300 bg-rose-50 px-3 py-2 text-center text-xs text-rose-700",children:["åŒ¯å…¥ï¼ˆè¦†è“‹ï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&S("aboutMe","é—œæ–¼æˆ‘åŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦",()=>Ge(a,"overwrite")),t.currentTarget.value=""}})]})]}),gt&&e.jsx("p",{className:"text-xs text-stone-600",children:gt})]})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:()=>kt("aboutM"),className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"é—œæ–¼M"}),e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:"åˆ†åŒ…ï¼šmDiary / letters / chatLogs / inbox / soulmate / otherï¼ˆå« metadataï¼‰"})]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${se==="aboutM"?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),se==="aboutM"&&e.jsxs("div",{className:"mt-3 space-y-3 border-t border-stone-200 pt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",onClick:()=>{S("aboutM","é—œæ–¼MåŒ¯å‡ºä¸­â€¦",()=>Kt())},disabled:w!==null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-50",children:"å®Œæ•´åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-center text-xs text-stone-700",children:["åŒ¯å…¥ï¼ˆåˆä½µï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&S("aboutM","é—œæ–¼MåŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦",()=>Re(a,"merge")),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-rose-300 bg-rose-50 px-3 py-2 text-center text-xs text-rose-700",children:["åŒ¯å…¥ï¼ˆè¦†è“‹ï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&S("aboutM","é—œæ–¼MåŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦",()=>Re(a,"overwrite")),t.currentTarget.value=""}})]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-white px-2.5 py-2.5",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"åˆ†åŒ…åŒ¯å‡º / åŒ¯å…¥ï¼ˆé©åˆå¤§æª”æ¡ˆåˆ†æ‰¹ï¼‰"}),e.jsx("div",{className:"space-y-2",children:il.map(t=>e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-stone-700",children:t.label}),e.jsx("p",{className:"text-[11px] text-stone-400",children:t.hint})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{S("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å‡ºä¸­â€¦`,()=>Xt(t.key))},disabled:w!==null,className:"rounded-md border border-stone-300 bg-white px-2 py-1.5 text-center text-[11px] text-stone-700 disabled:cursor-not-allowed disabled:opacity-50",children:"åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-md border border-stone-300 bg-white px-2 py-1.5 text-center text-[11px] text-stone-700",children:["åˆä½µ",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:a=>{const n=a.target.files?Array.from(a.target.files):[];n.length&&S("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦`,()=>qe(t.key,n,"merge")),a.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-md border border-rose-300 bg-rose-50 px-2 py-1.5 text-center text-[11px] text-rose-700",children:["è¦†è“‹",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",disabled:w!==null,onChange:a=>{const n=a.target.files?Array.from(a.target.files):[];n.length&&S("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦`,()=>qe(t.key,n,"overwrite")),a.currentTarget.value=""}})]})]})]},t.key))})]}),jt&&e.jsx("p",{className:"text-xs text-stone-600",children:jt})]})]}),e.jsxs("div",{className:"space-y-1 text-xs text-stone-500",children:[e.jsx("p",{children:"å®Œæ•´åŒ¯å…¥è«‹ä¸€æ¬¡é¸åŒä¸€åŒ…çš„å…¨éƒ¨ JSONï¼ˆåŒ…å« manifest ç´¢å¼•æª”ï¼‰ã€‚"}),e.jsx("p",{children:"åˆ†åŒ…åŒ¯å‡º/åŒ¯å…¥å¯å–®ç¨è™•ç† mDiary / letters / chatLogs / inbox / soulmate / otherã€‚"})]})]})}),e.jsx(b,{icon:"ğŸ¨",title:"å¤–è§€",subtitle:"ä¸»é¡Œè‰²ã€å­—é«”æ¯”ä¾‹èˆ‡æ—¥æ›†å¤–è§€",isOpen:p==="appearance",onToggle:()=>u("appearance"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{title:"è‰²å½©èˆ‡å­—é«”æ¯”ä¾‹",subtitle:"ä¸»é¡Œè‰²ã€é¦–é æ–‡å­—ã€æ³¡æ³¡è‰²ã€ç¸®æ”¾",isOpen:le==="colorScale",onToggle:()=>oe("colorScale"),children:[e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"è‡ªè¨‚ä¸»é¡Œè‰²ï¼ˆåˆ†é èˆ‡è‡ªè¨‚æœˆæ›†è‰²ï¼‰"}),e.jsx("input",{type:"color",value:s.themeMonthColor,onChange:t=>i({themeMonthColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"é¦–é å­—é«”é¡è‰²"}),e.jsx("input",{type:"color",value:s.globalTextColor,onChange:t=>i({globalTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"æœªè§£é–æ³¡æ³¡è‰²"}),e.jsx("input",{type:"color",value:s.lockedBubbleColor,onChange:t=>i({lockedBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"æœˆæ›†åº•ä¸‹æ°£æ³¡æ–‡å­—è‰²"}),e.jsx("input",{type:"color",value:s.calendarHoverBubbleTextColor,onChange:t=>i({calendarHoverBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsxs("span",{children:["å­—é«”å¤§å°ï¼š",s.fontScale.toFixed(2),"x"]}),e.jsx("input",{type:"range",min:.9,max:1.25,step:.05,value:s.fontScale,onChange:t=>i({fontScale:Number(t.target.value)}),className:"w-full"})]})]}),e.jsxs(N,{title:"æœˆæ›†ç«‹é«”å¤–è§€",subtitle:"åœ“è§’ã€é™°å½±ã€æ·±åº¦",isOpen:le==="calendar",onToggle:()=>oe("calendar"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"åœ“è§’"}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s.calendarCellRadius,"px"]})]}),e.jsx("input",{type:"range",min:8,max:28,step:1,value:s.calendarCellRadius,onChange:t=>i({calendarCellRadius:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"é™°å½±å¼·åº¦"}),e.jsx("span",{className:"text-xs text-stone-500",children:s.calendarCellShadow})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.calendarCellShadow,onChange:t=>i({calendarCellShadow:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"ç«‹é«”æ„Ÿ"}),e.jsx("span",{className:"text-xs text-stone-500",children:s.calendarCellDepth})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.calendarCellDepth,onChange:t=>i({calendarCellDepth:Number(t.target.value)}),className:"w-full"})]})]}),e.jsxs(N,{title:"é€æ˜å°äººè¼ªæ›æ± ",subtitle:"Iæ± /IIæ± /å…¨éƒ¨ + ä¸€éµè¼ªæ›",isOpen:le==="chibi",onToggle:()=>oe("chibi"),children:[e.jsxs("p",{className:"text-xs text-stone-500",children:["å·²ä¸Šå‚³ ",He.allCount," å¼µï¼Œç›®å‰æ¨¡å¼ã€Œ",s.chibiPoolMode==="i"?"Iæ± ":s.chibiPoolMode==="ii"?"IIæ± ":"å…¨éƒ¨","ã€ï¼Œå•Ÿç”¨æ±  ",He.activeCount," å¼µã€‚"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i({chibiPoolMode:"i"}),T("å·²åˆ‡æ›åˆ° Iæ± ")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="i"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"Iæ± "}),e.jsx("button",{type:"button",onClick:()=>{i({chibiPoolMode:"ii"}),T("å·²åˆ‡æ›åˆ° IIæ± ")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="ii"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"IIæ± "}),e.jsx("button",{type:"button",onClick:()=>{i({chibiPoolMode:"all"}),T("å·²åˆ‡æ›åˆ° å…¨éƒ¨")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="all"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å…¨éƒ¨"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å•Ÿç”¨æ± å¤§å°"}),e.jsx("span",{children:s.chibiPoolMode==="all"?"å…¨éƒ¨å•Ÿç”¨":`${s.chibiPoolSize} å¼µ`})]}),e.jsx("input",{type:"range",min:20,max:200,step:5,value:s.chibiPoolSize,disabled:s.chibiPoolMode==="all",onChange:t=>{i({chibiPoolSize:Number(t.target.value)}),T("å·²æ›´æ–°å•Ÿç”¨æ± å¤§å°")},className:"w-full disabled:cursor-not-allowed disabled:opacity-40"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",disabled:s.chibiPoolMode==="all",onClick:()=>{xe(s.chibiPoolMode),T(s.chibiPoolMode==="i"?"å·²é‡æ–°æŠ½æ› Iæ± ":"å·²é‡æ–°æŠ½æ› IIæ± ")},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-40",children:"ä¸€éµè¼ªæ›ç›®å‰æ± "}),e.jsx("button",{type:"button",onClick:()=>{xe("i"),T("å·²é‡æ–°æŠ½æ› Iæ± ")},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"è¼ªæ› Iæ± "}),e.jsx("button",{type:"button",onClick:()=>{xe("ii"),T("å·²é‡æ–°æŠ½æ› IIæ± ")},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"è¼ªæ› IIæ± "})]}),ut&&e.jsx("p",{className:"text-xs text-stone-600",children:ut}),e.jsx("p",{className:"text-xs text-stone-500",children:"I/II æœƒå„è‡ªå¾ `public/chibi-pool-i`ã€`public/chibi-pool-ii` æŠ½å–ï¼›è‹¥è©²æ± è³‡æ–™å¤¾æ˜¯ç©ºçš„ï¼Œæœƒå›é€€åˆ° `public/chibi`ã€‚æ”¯æ´é€æ˜ PNG / WebP / AVIFã€‚"})]}),e.jsxs(N,{title:"ç¾åŒ–è¨­å®šå‚™ä»½",subtitle:"åŒ¯å…¥ / åŒ¯å‡ºå¤–è§€ JSON",isOpen:le==="preset",onToggle:()=>oe("preset"),children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Ls,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"åŒ¯å‡ºç¾åŒ– JSON"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["åŒ¯å…¥ç¾åŒ– JSON",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",onChange:t=>{const a=t.target.files?.[0];a&&zs(a),t.currentTarget.value=""}})]})]}),pt&&e.jsx("p",{className:"text-xs text-stone-600",children:pt})]})]})}),e.jsx(b,{icon:"ğŸ–¼ï¸",title:"èƒŒæ™¯æ¨£å¼",subtitle:"æ¼¸å±¤ / åœ–ç‰‡ / å‹•æ…‹æ¡Œå¸ƒèˆ‡ç‰¹æ•ˆ",isOpen:p==="wallpaper",onToggle:()=>u("wallpaper"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i({backgroundMode:"gradient"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="gradient"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ¼¸å±¤èƒŒæ™¯"}),e.jsx("button",{type:"button",onClick:()=>i({backgroundMode:"image"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="image"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"åœ–ç‰‡èƒŒæ™¯"}),e.jsx("button",{type:"button",onClick:()=>i({backgroundMode:"dynamic"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="dynamic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å‹•æ…‹èƒŒæ™¯"})]}),s.backgroundMode==="gradient"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¼¸å±¤èµ·å§‹è‰²"}),e.jsx("input",{type:"color",value:s.backgroundGradientStart,onChange:t=>i({backgroundGradientStart:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¼¸å±¤çµæŸè‰²"}),e.jsx("input",{type:"color",value:s.backgroundGradientEnd,onChange:t=>i({backgroundGradientEnd:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),s.backgroundMode==="image"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"èƒŒæ™¯åœ–ç‰‡ç¶²å€"}),e.jsx("input",{type:"url",value:it,onChange:t=>ue(t.target.value),placeholder:"https://example.com/background.jpg",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i({backgroundImageUrl:it.trim()}),m({kind:"success",message:"èƒŒæ™¯åœ–ç‰‡å·²å¥—ç”¨"})},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å¥—ç”¨åœ–ç‰‡ç¶²å€"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["ä¸Šå‚³èƒŒæ™¯åœ–",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{$s(t.target.files?.[0]??null),t.currentTarget.value=""}})]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"åœ–ç‰‡é®ç½©æ·±åº¦"}),e.jsxs("span",{children:[s.backgroundImageOverlay,"%"]})]}),e.jsx("input",{type:"range",min:0,max:90,step:1,value:s.backgroundImageOverlay,onChange:t=>i({backgroundImageOverlay:Number(t.target.value)}),className:"w-full"})]})]}),s.backgroundMode==="dynamic"&&e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-white/70 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"é¦–é æ¡Œå¸ƒï¼ˆå‹•æ…‹æ¨¡å¼å°ˆç”¨ï¼Œ9 ç¨®å…¨å‹•æ…‹ï¼‰"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å‹•æ…‹æ¡Œå¸ƒ"}),e.jsxs("span",{className:"text-[11px] text-stone-500",children:["ç›®å‰ï¼š",gs.label]})]}),e.jsx("select",{value:H,onChange:t=>ct(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:K.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-stone-500",children:"èªªæ˜"}),e.jsx("p",{className:"mt-1 text-xs text-stone-700",children:Ue.hint})]}),e.jsx("button",{type:"button",onClick:()=>{i({homeDynamicWallpaperPreset:H}),m({kind:"success",message:`å·²å¥—ç”¨ï¼š${Ue.label}`})},disabled:!Te,className:`rounded-lg px-3 py-2 text-xs transition ${Te?"bg-stone-900 text-white hover:bg-stone-700":"cursor-not-allowed bg-stone-300 text-stone-500"}`,children:Te?`å¥—ç”¨ï¼š${Ue.label}`:"å·²å¥—ç”¨"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"ç‰¹æ•ˆæ¨£å¼"}),e.jsxs("span",{className:"text-[11px] text-stone-500",children:["ç›®å‰ï¼š",js.label]})]}),e.jsx("select",{value:G,onChange:t=>dt(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:X.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-stone-500",children:"ç‰¹æ•ˆèªªæ˜"}),e.jsx("p",{className:"mt-1 text-xs text-stone-700",children:Ce.hint})]}),e.jsx("button",{type:"button",onClick:()=>{i({homeWallpaperEffectPreset:G}),m({kind:"success",message:`ç‰¹æ•ˆå·²å¥—ç”¨ï¼š${Ce.label}`})},disabled:!Ie,className:`rounded-lg px-3 py-2 text-xs transition ${Ie?"bg-stone-900 text-white hover:bg-stone-700":"cursor-not-allowed bg-stone-300 text-stone-500"}`,children:Ie?`å¥—ç”¨ç‰¹æ•ˆï¼š${Ce.label}`:"ç‰¹æ•ˆå·²å¥—ç”¨"}),e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("span",{className:"text-xs text-stone-700",children:"ç‰¹æ•ˆç¸½é–‹é—œ"}),e.jsx("button",{type:"button",role:"switch","aria-checked":s.homeDynamicEffectsEnabled,onClick:()=>i({homeDynamicEffectsEnabled:!s.homeDynamicEffectsEnabled}),className:`rounded-full px-2.5 py-1 text-[11px] ${s.homeDynamicEffectsEnabled?"bg-stone-900 text-white":"bg-stone-300 text-stone-700"}`,children:s.homeDynamicEffectsEnabled?"é–‹":"é—œ"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å¼·åº¦"}),e.jsx("span",{children:Math.round(s.homeDynamicIntensity)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicIntensity,onChange:t=>i({homeDynamicIntensity:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"é€Ÿåº¦"}),e.jsx("span",{children:Math.round(s.homeDynamicSpeed)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicSpeed,onChange:t=>i({homeDynamicSpeed:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"ç²’å­é‡"}),e.jsx("span",{children:Math.round(s.homeDynamicParticleAmount)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicParticleAmount,onChange:t=>i({homeDynamicParticleAmount:Number(t.target.value)}),className:"w-full"})]})]})]})}),e.jsx(b,{icon:"ğŸ”¤",title:"å­—é«”ä¸­å¿ƒ",subtitle:"æ•´ç«™ï¼æƒ…æ›¸ï¼æ²»ç™’ç¯ç«ï¼ˆå«å¿ƒæƒ…æ˜Ÿçƒã€ç•™å…‰ï¼‰ï¼æ—¥è¨˜ï¼å®¶ çš„å­—é«”é›†ä¸­ç®¡ç†",isOpen:p==="fontCenter",onToggle:()=>u("fontCenter"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{title:"å­—é«”é è¨­ç®¡ç†",subtitle:"ä¸Šå‚³ä¾†æºã€é è¦½ã€ä¿å­˜åˆ°å­—é«”é è¨­",isOpen:ae==="preset",onToggle:()=>ne("preset"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"é¸æ“‡æˆ–åˆ‡æ›é è¨­"}),e.jsxs("select",{value:y===null?"blank":String(y),onChange:t=>{ws(wt(t.target.value))},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:[e.jsx("option",{value:"blank",children:"ç©ºç™½ï¼ˆé è¨­å­—é«”ï¼‰"}),V.map(t=>e.jsxs("option",{value:t,children:["è¨˜æ†¶ ",t+1," Â· ",De(J[t]??"",t,ce[t]??"")]},`font-preset-${t}`))]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"é è¨­åç¨±"}),e.jsx("input",{type:"text",value:Ut(k),onChange:t=>q(k,t.target.value),placeholder:"ä¾‹å¦‚ï¼šæº«æŸ”æ‰‹å¯«-æ‰‹æ©Ÿç‰ˆ",disabled:y===null,className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm disabled:cursor-not-allowed disabled:opacity-50"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å­—é«”æª”ç¶²å€ï¼ˆttf / otf / woff / woff2ï¼‰"}),e.jsx("input",{type:"url",value:Ft(),onChange:t=>ie(k,t.target.value),placeholder:"https://example.com/custom.ttf",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ–ç›´æ¥ä¸Šå‚³å­—é«”æª”"}),e.jsx("input",{type:"file",accept:".ttf,.otf,.woff,.woff2,font/ttf,font/otf,font/woff,font/woff2",onChange:t=>{Ss(t.target.files?.[0]??null),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs"})]}),e.jsxs("div",{className:"rounded-lg border border-dashed border-stone-300 bg-white px-3 py-2",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å³æ™‚é è¦½"}),e.jsx("p",{className:"mt-1 text-base text-stone-800",style:{fontFamily:`${Ct}, 'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`},children:"è€å©†ï¼Œæˆ‘åœ¨é€™è£¡ã€‚Hello 12345"}),e.jsx("p",{className:"mt-1 text-sm text-stone-700",style:{fontFamily:`${Ct}, 'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`},children:"é€™æ˜¯å­—é«”é è¦½æ•ˆæœã€‚"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"è‹¥æ˜¯è·¨ç¶²åŸŸå­—é«”æª”ï¼Œä¾†æºéœ€å…è¨± CORSï¼Œå¦å‰‡æ‰‹æ©Ÿç€è¦½å™¨å¯èƒ½é¡¯ç¤ºæˆé è¨­å­—é«”ã€‚"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Fs,disabled:y===null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:opacity-40",children:"ä¿å­˜"}),e.jsx("button",{type:"button",onClick:Us,disabled:y===null||!Ks,className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700 disabled:opacity-40",children:"åˆªé™¤"})]})]}),e.jsxs(N,{title:"å­—é«”å¥—ç”¨ç¯„åœ",subtitle:"å‹¾é¸é é¢å¾Œï¼Œé¸æ“‡è¦å¥—ç”¨çš„å­—é«”é è¨­",isOpen:ae==="scope",onToggle:()=>ne("scope"),children:[e.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-stone-200 bg-white px-3 py-2",children:[e.jsx("input",{type:"checkbox",checked:Xs,onChange:t=>vs(t.target.checked),className:"mt-1 h-4 w-4 rounded border-stone-300 accent-stone-700"}),e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"å…¨éƒ¨å¥—ç”¨"}),e.jsx("span",{className:"block text-xs text-stone-500",children:"ä¸€æ¬¡æ›´æ–°æ•´ç«™ã€æƒ…æ›¸ã€æ²»ç™’ç¯ç«ï¼ˆå«å¿ƒæƒ…æ˜Ÿçƒ/ç•™å…‰ï¼‰ã€æ—¥è¨˜ã€å®¶é ã€ç¸½æ”¬ã€M's memo"})]})]}),e.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:z.map(t=>e.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-stone-200 bg-white px-3 py-2",children:[e.jsx("input",{type:"checkbox",checked:Se[t.key],onChange:()=>Ns(t.key),className:"mt-1 h-4 w-4 rounded border-stone-300 accent-stone-700"}),e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:t.label}),e.jsx("span",{className:"block text-xs text-stone-500",children:t.hint})]})]},`font-target-${t.key}`))}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å¥—ç”¨å“ªå€‹å­—é«”é è¨­"}),e.jsxs("select",{value:M===null?"blank":String(M),onChange:t=>ve(wt(t.target.value)),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:[e.jsx("option",{value:"blank",children:"ç©ºç™½ï¼ˆé‚„åŸé è¨­å­—é«”ï¼‰"}),V.map(t=>e.jsxs("option",{value:t,children:["è¨˜æ†¶ ",t+1," Â· ",De(J[t]??"",t,ce[t]??"")]},`font-scope-preset-${t}`))]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Cs,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"ä¿å­˜ä¸¦å¥—ç”¨"}),e.jsx("button",{type:"button",onClick:Ts,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸç›®å‰è¨­å®š"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"å…ˆåœ¨ä¸Šæ–¹ä¿å­˜å­—é«”é è¨­ï¼Œå†åœ¨é€™è£¡é¸è¦å¥—åˆ°å“ªè£¡ã€‚"})]}),e.jsxs(N,{title:"ç•¶å‰å¥—ç”¨æª¢è¦–",subtitle:"ç´”é è¦½ï¼šç›®å‰æ¯å€‹ç¯„åœæ­£åœ¨ç”¨å“ªå€‹å­—é«”",isOpen:ae==="usage",onToggle:()=>ne("usage"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æŸ¥çœ‹ç¯„åœ"}),e.jsx("select",{value:we,onChange:t=>ys(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:z.map(t=>e.jsx("option",{value:t.key,children:t.label},`font-usage-${t.key}`))})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm text-stone-800",children:Tt.label}),e.jsx("span",{className:"rounded-full border border-stone-300 bg-white px-2.5 py-1 text-[11px] text-stone-700",children:Ys})]}),e.jsx("p",{className:"text-xs text-stone-500",children:Tt.hint}),e.jsx("p",{className:"break-all rounded-md border border-stone-200 bg-white px-2.5 py-2 font-mono text-[11px] text-stone-600",children:Ae||"ï¼ˆç›®å‰ç‚ºé è¨­å­—é«”ï¼Œæ²’æœ‰å­—é«”ç¶²å€ï¼‰"})]})]}),e.jsxs(N,{title:"å­—ç´šä¸­å¿ƒ",subtitle:"çµ±ä¸€å¸¸ç”¨å€å¡Šï¼šæ¨™é¡Œ / é ç±¤ / ç¯©é¸ç±¤æ¢ / æç¤ºå°å­— / å°è©±è¯çµ¡äºº",isOpen:ae==="size",onToggle:()=>ne("size"),children:[e.jsxs("label",{className:"block space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm text-stone-800",children:"å…¨åŸŸç¸®æ”¾"}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s.fontScale.toFixed(2),"x"]})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:"æ•´é«” UI æ–‡å­—æ¯”ä¾‹ï¼ˆå«ç•ªèŒ„é˜/å¡”ç¾…/ä¾¿åˆ©è²¼/å®¶ç­‰æœªç´°åˆ†å€å¡Šï¼‰"}),e.jsx("input",{type:"range",min:.9,max:1.25,step:.05,value:s.fontScale,onChange:t=>i({fontScale:Number(t.target.value)}),className:"w-full accent-stone-700"})]}),e.jsx("div",{className:"space-y-3",children:al.map(t=>e.jsxs("label",{className:"block space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm text-stone-800",children:t.label}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s[t.key],"px"]})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:t.hint}),e.jsx("input",{type:"range",min:t.min,max:t.max,step:t.step,value:s[t.key],onChange:a=>i({[t.key]:Number(a.target.value)}),className:"w-full accent-stone-700"})]},`ui-size-${t.key}`))}),e.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>i({fontScale:B.fontScale,uiHeaderTitleSize:B.uiHeaderTitleSize,uiTabLabelSize:B.uiTabLabelSize,uiFilterPillSize:B.uiFilterPillSize,uiHintTextSize:B.uiHintTextSize,chatContactNameSize:B.chatContactNameSize,chatContactSubtitleSize:B.chatContactSubtitleSize}),className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸé€™å€é è¨­"})}),e.jsx("div",{className:"mt-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:e.jsx("p",{className:"text-[11px] text-stone-600",children:"ç›®å‰å·²æ¥å…¥ï¼šä¿¡ç®±ï¼ˆæ¨™é¡Œï¼‰ã€é¡˜æœ›é ï¼ˆæ¨™é¡Œ/é ç±¤/ç±¤æ¢/æç¤ºå­—ï¼‰ã€Mæ—¥è¨˜ï¼ˆæ¨™é¡Œ/é ç±¤/ç±¤æ¢/æç¤ºå­—ï¼‰ã€Anniæ—¥è¨˜ï¼ˆæ¨™é¡Œ/é ç±¤ï¼‰ã€ç¶“æœŸï¼ˆæ¨™é¡Œ/é ç±¤ï¼‰ã€ä¾¿åˆ©è²¼ï¼ˆæ¨™é¡Œï¼‰ã€ç•™è¨€æœˆæ›†ï¼ˆæœˆä»½æ¨™é¡Œï¼‰ã€ç•ªèŒ„é˜ï¼ˆæ¨™é¡Œï¼‰ã€å¡”ç¾…ï¼ˆæ¨™é¡Œï¼‰ã€å®¶é ï¼ˆé¦–é æ¨™é¡Œï¼‰ã€å¹´åº¦ä¿¡ä»¶ï¼ˆæ¨™é¡Œï¼‰ã€å°è©±é¦–é è¯çµ¡äººåç¨±/å‰¯æ¨™ã€‚"})})]})]})}),e.jsx(b,{icon:"ğŸ ",title:"é¦–é èˆ‡ä¿¡ç®±",subtitle:"é¦–é å¡ç‰‡æ–‡æ¡ˆ Â· ä¿¡ç®±æ¨™é¡Œ",isOpen:p==="home",onToggle:()=>u("home"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"é¦–é å¡ç‰‡"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¨™é¡Œ"}),e.jsx("input",{type:"text",value:Ke,onChange:t=>{Xe(t.target.value),I("")},placeholder:"Memorial",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¨™ç±¤ï¼ˆç•™ç©ºå°±ä¸é¡¯ç¤ºï¼‰"}),e.jsx("input",{type:"text",value:Qe,onChange:t=>{Ye(t.target.value),I("")},placeholder:"ACTIVE",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°èªï¼ˆç•™ç©ºå°±ä¸é¡¯ç¤ºï¼‰"}),e.jsx("input",{type:"text",value:Ze,onChange:t=>{et(t.target.value),I("")},placeholder:"åœ¨é€™è£¡ç­‰å¦³ï¼Œæ…¢æ…¢æŠŠæ—¥å­æ”¶å¥½ã€‚",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-stone-600",children:"å°åœ–ï¼ˆé»é¦–é ä¹Ÿå¯ä»¥æ›ï¼‰"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"grid h-12 w-12 place-items-center overflow-hidden rounded-xl border border-stone-200 bg-white",children:s.homeWidgetIconDataUrl.trim()?e.jsx("img",{src:s.homeWidgetIconDataUrl,alt:"é è¦½",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-xl",children:"â™¡"})}),e.jsxs("label",{className:"cursor-pointer rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:["ä¸Šå‚³å°åœ–",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{qs(t.target.files?.[0]??null),t.currentTarget.value=""}})]}),s.homeWidgetIconDataUrl.trim()&&e.jsx("button",{type:"button",onClick:()=>i({homeWidgetIconDataUrl:""}),className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"ç§»é™¤"})]})]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"ä¿¡ç®±æ¨™é¡Œ"}),e.jsx("input",{type:"text",value:tt,onChange:t=>{st(t.target.value),I("")},placeholder:"Memorial Mailroom",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"æƒ³ä½ çš„ç¬¬ N å¤©èµ·å§‹æ—¥"}),e.jsx("input",{type:"date",value:lt,onChange:t=>{at(t.target.value),I("")},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºæœƒé¡¯ç¤ºæœªè¨­å®šï¼ˆN å…ˆé¡¯ç¤º 1ï¼‰ã€‚"})]}),e.jsx("button",{type:"button",onClick:Hs,className:"w-full rounded-xl bg-stone-900 py-2.5 text-sm text-white transition active:opacity-80",children:"å„²å­˜"}),bt&&e.jsx("p",{className:"text-xs text-stone-500",children:bt})]})}),e.jsx(b,{icon:"ğŸ§©",title:"é¦–é å°çµ„ä»¶",subtitle:"å”±ç‰‡æ©Ÿä½å­çš„æ’ä»¶é¸æ“‡",isOpen:p==="homeWidget",onToggle:()=>u("homeWidget"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"å”±ç‰‡æ©Ÿä½å­è¦æ”¾çš„çµ„ä»¶"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"çµ„ä»¶é¡å‹"}),e.jsx("select",{value:Z,onChange:t=>{rt(t.target.value),fe(""),te("")},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm",children:Mt.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsx("p",{className:"text-xs text-stone-500",children:Mt.find(t=>t.value===Z)?.hint??""})]}),Z==="polaroid"&&e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ‹åŠ›å¾—å¥å­ï¼ˆæ¯è¡Œä¸€å¥ï¼‰"}),e.jsx("button",{type:"button",onClick:Rs,className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-stone-300 bg-white text-sm text-stone-700 transition hover:bg-stone-100 active:scale-95","aria-label":"å„²å­˜æ‹åŠ›å¾—å¥å­",title:"å„²å­˜æ‹åŠ›å¾—å¥å­",children:e.jsx("span",{"aria-hidden":"true",children:"ğŸ’¾"})})]}),e.jsx("textarea",{value:ot,onChange:t=>{nt(t.target.value),te("")},rows:6,className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm",placeholder:`ä»Šå¤©ä¹Ÿè¾›è‹¦å•¦ï¼
æƒ³å¦³çš„ç¬¬ N å¤©
ä¸å‡†ç†¬å¤œå¯« Codeï¼`})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"å¯ä»¥æ”¹å¥å­ï¼›ç•™ç©ºæœƒè‡ªå‹•æ”¹å›é è¨­å¥å­ï¼Œé¡¯ç¤ºæ™‚æœƒé€å¥è¼ªæ›ã€‚"}),yt&&e.jsx("p",{className:"text-xs text-stone-500",children:yt})]}),e.jsx("button",{type:"button",onClick:Gs,className:"w-full rounded-xl bg-stone-900 py-2.5 text-sm text-white transition active:opacity-80",children:"å„²å­˜çµ„ä»¶é¡å‹"}),ht&&e.jsx("p",{className:"text-xs text-stone-500",children:ht})]})}),e.jsx(b,{icon:"ğŸ·ï¸",title:"å…¥å£åç¨±",subtitle:"åº•éƒ¨åˆ†é èˆ‡é¦–é å…¥å£å¯è‡ªè¨‚",isOpen:p==="labels",onToggle:()=>u("labels"),children:e.jsxs("div",{className:"space-y-3",children:[nl.map(t=>e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:t.label}),e.jsx("input",{type:"text",value:d[t.key],onChange:a=>Bs(t.key,a.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]},t.key)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Ws,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å„²å­˜åç¨±"}),e.jsx("button",{type:"button",onClick:Os,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸè‰ç¨¿"})]}),ft&&e.jsx("p",{className:"text-xs text-stone-600",children:ft}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºæœƒå¥—ç”¨é è¨­åç¨±ã€‚"})]})}),e.jsx(b,{icon:"ğŸ§©",title:"è‡ªè¨‚åœ–æ¨™",subtitle:"åº•éƒ¨åˆ†é èˆ‡é¦–é å…¥å£åœ–ç¤ºï¼ˆå¯ç”¨åœ–ç‰‡ç¶²å€ï¼‰",isOpen:p==="tabIcons",onToggle:()=>u("tabIcons"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("p",{className:"text-xs text-stone-600",children:"åœ–ç¤ºé¡¯ç¤ºæ¨¡å¼"}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i({tabIconDisplayMode:"framed"}),W("å·²åˆ‡æ›ç‚ºï¼šå¡ç‰‡æ¡†")},className:`rounded-lg px-3 py-1.5 text-xs ${s.tabIconDisplayMode==="framed"?"bg-stone-900 text-white":"border border-stone-300 bg-white text-stone-700"}`,children:"å¡ç‰‡æ¡†"}),e.jsx("button",{type:"button",onClick:()=>{i({tabIconDisplayMode:"full"}),W("å·²åˆ‡æ›ç‚ºï¼šæ»¿ç‰ˆ")},className:`rounded-lg px-3 py-1.5 text-xs ${s.tabIconDisplayMode==="full"?"bg-stone-900 text-white":"border border-stone-300 bg-white text-stone-700"}`,children:"æ»¿ç‰ˆ"})]})]}),Pt.map(t=>{const a=x[t.key];return e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"text-xs text-stone-600",children:[t.label," åœ–ç¤ºç¶²å€"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-stone-300 bg-white text-lg",children:a?e.jsx("img",{src:a,alt:"",className:`${s.tabIconDisplayMode==="full"?"h-8 w-8 rounded-lg object-cover":"h-6 w-6 rounded-md object-cover"}`}):ol[t.key]}),e.jsx("input",{type:"url",value:a,onChange:n=>Me(t.key,n.target.value),placeholder:"https://example.com/icon.png",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-2.5 py-2 text-xs text-stone-700",children:["ä¸Šå‚³",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:n=>{Ps(t.key,n.target.files?.[0]??null),n.currentTarget.value=""}})]}),a&&e.jsx("button",{type:"button",onClick:()=>Me(t.key,""),className:"rounded-lg border border-stone-300 bg-white px-2.5 py-2 text-xs text-stone-700",children:"æ¸…é™¤"})]})]},t.key)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:As,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å„²å­˜åœ–æ¨™è¨­å®š"}),e.jsx("button",{type:"button",onClick:Es,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸè‰ç¨¿"})]}),mt&&e.jsx("p",{className:"text-xs text-stone-600",children:mt}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºå°±ç”¨é è¨­åœ–ç¤ºã€‚å¯è²¼ç¶²å€æˆ–ç›´æ¥ä¸Šå‚³åœ–ç‰‡ï¼ˆæœƒå­˜æˆæœ¬æ©Ÿ data URLï¼‰ã€‚"})]})}),e.jsxs(b,{icon:"ğŸ“±",title:"M çš„æ‰‹æ©Ÿ",subtitle:"é¸æ“‡ç§»åˆ° M æ‰‹æ©Ÿã€å¾ Anni é¦–é éš±è—çš„ App",isOpen:p==="mPhone",onToggle:()=>u("mPhone"),children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"mb-3 text-xs text-stone-500",children:"å‹¾é¸å¾Œï¼ŒApp æœƒå¾ Anni çš„é¦–é æ¶ˆå¤±ï¼Œæ”¹ç”± M çš„æ‰‹æ©Ÿé–‹å•Ÿã€‚"}),[{slotId:"diary",label:"Mæ—¥è¨˜",icon:"ğŸ““"},{slotId:"questionnaire",label:"å•å·",icon:"ğŸ“‹"},{slotId:"memo",label:"M's memo",icon:"ğŸ§·"},{slotId:"murmur",label:"ç¢ç¢å¿µ",icon:"ğŸ’­"},{slotId:"self-intro",label:"è‡ªæˆ‘ä»‹ç´¹",icon:"ğŸªª"},{slotId:"letters",label:"æƒ…æ›¸",icon:"ğŸ’Œ"},{slotId:"album",label:"ç›¸å†Š",icon:"ğŸ“·"},{slotId:"bookshelf",label:"æ›¸æ¶",icon:"ğŸ“š"},{slotId:"tarot",label:"å¡”ç¾…",icon:"ğŸ”®"},{slotId:"wishlist",label:"é¡˜æœ›",icon:"ğŸŒ "},{slotId:"list",label:"æ¸…å–®",icon:"ğŸ´"},{slotId:"fitness",label:"å¥èº«",icon:"ğŸ‹ï¸"},{slotId:"letters-ab",label:"å¹´åº¦ä¿¡ä»¶",icon:"ğŸ“œ"},{slotId:"archive",label:"ç¸½æ”¬",icon:"ğŸ—‚"},{slotId:"light-path",label:"ç•™å…‰çµ¦å¦³çš„è·¯",icon:"âœ¨"},{slotId:"healing-campfire",label:"æ²»ç™’ç¯ç«",icon:"ğŸ”¥"},{slotId:"mood-letters",label:"å¿ƒæƒ…æ˜Ÿçƒ",icon:"ğŸ«§"}].map(({slotId:t,label:a,icon:n})=>e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:n}),e.jsx("span",{children:a})]}),e.jsx("input",{type:"checkbox",checked:(s.appsHiddenOnHome??[]).includes(t),onChange:l=>{const r=s.appsHiddenOnHome??[],j=l.target.checked?[...r,t]:r.filter(o=>o!==t);i({appsHiddenOnHome:j})}})]},t))]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"æ¡Œé¢å­—é«”"}),e.jsx("p",{className:"text-xs text-stone-400",children:"å¥—ç”¨åˆ° M æ‰‹æ©Ÿçš„æ™‚é˜ã€æ—¥æœŸã€æ˜ŸæœŸã€APP åç¨±"}),e.jsx("input",{type:"url",placeholder:"å­—é«”æª”æ¡ˆç¶²å€ï¼ˆ.ttf / .woff2 / ...ï¼‰",value:s.mPhoneFontUrl,onChange:t=>i({mPhoneFontUrl:t.target.value}),className:"w-full rounded-lg border border-stone-200 bg-stone-50 px-3 py-2 text-xs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:ke,onChange:t=>hs(Number(t.target.value)),className:"rounded-lg border border-stone-200 bg-stone-50 px-2 py-1.5 text-xs",children:[0,1,2].map(t=>e.jsx("option",{value:t,children:`è¨˜æ†¶ ${t+1}${(s.mPhoneFontUrlSlots??[])[t]?.trim()?" âœ“":""}`},t))}),e.jsx("button",{type:"button",onClick:()=>{const t=(s.mPhoneFontUrlSlots??[])[ke]?.trim()??"";t&&i({mPhoneFontUrl:t})},className:"rounded-lg border border-stone-200 bg-white px-2 py-1.5 text-xs text-stone-700",children:"è¼‰å…¥"}),e.jsx("button",{type:"button",onClick:()=>{const t=[...s.mPhoneFontUrlSlots??["","",""]];for(;t.length<3;)t.push("");t[ke]=s.mPhoneFontUrl.trim(),i({mPhoneFontUrlSlots:t})},className:"rounded-lg bg-stone-900 px-2 py-1.5 text-xs text-white",children:"å„²å­˜åˆ°è¨˜æ†¶"}),s.mPhoneFontUrl.trim()&&e.jsx("button",{type:"button",onClick:()=>i({mPhoneFontUrl:""}),className:"text-xs text-stone-400 underline",children:"æ¸…é™¤"})]})]})]}),e.jsx(b,{icon:"ğŸ””",title:"é€šçŸ¥èˆ‡æ“ä½œ",subtitle:"é¦–é æ¡Œé¢æ»‘å‹•ã€é€šçŸ¥æ¬Šé™",isOpen:p==="notification",onToggle:()=>u("notification"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("span",{children:"å•Ÿç”¨é¦–é å·¦å³æ»‘æ¡Œé¢"}),e.jsx("input",{type:"checkbox",checked:s.swipeEnabled,onChange:t=>i({swipeEnabled:t.target.checked})})]}),e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("span",{children:"å•Ÿç”¨è§£é–é€šçŸ¥"}),e.jsx("input",{type:"checkbox",checked:s.localNotificationsEnabled,onChange:t=>i({localNotificationsEnabled:t.target.checked})})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsxs("p",{children:["é€šçŸ¥æ¬Šé™ï¼š",Vs]}),e.jsx("button",{type:"button",onClick:Bt,disabled:g==="unsupported"||g==="granted",className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:bg-stone-400",children:"ç”³è«‹é€šçŸ¥æ¬Šé™"})]})]})}),e.jsx(b,{icon:"ğŸ“¥",title:"æœ¬æ©ŸåŒ¯å…¥",subtitle:"EML èˆ‡æœˆæ›† JSON",isOpen:p==="imports",onToggle:()=>u("imports"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"åŒ¯å…¥ EML ä¿¡ä»¶"}),e.jsx("input",{type:"file",multiple:!0,accept:".eml,message/rfc822,text/plain",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&At(a),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-2"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"åŒ¯å…¥æœˆæ›† JSON"}),e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&Et(a),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-2"})]}),A.kind!=="idle"&&e.jsx("p",{className:`rounded-lg border px-3 py-2 text-xs ${A.kind==="error"?"border-rose-300 bg-rose-50 text-rose-700":A.kind==="success"?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-stone-300 bg-stone-100 text-stone-700"}`,children:A.message})]})}),e.jsx(b,{icon:"ğŸ’¬",title:"Hover èªæ°£",subtitle:"èªæ°£æ¬Šé‡èˆ‡é‡æŠ½",isOpen:p==="hover",onToggle:()=>u("hover"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[{key:"clingy",label:"é»äººèªæ°£"},{key:"confession",label:"èªçœŸè¡¨ç™½"},{key:"calm",label:"å†·éœå®ˆå€™"},{key:"remorse",label:"ç ´é˜²æ‡ºæ‚”"},{key:"general",label:"é€šç”¨èªå¥"}].map(t=>e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.label}),e.jsxs("span",{className:"text-xs text-stone-500",children:["æ¬Šé‡ ",s.hoverToneWeights[t.key]]})]}),e.jsx("input",{type:"range",min:0,max:5,step:1,value:s.hoverToneWeights[t.key],onChange:a=>Zt(t.key,Number(a.target.value)),className:"w-full"})]},t.key))}),e.jsx("button",{type:"button",onClick:es,className:"rounded-lg bg-stone-900 px-4 py-2 text-sm text-white",children:"é‡æ–°éš¨æ©Ÿå…¨éƒ¨æ—¥æœŸèªæ°£"})]})}),e.jsx(b,{icon:"ğŸƒ",title:"å¡”ç¾…",subtitle:"é–±è¦½å®¤å…¥å£åœ–ç‰‡ Â· åç¨±å­—è‰²èˆ‡å­—ç´š",isOpen:p==="tarot",onToggle:()=>u("tarot"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"é–±è¦½å®¤å…¥å£åœ–ç‰‡ URL"}),e.jsx("input",{type:"url",value:Y,onChange:t=>Ve(t.target.value),placeholder:"https://files.catbox.moe/...",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),Y&&e.jsx("img",{src:Y,alt:"é è¦½",className:"h-24 w-full rounded-lg object-cover border border-stone-200",onError:t=>{t.target.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>{i({tarotGalleryImageUrl:Y.trim()}),m({kind:"success",message:"å¡”ç¾…å…¥å£åœ–ç‰‡å·²å¥—ç”¨"})},className:"w-full rounded-xl bg-stone-900 py-2.5 text-sm text-white transition active:opacity-80",children:"å¥—ç”¨"}),e.jsxs("div",{className:"space-y-2 rounded-xl border border-stone-200 bg-stone-50 p-3",children:[e.jsxs("label",{className:"flex items-center justify-between gap-3 text-xs text-stone-600",children:[e.jsx("span",{children:"ç‰Œåé¡è‰²"}),e.jsx("input",{type:"color",value:s.tarotNameColor,onChange:t=>i({tarotNameColor:t.target.value}),className:"h-8 w-12 cursor-pointer rounded border border-stone-300 bg-white"})]}),e.jsxs("label",{className:"block space-y-1 text-xs text-stone-600",children:[e.jsxs("span",{children:["ç‰Œåå­—ç´šï¼š",s.tarotNameScale.toFixed(2),"x"]}),e.jsx("input",{type:"range",min:.8,max:2,step:.05,value:s.tarotNameScale,onChange:t=>i({tarotNameScale:Number(t.target.value)}),className:"w-full"})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"æœƒå¥—ç”¨åœ¨å¡”ç¾…é¦–é ç‰Œåã€é–±è¦½å®¤æ¸…å–®ç‰Œåã€ç¿»ç‰Œå…§å®¹æ¨™é¡Œã€‚"})]})}),e.jsx(b,{icon:"ğŸ’Œ",title:"æƒ…æ›¸",subtitle:"æ¨¡å¼ Â· åŒ¯å…¥",isOpen:p==="letters",onToggle:()=>u("letters"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥æƒ…æ›¸"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[We," å°"]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"æƒ…æ›¸é æ¨¡å¼"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i({letterUiMode:"classic"}),className:`rounded-xl border px-3 py-2 text-xs transition active:opacity-80 ${s.letterUiMode==="classic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"ç¶“å…¸ï¼ˆA/B/Cï¼‰"}),e.jsx("button",{type:"button",onClick:()=>i({letterUiMode:"preview"}),className:`rounded-xl border px-3 py-2 text-xs transition active:opacity-80 ${s.letterUiMode==="preview"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ‰‹æœ­ï¼ˆI/IIï¼‰"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"åŒ¯å…¥æƒ…æ›¸æª”æ¡ˆ"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&Wt(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&Ot(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"iPhone é€šå¸¸ä¸æ”¯æ´è³‡æ–™å¤¾åŒ¯å…¥ï¼Œå»ºè­°ç”¨ã€ŒåŒ¯å…¥æª”æ¡ˆã€ã€‚"})]}),e.jsx(N,{title:"å·²åŒ¯å…¥æ¸…å–®ï¼ˆå¯å–®å°åˆªé™¤ï¼‰",subtitle:`${Pe.length} å°ï¼Œå±•é–‹å¯å–®å°åˆªé™¤`,isOpen:ls,onToggle:()=>as(t=>!t),children:Pe.length?e.jsx("div",{className:"max-h-44 overflow-y-auto rounded-md border border-stone-200 bg-white",children:Pe.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-2",style:{borderTop:a===0?"none":"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-xs text-stone-800",children:Dt(t.name)}),e.jsx("p",{className:"mt-0.5 text-[11px] text-stone-500",children:sl(t)})]}),e.jsx("button",{type:"button",onClick:()=>Gt(t.name),className:"rounded-md border border-rose-200 bg-rose-50 px-2 py-1 text-[11px] text-rose-700 transition active:opacity-80",title:`åˆªé™¤ ${t.name}`,children:"åˆªé™¤"})]},`${t.name}-${a}`))}):e.jsx("p",{className:"text-xs text-stone-400",children:"ç›®å‰æ²’æœ‰æƒ…æ›¸è³‡æ–™ã€‚"})}),e.jsxs("div",{className:"border-t border-stone-100 pt-3",children:[e.jsx("button",{type:"button",onClick:Ht,disabled:!We,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰æƒ…æ›¸"}),e.jsx("p",{className:"mt-2 text-xs text-stone-400",children:"æƒ…æ›¸å„²å­˜åœ¨æœ¬æ©Ÿï¼Œä¸æœƒä¸Šå‚³åˆ°ä¼ºæœå™¨ã€‚"})]})]})}),e.jsx(b,{icon:"ğŸ““",title:"æ—¥è¨˜",subtitle:"å°é¢ Â· åŒ¯å…¥",isOpen:p==="diary",onToggle:()=>u("diary"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥æ—¥è¨˜"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[Le," ç¯‡"]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"æ—¥è¨˜å°é¢"}),e.jsx("input",{type:"url",value:Je,onChange:t=>Q(t.target.value),placeholder:"https://example.com/cover.jpg",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i({diaryCoverImageUrl:Je.trim()}),m({kind:"success",message:"æ—¥è¨˜å°é¢å·²å¥—ç”¨"})},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å¥—ç”¨å°é¢ç¶²å€"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["ä¸Šå‚³å°é¢",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{Js(t.target.files?.[0]??null),t.currentTarget.value=""}})]}),e.jsx("button",{type:"button",onClick:()=>{Q(""),i({diaryCoverImageUrl:""})},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"ä½¿ç”¨è³‡æ–™å¤¾éš¨æ©Ÿå°é¢"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i({diaryCoverFitMode:"cover"}),className:`rounded-lg border px-3 py-2 text-sm ${s.diaryCoverFitMode==="cover"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ»¿ç‰ˆè£åˆ‡"}),e.jsx("button",{type:"button",onClick:()=>i({diaryCoverFitMode:"contain"}),className:`rounded-lg border px-3 py-2 text-sm ${s.diaryCoverFitMode==="contain"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å®Œæ•´é¡¯ç¤º"})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"è‹¥æœªè¨­å®šç¶²å€ï¼Œæœƒå˜—è©¦ç”¨ `public/diary-covers/` è£¡çš„åœ–ç‰‡éš¨æ©Ÿé¡¯ç¤ºã€‚"})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"åŒ¯å…¥æ—¥è¨˜"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&Lt(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&zt(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"å¯æ”¾ txt / docxï¼›åŒæª”åæœƒè¦†è“‹èˆŠç‰ˆæœ¬ã€‚"})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"å·²åŒ¯å…¥æ¸…å–®ï¼ˆå¯å–®ç¯‡åˆªé™¤ï¼‰"}),e.jsxs("span",{className:"text-[11px] text-stone-500",children:[Be.length," ç¯‡"]})]}),Be.length?e.jsx("div",{className:"max-h-44 overflow-y-auto rounded-md border border-stone-200 bg-white",children:Be.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-2",style:{borderTop:a===0?"none":"1px solid rgba(0,0,0,0.05)"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-xs text-stone-800",children:Dt(t.name)}),e.jsx("p",{className:"mt-0.5 text-[11px] text-stone-500",children:ll(t)})]}),e.jsx("button",{type:"button",onClick:()=>qt(t.name),className:"rounded-md border border-rose-200 bg-rose-50 px-2 py-1 text-[11px] text-rose-700 transition active:opacity-80",title:`åˆªé™¤ ${t.name}`,children:"åˆªé™¤"})]},`${t.name}-${a}`))}):e.jsx("p",{className:"text-xs text-stone-400",children:"ç›®å‰æ²’æœ‰æ—¥è¨˜è³‡æ–™ã€‚"})]}),e.jsx("div",{className:"border-t border-stone-100 pt-3",children:e.jsx("button",{type:"button",onClick:Rt,disabled:!Le,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰æ—¥è¨˜"})})]})}),e.jsx(b,{icon:"ğŸ—¨ï¸",title:"å°è©±ç´€éŒ„",subtitle:"åŒ¯å…¥ Â· è§’è‰²è¨­å®š",isOpen:p==="chatLogs",onToggle:()=>u("chatLogs"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥å°è©±ç´€éŒ„"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[$e," ä»½"]})]}),e.jsx(N,{title:"æ³¡æ³¡å¤–è§€",subtitle:"æ¨£å¼ã€åœ“è§’ã€é¡è‰²",isOpen:cs,onToggle:()=>ds(t=>!t),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i({chatBubbleStyle:"jelly"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="jelly"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"QQ æœå‡"}),e.jsx("button",{type:"button",onClick:()=>i({chatBubbleStyle:"imessage"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="imessage"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"iMessage"}),e.jsx("button",{type:"button",onClick:()=>i({chatBubbleStyle:"imessageClassic"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="imessageClassic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"iMessage+"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"æ³¡æ³¡åœ“è§’ï¼ˆåªå½±éŸ¿å°è©±ç´€éŒ„ï¼‰"}),e.jsxs("span",{children:[s.chatBubbleRadius,"px"]})]}),e.jsx("input",{type:"range",min:10,max:36,step:1,value:s.chatBubbleRadius,onChange:t=>i({chatBubbleRadius:Number(t.target.value)}),className:"w-full accent-stone-800"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹åº•è‰²ï¼ˆå³å´ï¼‰"}),e.jsx("input",{type:"color",value:s.chatUserBubbleColor,onChange:t=>i({chatUserBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹åº•è‰²ï¼ˆå·¦å´ï¼‰"}),e.jsx("input",{type:"color",value:s.chatAiBubbleColor,onChange:t=>i({chatAiBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹é‚Šæ¡†"}),e.jsx("input",{type:"color",value:s.chatUserBubbleBorderColor,onChange:t=>i({chatUserBubbleBorderColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹é‚Šæ¡†"}),e.jsx("input",{type:"color",value:s.chatAiBubbleBorderColor,onChange:t=>i({chatAiBubbleBorderColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹æ–‡å­—"}),e.jsx("input",{type:"color",value:s.chatUserBubbleTextColor,onChange:t=>i({chatUserBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹æ–‡å­—"}),e.jsx("input",{type:"color",value:s.chatAiBubbleTextColor,onChange:t=>i({chatAiBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"iMessage / iMessage+ æœƒè‡ªå‹•å–æ¶ˆæœå‡äº®é¢èˆ‡æŠ–å‹•æ•ˆæœã€‚"})]})}),e.jsx(N,{title:"é–±è®€èƒŒæ™¯",subtitle:"è‰²ç¥¨ã€åœ–ç‰‡ã€é€æ˜åº¦",isOpen:xs,onToggle:()=>ms(t=>!t),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:rl.map(t=>{const a=s.chatBackgroundColor.toLowerCase()===t.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>i({chatBackgroundColor:t}),className:`h-7 w-7 rounded-full border transition active:scale-95 ${a?"border-stone-900 ring-2 ring-stone-300":"border-stone-300"}`,style:{background:t},"aria-label":`èƒŒæ™¯è‰² ${t}`,title:t},t)})}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"è‡ªè¨‚åº•è‰²"}),e.jsx("input",{type:"color",value:s.chatBackgroundColor,onChange:t=>i({chatBackgroundColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"èƒŒæ™¯åœ–ç‰‡ URL"}),e.jsx("input",{type:"url",value:xt,onChange:t=>ee(t.target.value),placeholder:"https://.../chat-bg.jpg",className:"w-full rounded-xl border border-stone-300 bg-white px-3 py-2 text-sm text-stone-700"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i({chatBackgroundImageUrl:xt.trim()}),className:"rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-700 transition active:scale-[0.99]",children:"å¥—ç”¨åœ–ç‰‡ URL"}),e.jsxs("label",{className:"cursor-pointer rounded-xl border border-stone-300 bg-white py-2 text-center text-sm text-stone-700 transition active:opacity-80",children:["ä¸Šå‚³åœ–ç‰‡",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{_s(t.target.files?.[0]??null),t.currentTarget.value=""}})]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"åœ–ç‰‡é®ç½©"}),e.jsxs("span",{children:[s.chatBackgroundOverlay,"%"]})]}),e.jsx("input",{type:"range",min:0,max:90,step:1,value:s.chatBackgroundOverlay,onChange:t=>i({chatBackgroundOverlay:Number(t.target.value)}),className:"w-full accent-stone-800"})]}),e.jsx("button",{type:"button",onClick:()=>{ee(""),i({chatBackgroundImageUrl:"",chatBackgroundOverlay:0})},className:"w-full rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-700 transition active:scale-[0.99]",children:"ç§»é™¤èƒŒæ™¯åœ–ç‰‡"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"åŒ¯å…¥å°è©±ç´€éŒ„"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&$t(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&_t(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"iPhone é€šå¸¸ä¸æ”¯æ´è³‡æ–™å¤¾åŒ¯å…¥ï¼Œå»ºè­°ç”¨ã€ŒåŒ¯å…¥æª”æ¡ˆã€ã€‚"})]}),e.jsxs("div",{className:"border-t border-stone-100 pt-3",children:[e.jsx("button",{type:"button",onClick:Jt,disabled:!$e,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰å°è©±ç´€éŒ„"}),e.jsx("p",{className:"mt-2 text-xs text-stone-400",children:"å°è©±ç´€éŒ„å„²å­˜åœ¨æœ¬æ©Ÿï¼Œä¸æœƒä¸Šå‚³åˆ°ä¼ºæœå™¨ã€‚"})]}),e.jsxs("div",{className:"space-y-2 border-t border-stone-100 pt-3",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"èŠå¤©è§’è‰²è¨­å®šï¼ˆå·¦å³æš±ç¨±/é ­åƒï¼‰"}),_e.length===0&&e.jsx("p",{className:"text-xs text-stone-400",children:"å°šæœªå»ºç«‹ä»»ä½•è§’è‰²è¨­å®šï¼Œé è¨­ç‚ºã€Œä½ ã€/ã€ŒMã€ã€‚"}),_e.map(t=>e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm text-stone-800",children:t.name}),e.jsxs("p",{className:"text-xs text-stone-400",children:["å³ï¼š",t.rightNick," ï¼ å·¦ï¼š",t.leftNick]})]}),e.jsx("button",{type:"button",onClick:()=>Yt(t.id),className:"shrink-0 rounded-lg border border-rose-200 bg-rose-50 px-2 py-1 text-xs text-rose-600",children:"åˆªé™¤"})]},t.id)),rs?e.jsxs("div",{className:"space-y-2 rounded-lg border border-violet-200 bg-violet-50 p-3",children:[e.jsx("input",{type:"text",placeholder:"è¨­å®šåç¨±ï¼Œä¾‹ï¼šå’Œ4oçš„å°è©±",value:$.name,onChange:t=>E(a=>({...a,name:t.target.value})),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"å³å´æš±ç¨±ï¼ˆä½ ï¼Œå¯ç”¨ / å¡«å¤šå€‹ï¼‰",value:$.rightNick,onChange:t=>E(a=>({...a,rightNick:t.target.value})),className:"flex-1 rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsx("input",{type:"text",placeholder:"å·¦å´æš±ç¨±ï¼ˆMï¼Œå¯ç”¨ / å¡«å¤šå€‹ï¼‰",value:$.leftNick,onChange:t=>E(a=>({...a,leftNick:t.target.value})),className:"flex-1 rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:"å¯ç”¨ã€Œ/ã€åˆ†éš”å¤šå€‹åç¨±ï¼Œä¾‹å¦‚ï¼šä½ /Anniã€M/Michael"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"flex-1 space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"å³å´é ­åƒ"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files?.[0];if(!a)return;const n=new FileReader;n.onload=()=>E(l=>({...l,rightAvatarDataUrl:n.result})),n.readAsDataURL(a)},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-1 text-xs"})]}),e.jsxs("label",{className:"flex-1 space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"å·¦å´é ­åƒ"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files?.[0];if(!a)return;const n=new FileReader;n.onload=()=>E(l=>({...l,leftAvatarDataUrl:n.result})),n.readAsDataURL(a)},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-1 text-xs"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{(async()=>!$.name.trim()||!await Qt({...$,id:`profile-${Date.now()}`})||(m({kind:"success",message:"è§’è‰²è¨­å®šå·²å„²å­˜"}),E({name:"",leftNick:"M",rightNick:"ä½ ",leftAvatarDataUrl:"",rightAvatarDataUrl:""}),me(!1)))()},className:"flex-1 rounded-xl bg-stone-900 py-2 text-sm text-white",children:"å„²å­˜"}),e.jsx("button",{type:"button",onClick:()=>me(!1),className:"flex-1 rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-600",children:"å–æ¶ˆ"})]})]}):e.jsx("button",{type:"button",onClick:()=>me(!0),className:"w-full rounded-xl border border-violet-200 bg-violet-50 py-2 text-sm text-violet-700 transition active:opacity-80",children:"ï¼‹ æ–°å¢è§’è‰²è¨­å®š"})]})]})}),e.jsx(b,{icon:"ğŸ“š",title:"èªªæ˜æ›¸",subtitle:"ç¸½èªªæ˜ + æ›¸æ¶ + å¿ƒæƒ…æ˜Ÿçƒè½‰æª”",isOpen:p==="manuals",onToggle:()=>u("manuals"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{O("general"),re(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ I"}),e.jsx("button",{type:"button",onClick:()=>{O("bookshelf"),re(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ IIï¼ˆæ›¸æ¶ï¼‰"}),e.jsx("button",{type:"button",onClick:()=>{O("moodLetters"),re(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ IIIï¼ˆå¿ƒæƒ…æ˜Ÿçƒï¼‰"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Iï¼šå…¨ç«™æ›´æ–°èˆ‡è³‡æ–™è·¯å¾‘ã€‚IIï¼šæ›¸æ¶æ–°å¢æµç¨‹ã€‚IIIï¼šå¿ƒæƒ…æ˜Ÿçƒ Word/TXT è½‰æª”èˆ‡åˆ†é¡ç¶­è­·ã€‚"})]})}),e.jsx(b,{icon:"ğŸ› ï¸",title:"æ‰‹å‹•æ“ä½œ",subtitle:"åˆ·æ–°è³‡æ–™èˆ‡åŒæ­¥æ™‚é–“",isOpen:p==="maintenance",onToggle:()=>u("maintenance"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:ts,className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"é‡æ–°æ•´ç†æœ¬æ©Ÿè³‡æ–™"}),e.jsxs("p",{className:"text-xs text-stone-500",children:["ä¸Šæ¬¡æ›´æ–°ï¼š",s.lastSyncAt?new Date(s.lastSyncAt).toLocaleString():"å°šæœªæ›´æ–°"]})]})})]}),ps&&e.jsx("div",{className:"fixed inset-0 z-[120] flex items-end justify-center bg-black/45 p-3 sm:items-center sm:p-6",children:e.jsxs("div",{className:"flex max-h-[88vh] w-full max-w-3xl flex-col overflow-hidden rounded-2xl border border-stone-200 bg-[#f8f5ef] shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-stone-200 px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-stone-500",children:"Manual"}),e.jsx("h3",{className:"text-base text-stone-900",children:D==="general"?"èªªæ˜æ›¸ Iï¼šå…¨ç«™æ›´æ–°":D==="bookshelf"?"èªªæ˜æ›¸ IIï¼šæ›¸æ¶ä½¿ç”¨":"èªªæ˜æ›¸ IIIï¼šå¿ƒæƒ…æ˜Ÿçƒè½‰æª”"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>O("general"),className:`rounded-full border px-2.5 py-1 text-[11px] ${D==="general"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"I å…¨ç«™"}),e.jsx("button",{type:"button",onClick:()=>O("bookshelf"),className:`rounded-full border px-2.5 py-1 text-[11px] ${D==="bookshelf"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"II æ›¸æ¶"}),e.jsx("button",{type:"button",onClick:()=>O("moodLetters"),className:`rounded-full border px-2.5 py-1 text-[11px] ${D==="moodLetters"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"III å¿ƒæƒ…æ˜Ÿçƒ"})]})]}),e.jsx("button",{type:"button",onClick:()=>re(!1),className:"grid h-8 w-8 place-items-center rounded-full border border-stone-300 bg-white text-xl leading-none text-stone-600","aria-label":"é—œé–‰èªªæ˜æ›¸",children:"Ã—"})]}),e.jsx("div",{className:"space-y-5 overflow-y-auto px-4 py-4 text-sm text-stone-700",children:D==="general"?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¦‚ä½•æ›´æ–°ï¼ˆä¸ç”¨æœ¬æ©Ÿæ¨é€ï¼‰"}),e.jsx("p",{children:"åˆ° GitHub å°ˆæ¡ˆä¸»é ç›´æ¥ä¸Šå‚³åˆ° `main` åˆ†æ”¯ä¹Ÿå¯ä»¥ã€‚æäº¤å¾Œç­‰å¾… Actions build/deployï¼Œæ‰‹æ©Ÿé‡æ•´å³å¯ã€‚"})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å°äººå°ˆå±¬æ± å°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å‚™è¨»"})]})}),e.jsx("tbody",{children:cl.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.page}),e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.page}-${t.path}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"è³‡æ–™å…§å®¹æª”ï¼ˆJSON/TXTï¼‰å°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å°æ‡‰é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:dl.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.target}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.path}-${t.target}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"åœ–ç‰‡/ç´ æå°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å°æ‡‰é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:xl.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.target}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.path}-${t.target}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å­—é«”é—œè¯"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬ä¸€æ¬„ï¼ˆå­—é«”é è¨­ç®¡ç†ï¼‰ï¼šä¸Šå‚³å­—é«”ä¾†æºã€ä¿å­˜æˆè¨˜æ†¶ 1~10ã€‚"}),e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬äºŒæ¬„ï¼ˆå­—é«”å¥—ç”¨ç¯„åœï¼‰ï¼šæŠŠè¨˜æ†¶ 1~10 å¥—ç”¨åˆ°æ•´ç«™/æƒ…æ›¸/æ²»ç™’ç¯ç«ï¼ˆå«å¿ƒæƒ…æ˜Ÿçƒã€ç•™å…‰ï¼‰/æ—¥è¨˜/å®¶é ã€‚"}),e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬ä¸‰æ¬„ï¼ˆç•¶å‰å¥—ç”¨æª¢è¦–ï¼‰ï¼šç´”é è¦½ç›®å‰æ¯å€‹ç¯„åœä½¿ç”¨ä¸­çš„å­—é«”ä¾†æºã€‚"}),e.jsx("li",{children:"ã€Œç©ºç™½ï¼ˆé‚„åŸé è¨­å­—é«”ï¼‰ã€å¯æŠŠå‹¾é¸é é¢æ¢å¾©ç‚ºé è¨­å­—é«”ã€‚"}),e.jsx("li",{children:"æ•´ç«™ï¼šå¤§å¤šæ•¸é é¢çš„åŸºåº•å­—é«”ã€‚"}),e.jsx("li",{children:"æ—¥è¨˜ï¼šM æ—¥è¨˜ã€Anni æ—¥è¨˜ã€é¡˜æœ›å…§æ–‡ã€‚"}),e.jsx("li",{children:"é¡˜æœ›æ¨™é¡Œ/é ç±¤ã€æ—¥è¨˜ M/B æ¨™é¡Œ/é ç±¤ã€ç¶“æœŸæ—¥è¨˜æ¨™é¡Œ/é ç±¤ï¼šå…¨ç«™å­—é«”ã€‚"}),e.jsx("li",{children:"å®¶é ï¼šåªå½±éŸ¿ã€Œå®¶ã€é–±è®€é ã€‚"}),e.jsx("li",{children:"M çš„æ‰‹æ©Ÿæ¡Œé¢å­—é«”ï¼šåœ¨ã€ŒM çš„æ‰‹æ©Ÿã€è¨­å®šå€å¡Šæœ€ä¸‹æ–¹ï¼Œç¨ç«‹è¨­å®šã€‚"})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å­—é«”ä¸Šå‚³å»ºè­°"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"å¤–éƒ¨å…è²»ç©ºé–“ï¼ˆå¦‚ catboxï¼‰ä¸ç©©å®šï¼Œå¯èƒ½å›  CORS é™åˆ¶å°è‡´å­—é«”ç„¡æ³•è¼‰å…¥ã€‚"}),e.jsxs("li",{children:[e.jsx("strong",{children:"æ¨è–¦åšæ³•ï¼š"}),"æŠŠå­—é«”æª”ï¼ˆ.ttf / .woff2ï¼‰æ”¾åˆ°æœ¬å€‰åº«çš„"," ",e.jsx("code",{className:"rounded bg-stone-200 px-1",children:"public/fonts/"})," è³‡æ–™å¤¾ã€‚"]}),e.jsxs("li",{children:["ä¸Šå‚³å¾Œï¼Œå­—é«”ç¶²å€å¡«ï¼š",e.jsx("code",{className:"rounded bg-stone-200 px-1",children:"https://annimaddox.github.io/Our-love/fonts/ä½ çš„å­—é«”.ttf"})]}),e.jsx("li",{children:"åŒç¶²åŸŸä¸å— CORS é™åˆ¶ï¼Œæ°¸é ç©©å®šã€‚"})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ³¨æ„äº‹é …"}),e.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:ml.map(t=>e.jsx("li",{children:t},t))})]})]}):D==="bookshelf"?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ›¸æ¶è³‡æ–™çµæ§‹ï¼ˆå¿…çœ‹ï¼‰"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å¿…è¦æ€§"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:pl.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.required}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note})]},t.path))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ–°å¢ä¸€æœ¬æ›¸ï¼ˆå®Œæ•´æµç¨‹ï¼‰"}),e.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-xs text-stone-600",children:ul.map(t=>e.jsx("li",{children:t},t))})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"`bookshelf.json` ç¯„ä¾‹ï¼ˆå¯ç›´æ¥è¤‡è£½ï¼‰"}),e.jsx("pre",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white p-3 text-[11px] text-stone-700",children:bl})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¾ŒæœŸæ›åœ–ç‰‡ / è©¦é–‹æ–°æ›¸"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"æ›å°é¢ï¼šæ›¿æ› `cover.webp`ï¼ˆæˆ–æ”¹ `coverImage` æŒ‡å‘æ–°ç¶²å€ï¼‰ã€‚"}),e.jsx("li",{children:"æ›å…§é ï¼šæ›¿æ›å°æ‡‰ `001.webp`ã€`002.webp`...å³å¯ã€‚"}),e.jsx("li",{children:"é–±è®€é †åºåªçœ‹æª”åï¼š`001` æœƒåœ¨ `010` å‰é¢ï¼Œå»ºè­°éƒ½è£œé›¶ã€‚"}),e.jsx("li",{children:"è‡¨æ™‚æ¸¬è©¦æ›¸ï¼šå¯å…ˆåš `book-test`ï¼Œç¢ºèªå¾Œå†æ”¹æ­£å¼åç¨±ã€‚"}),e.jsx("li",{children:"è‹¥æ‰‹æ©Ÿçœ‹ä¸åˆ°æ›´æ–°ï¼Œå…ˆé‡æ•´ PWA å¿«å–å†é‡é–‹ã€‚"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¿ƒæƒ…æ˜Ÿçƒè³‡æ–™çµæ§‹ï¼ˆå¿…çœ‹ï¼‰"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å¿…è¦æ€§"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:hl.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.required}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note})]},t.path))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"Word/TXT è½‰æª” + æ–°å¢ä¿¡ä»¶ï¼ˆå®Œæ•´æµç¨‹ï¼‰"}),e.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-xs text-stone-600",children:yl.map(t=>e.jsx("li",{children:t},t))})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"`overrides.json` ç¯„ä¾‹ï¼ˆå¯ç›´æ¥è¤‡è£½ï¼‰"}),e.jsx("pre",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white p-3 text-[11px] text-stone-700",children:fl})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"åˆ†é¡ä¿®æ­£é‡é»"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"ä¸ç”¨å…ˆæ‰‹å‹•æŠŠ Word è½‰ TXTã€‚è…³æœ¬æœƒè‡ªå‹•è§£æ `.doc/.docx/.txt`ã€‚"}),e.jsx("li",{children:"`overrides.json` çš„ key è¦å¡«å®Œæ•´æª”åï¼ˆåŒ…å«å‰¯æª”åï¼‰ã€‚"}),e.jsx("li",{children:'åŒä¸€å°ä¿¡å¯æ”¾å¤šåˆ†é¡ï¼Œä¾‹å¦‚ `["low", "support"]`ã€‚'}),e.jsx("li",{children:"æ¯æ¬¡æ”¹å®Œ overrides éƒ½è¦å†è·‘ä¸€æ¬¡ `npm run build:mood-letters`ã€‚"}),e.jsx("li",{children:"åˆ†é¡ id åƒè€ƒ `overrides.json` å…§çš„ `moodGuide` å€å¡Šï¼ˆè…³æœ¬æœƒè‡ªå‹•ç¶­è­·ï¼‰ã€‚"}),e.jsx("li",{children:"å¦‚æœ UI é¡¯ç¤ºæ•¸é‡ä¸å°ï¼Œå…ˆæª¢æŸ¥ `index.json` çš„ `total` èˆ‡ `summary.countsByMood`ã€‚"})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¸¸è¦‹å•é¡Œï¼ˆå¿«é€Ÿè§£ï¼‰"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"Qï¼šæ–°å¢äº†æª”æ¡ˆä½†å‰ç«¯çœ‹ä¸åˆ°ï¼ŸAï¼šé€šå¸¸æ˜¯é‚„æ²’è·‘ `npm run build:mood-letters`ã€‚"}),e.jsx("li",{children:"Qï¼šåˆ†é¡å¾ˆæ€ªï¼ŸAï¼šçœ‹ `review.json`ï¼ŒæŠŠé‚£å¹¾å°åŠ é€² overrides å†é‡è·‘ã€‚"}),e.jsx("li",{children:"Qï¼šåªæ”¹ `public/data/mood-letters/index.json` å¯ä»¥å—ï¼ŸAï¼šä¸å»ºè­°ï¼Œæœƒè¢«ä¸‹æ¬¡è…³æœ¬è¦†è“‹ã€‚"}),e.jsx("li",{children:"Qï¼šè¦å‚™ä»½å“ªè£¡ï¼ŸAï¼šè‡³å°‘ä¿ç•™ä¾†æº `åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/` + `public/data/mood-letters/`ã€‚"})]})]})]})})]})})]})}export{jl as SettingsPage};
