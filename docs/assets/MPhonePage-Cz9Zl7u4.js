import{r as s,j as e}from"./index-DQSBjYQX.js";const Z="mphone-settings-v1";function Me(){try{const n=localStorage.getItem(Z);if(n)return{wallpaper:"",appIcons:{},...JSON.parse(n)}}catch{}return{wallpaper:"",appIcons:{}}}function we(n){try{localStorage.setItem(Z,JSON.stringify(n))}catch{}}const K=["M-022","M-037","M-041","M-042","M-045","M-046","M-048","M-052","M-053","M-054","M-055","M-056","M-057","M-058","M-059","M-060","M-061","M-065","M-066","M-071","M-073","M-078","M-079","M-084","M-085"],Ce=3,T={diary:{label:"Mæ—¥è¨˜",icon:"è¨˜",iconBg:"linear-gradient(145deg,#ff9f0a,#e8550a)",dataPath:"data/m-diary/index.json",timeAgo:"å‰›å‰›"},questionnaire:{label:"å•å·",icon:"å•",iconBg:"linear-gradient(145deg,#5e5ce6,#3634a3)",dataPath:"data/questionnaire/index.json",timeAgo:"æ˜¨å¤©"},memo:{label:"M's memo",icon:"å‚™",iconBg:"linear-gradient(145deg,#ffd60a,#ffb800)",dataPath:"data/memo/index.json",timeAgo:"ä»Šå¤©"},murmur:{label:"ç¢ç¢å¿µ",icon:"ç¢",iconBg:"linear-gradient(145deg,#32aae0,#1a72c0)",dataPath:"data/murmur/index.json",timeAgo:"2å¤©å‰"},selfIntro:{label:"è‡ªæˆ‘ä»‹ç´¹",icon:"ä»‹",iconBg:"linear-gradient(145deg,#c9a66b,#9e7a3c)",dataPath:"data/self-intro/index.json",timeAgo:"æœ¬é€±"},letters:{label:"æƒ…æ›¸",icon:"æƒ…",iconBg:"linear-gradient(145deg,#ff6b9d,#c44d6e)",staticTitle:"æœ‰æ–°çš„æƒ…æ›¸ç­‰è‘—ä½ ",staticSub:"æƒ…æ›¸",timeAgo:"ä»Šå¤©"},album:{label:"ç›¸å†Š",icon:"ç›¸",iconBg:"linear-gradient(145deg,#30d158,#25a244)",staticTitle:"ç¿»ä¸€ç¿»æˆ‘å€‘çš„ç…§ç‰‡",staticSub:"ç›¸å†Š",timeAgo:"ä¸Šé€±"},bookshelf:{label:"æ›¸æ¶",icon:"æ›¸",iconBg:"linear-gradient(145deg,#bf5af2,#9b3bc4)",staticTitle:"æ›¸æ¶ä¸Šé‚„æœ‰æ•…äº‹",staticSub:"æ›¸å–®",timeAgo:"æœ¬æœˆ"},tarot:{label:"å¡”ç¾…",icon:"ç‰Œ",iconBg:"linear-gradient(145deg,#2c2c3e,#1a1a2e)",staticTitle:"ä»Šå¤©çš„ç‰Œé™£ç­‰è‘—ä½ ç¿»é–‹",staticSub:"å¡”ç¾…ç‰Œ",timeAgo:"ä»Šå¤©"},wishlist:{label:"é¡˜æœ›",icon:"ğŸŒ ",iconBg:"linear-gradient(145deg,#ff6b9d,#c44d6e)",staticTitle:"è¨±ä¸‹å¿ƒé¡˜",staticSub:"é¡˜æœ›",timeAgo:"ä»Šå¤©"},list:{label:"æ¸…å–®",icon:"ğŸ´",iconBg:"linear-gradient(145deg,#5e5ce6,#3634a3)",staticTitle:"æŸ¥çœ‹æ¸…å–®",staticSub:"æ¸…å–®",timeAgo:"ä»Šå¤©"},fitness:{label:"å¥èº«",icon:"ğŸ‹ï¸",iconBg:"linear-gradient(145deg,#30d158,#25a244)",staticTitle:"ä»Šå¤©å‹•èµ·ä¾†",staticSub:"å¥èº«",timeAgo:"ä»Šå¤©"},lettersAB:{label:"å¹´åº¦ä¿¡ä»¶",icon:"ğŸ“œ",iconBg:"linear-gradient(145deg,#c9a66b,#9e7a3c)",staticTitle:"ç¿»é–‹æˆ‘å€‘çš„æ•…äº‹",staticSub:"å¹´åº¦ä¿¡ä»¶",timeAgo:"ä¸Šé€±"},archive:{label:"ç¸½æ”¬",icon:"ğŸ—‚",iconBg:"linear-gradient(145deg,#2c2c3e,#1a1a2e)",staticTitle:"æ‰€æœ‰è¨˜æ†¶éƒ½åœ¨é€™è£¡",staticSub:"ç¸½æ”¬",timeAgo:"æœ¬æœˆ"},lightPath:{label:"ç•™å…‰",icon:"âœ¨",iconBg:"linear-gradient(145deg,#32aae0,#1a72c0)",staticTitle:"ç•™å…‰çµ¦å¦³çš„è·¯",staticSub:"ç•™å…‰",timeAgo:"ä»Šå¤©"},healingCampfire:{label:"ç¯ç«",icon:"ğŸ”¥",iconBg:"linear-gradient(145deg,#bf5af2,#9b3bc4)",staticTitle:"æº«æš–çš„ç¯ç«",staticSub:"æ²»ç™’ç¯ç«",timeAgo:"ä»Šå¤©"},moodLetters:{label:"å¿ƒæƒ…æ˜Ÿçƒ",icon:"ğŸ«§",iconBg:"linear-gradient(145deg,#ffd60a,#ffb800)",staticTitle:"ä»Šå¤©çš„å¿ƒæƒ…",staticSub:"å¿ƒæƒ…æ˜Ÿçƒ",timeAgo:"ä»Šå¤©"}},Ae={diary:"diary",questionnaire:"questionnaire",memo:"memo",murmur:"murmur","self-intro":"selfIntro",letters:"letters",album:"album",bookshelf:"bookshelf",tarot:"tarot",wishlist:"wishlist",list:"list",fitness:"fitness","letters-ab":"lettersAB",archive:"archive","light-path":"lightPath","healing-campfire":"healingCampfire","mood-letters":"moodLetters"},J=["diary","questionnaire","memo","murmur","selfIntro","letters","album","bookshelf","tarot"],I=["wishlist","list","fitness","lettersAB","archive","lightPath","healingCampfire","moodLetters"],Pe=["questionnaire","murmur","selfIntro","album"],Te=["bookshelf","tarot"],Le=["diary","letters","memo"],Q={diary:7,questionnaire:13,memo:31,murmur:53,selfIntro:79};function Be(n){const i=Math.floor(Date.now()/864e5),l=Math.floor(i/Ce)%K.length;return`${n}photos/album04/${K[l]}.webp`}function De(n,i){if(!n.length)return"";const l=new Date,p=l.getFullYear()*1e4+(l.getMonth()+1)*100+l.getDate()+i,r=n[Math.abs(p)%n.length];return r?.title??r?.timeLabel??""}function Ee(n){if(!n.length)return"";const i=new Date,l=i.getFullYear()*1e4+(i.getMonth()+1)*100+i.getDate()+97;return n[Math.abs(l)%n.length]?.title??""}function _(n){return`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`}function ee(n){const i=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];return`${n.getMonth()+1}æœˆ${n.getDate()}æ—¥ é€±${i[n.getDay()]}`}function R(n,i){if(n===i)return"s-active";const l={lock:0,notif:1,home:2};return l[n]<l[i]?"s-exit-up":"s-enter-below"}const X=["å‰›å‰›","1åˆ†é˜å‰","5åˆ†é˜å‰","10åˆ†é˜å‰","ä»Šå¤©","ä»Šå¤©æ—©ä¸Š","ä»Šå¤©ä¸‹åˆ","ä»Šå¤©æ™šä¸Š","æ˜¨å¤©","æ˜¨å¤©æ—©ä¸Š","æ˜¨å¤©æ™šä¸Š","2å¤©å‰","3å¤©å‰","æœ¬é€±","ä¸Šé€±","æœ¬æœˆ"];function Ie(n){const i=new Date,l=i.getFullYear()*1e4+(i.getMonth()+1)*100+i.getDate()+n;return X[Math.abs(l)%X.length]}function te(n){const i=n.split(" - ");return i.length>=2?{artist:i[0],title:i.slice(1).join(" - ")}:{artist:"",title:n}}function W({now:n,hideTime:i=!1}){return e.jsxs("div",{className:"mphone-status-bar",children:[e.jsx("div",{className:"mphone-sb-left",children:!i&&e.jsx("span",{className:"mphone-sb-time",children:_(n)})}),e.jsxs("div",{className:"mphone-sb-right",children:[e.jsxs("div",{className:"mphone-sb-signal",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsxs("svg",{className:"mphone-sb-wifi",viewBox:"0 0 16 12",fill:"none","aria-hidden":"true",children:[e.jsx("path",{d:"M8 9.5a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4z",fill:"rgba(255,255,255,0.9)"}),e.jsx("path",{d:"M4.8 7.2a4.5 4.5 0 0 1 6.4 0",stroke:"rgba(255,255,255,0.9)",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M1.8 4.4a8.4 8.4 0 0 1 12.4 0",stroke:"rgba(255,255,255,0.7)",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"})]}),e.jsxs("div",{className:"mphone-sb-battery",children:[e.jsx("div",{className:"mphone-sb-battery-fill"}),e.jsx("div",{className:"mphone-sb-battery-cap"})]})]})]})}function Re({song:n}){const{title:i,artist:l}=te(n);return e.jsxs("div",{className:"mphone-lock-music mphone-glass",children:[e.jsxs("div",{className:"mphone-lock-music-row1",children:[e.jsxs("div",{className:"mphone-lock-music-texts",children:[e.jsx("div",{className:"mphone-lock-music-title",children:i||"â€”"}),l&&e.jsx("div",{className:"mphone-lock-music-artist",children:l})]}),e.jsx("button",{type:"button",className:"mphone-lock-music-playbtn",tabIndex:-1,"aria-label":"æ’­æ”¾",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"22",height:"22","aria-hidden":"true",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"mphone-lock-music-progress-wrap",children:[e.jsxs("div",{className:"mphone-lock-music-bar",children:[e.jsx("div",{className:"mphone-lock-music-fill"}),e.jsx("div",{className:"mphone-lock-music-thumb"})]}),e.jsxs("div",{className:"mphone-lock-music-times",children:[e.jsx("span",{children:"0:07"}),e.jsx("span",{children:"-3:04"})]})]}),e.jsxs("div",{className:"mphone-lock-music-controls",children:[e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--side","aria-label":"æ”¶è—",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl","aria-label":"ä¸Šä¸€é¦–",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"26",height:"26","aria-hidden":"true",children:e.jsx("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--play","aria-label":"æš«åœ",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"32",height:"32","aria-hidden":"true",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl","aria-label":"ä¸‹ä¸€é¦–",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"26",height:"26","aria-hidden":"true",children:e.jsx("path",{d:"M6 18 14.5 12 6 6v12zm8.5-6v6h2V6h-2v6z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--side","aria-label":"AirPlay",tabIndex:-1,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M5 17H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h18a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})})]})]})}function We({now:n}){return e.jsxs("div",{className:"mphone-home-clock",children:[e.jsx("div",{className:"mphone-home-clock-date",children:ee(n)}),e.jsx("div",{className:"mphone-home-clock-time",children:_(n)})]})}function _e({song:n}){const{title:i,artist:l}=te(n);return e.jsxs("div",{className:"mphone-music-widget mphone-glass",children:[e.jsxs("div",{className:"mphone-music-info",children:[e.jsx("div",{className:"mphone-music-app",children:"éŸ³æ¨‚"}),e.jsx("div",{className:"mphone-music-title",children:i||"â€”"}),l&&e.jsx("div",{className:"mphone-music-artist",children:l})]}),e.jsx("button",{type:"button",className:"mphone-music-play","aria-label":"æ’­æ”¾",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"white",width:"20",height:"20","aria-hidden":"true",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]})}function P({appId:n,onLaunch:i,dockSize:l=!1,customIconUrl:p}){const r=T[n],b=p?{backgroundImage:`url('${p}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:r.iconBg};return e.jsxs("button",{type:"button",className:`mphone-app-item${l?" mphone-dock-item":""}`,onClick:()=>i(n),"aria-label":r.label,children:[e.jsx("div",{className:"mphone-app-icon",style:b,children:!p&&e.jsx("span",{children:r.icon})}),!l&&e.jsx("span",{className:"mphone-app-label",children:r.label})]})}function $e({settings:n,wallpaperDraft:i,iconDrafts:l,currentApps:p,onWallpaperDraftChange:r,onWallpaperApply:b,onWallpaperUpload:j,onWallpaperClear:v,onIconDraftChange:L,onIconApply:w,onIconUpload:B,onIconClear:k,onClose:C}){return e.jsx("div",{className:"mphone-settings-overlay",onClick:C,children:e.jsxs("div",{className:"mphone-settings-sheet",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"mphone-settings-header",children:[e.jsx("div",{className:"mphone-settings-title",children:"M çš„è¨­å®š"}),e.jsx("button",{type:"button",className:"mphone-settings-close",onClick:C,"aria-label":"é—œé–‰",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2.5",strokeLinecap:"round"})})})]}),e.jsxs("div",{className:"mphone-settings-scroll",children:[e.jsxs("div",{className:"mphone-settings-section",children:[e.jsx("div",{className:"mphone-settings-section-title",children:"æ¡Œå¸ƒ"}),e.jsxs("div",{className:"mphone-settings-row",children:[e.jsx("input",{type:"text",className:"mphone-settings-input",placeholder:"è²¼ä¸Šåœ–ç‰‡ç¶²å€...",value:i,onChange:c=>r(c.target.value),onKeyDown:c=>{c.key==="Enter"&&b()}}),e.jsx("button",{type:"button",className:"mphone-settings-btn",onClick:b,children:"å¥—ç”¨"})]}),e.jsxs("label",{className:"mphone-settings-upload-label",children:[e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:j}),e.jsx("svg",{viewBox:"0 0 24 24",width:"15",height:"15",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round","aria-hidden":"true",children:e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),"ä¸Šå‚³åœ–ç‰‡"]}),n.wallpaper&&e.jsx("button",{type:"button",className:"mphone-settings-clear-btn",onClick:v,children:"æ¸…é™¤è‡ªè¨‚æ¡Œå¸ƒ"})]}),e.jsxs("div",{className:"mphone-settings-section",children:[e.jsx("div",{className:"mphone-settings-section-title",children:"App åœ–ç¤º"}),p.map(c=>{const N=T[c],x=n.appIcons[c],S=x?{backgroundImage:`url('${x}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:N.iconBg};return e.jsxs("div",{className:"mphone-settings-icon-row",children:[e.jsx("div",{className:"mphone-settings-icon-preview",style:S,children:!x&&e.jsx("span",{children:N.icon})}),e.jsxs("div",{className:"mphone-settings-icon-info",children:[e.jsx("div",{className:"mphone-settings-icon-name",children:N.label}),e.jsxs("div",{className:"mphone-settings-icon-inputs",children:[e.jsx("input",{type:"text",className:"mphone-settings-input mphone-settings-input--sm",placeholder:"è²¼ä¸Šåœ–ç‰‡ç¶²å€...",value:l[c]??"",onChange:g=>L(c,g.target.value),onKeyDown:g=>{g.key==="Enter"&&w(c)}}),e.jsx("button",{type:"button",className:"mphone-settings-btn mphone-settings-btn--sm",onClick:()=>w(c),children:"å¥—ç”¨"}),e.jsxs("label",{className:"mphone-settings-upload-label mphone-settings-upload-label--sm",children:[e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:g=>B(c,g)}),"ä¸Šå‚³"]}),x&&e.jsx("button",{type:"button",className:"mphone-settings-clear-btn mphone-settings-clear-btn--sm",onClick:()=>k(c),children:"æ¸…é™¤"})]})]})]},c)})]})]})]})})}function ze({onLaunchApp:n,onReturnToMyPhone:i,initialScreen:l,appsOnMPhone:p}){const[r,b]=s.useState(()=>new Date),[j,v]=s.useState(l??"lock"),[L,w]=s.useState(0),[B,k]=s.useState(!1),[C,c]=s.useState(!1),[N,x]=s.useState({}),[S,g]=s.useState(""),[h,ne]=s.useState(()=>Me()),[A,$]=s.useState(""),[D,O]=s.useState({}),se=s.useMemo(()=>{const t=[...J,...I],a={};return t.forEach((o,u)=>{a[o]=Ie(u*17+41)}),a},[]),m=s.useMemo(()=>{const t=new Set;return(p??[]).forEach(a=>{const o=Ae[a];o&&t.add(o)}),t},[p]),ae=s.useMemo(()=>Pe.filter(t=>m.has(t)),[m]),ie=s.useMemo(()=>Te.filter(t=>m.has(t)),[m]),oe=s.useMemo(()=>Le.filter(t=>m.has(t)),[m]),le=s.useMemo(()=>I.filter(t=>m.has(t)),[m]),z=s.useMemo(()=>[...J.filter(t=>m.has(t)),...I.filter(t=>m.has(t))],[m]),H=s.useRef(0),U=s.useRef(0),Y=s.useRef(0),F=s.useRef(0),q=s.useRef(null),f="/Our-love/docs/",ce=s.useMemo(()=>h.wallpaper||Be(f),[f,h.wallpaper]);s.useEffect(()=>{const t=setInterval(()=>b(new Date),1e3);return()=>clearInterval(t)},[]),s.useEffect(()=>{Object.keys(Q).forEach(t=>{const a=T[t];a.dataPath&&fetch(`${f}${a.dataPath}`).then(o=>o.json()).then(o=>{const u=De(o.docs,Q[t]??0);u&&x(M=>({...M,[t]:u}))}).catch(()=>{})})},[f]),s.useEffect(()=>{fetch(`${f}data/songs.json`).then(t=>t.json()).then(t=>g(Ee(t))).catch(()=>{})},[f]),s.useEffect(()=>{const t=q.current;if(!t)return;const a=()=>{const o=t.clientWidth;o&&w(Math.round(t.scrollLeft/o))};return t.addEventListener("scroll",a,{passive:!0}),()=>t.removeEventListener("scroll",a)},[]);const V=s.useCallback(()=>v("notif"),[]),E=s.useCallback(()=>v("lock"),[]),re=s.useCallback(()=>v("home"),[]),he=s.useCallback(t=>{H.current=t.touches[0].clientY},[]),de=s.useCallback(t=>{t.changedTouches[0].clientY-H.current<-50&&V()},[V]),me=s.useCallback(t=>{U.current=t.touches[0].clientY,Y.current=F.current},[]),ue=s.useCallback(t=>{t.changedTouches[0].clientY-U.current>50&&Y.current<=0&&E()},[E]),y=s.useCallback(t=>{n(t)},[n]),pe=s.useCallback(()=>k(!0),[]),G=s.useCallback(()=>k(!1),[]),ge=s.useCallback(()=>{k(!1),i()},[i]),d=s.useCallback(t=>{ne(a=>{const o={...a,...t};return we(o),o})},[]),be=s.useCallback(()=>{A.trim()&&(d({wallpaper:A.trim()}),$(""))},[A,d]),xe=s.useCallback(t=>{const a=t.target.files?.[0];if(!a)return;const o=new FileReader;o.onload=()=>{typeof o.result=="string"&&d({wallpaper:o.result})},o.readAsDataURL(a),t.target.value=""},[d]),fe=s.useCallback(()=>{d({wallpaper:""})},[d]),je=s.useCallback((t,a)=>{O(o=>({...o,[t]:a}))},[]),ve=s.useCallback(t=>{const a=D[t]?.trim();a&&(d({appIcons:{...h.appIcons,[t]:a}}),O(o=>({...o,[t]:""})))},[D,h.appIcons,d]),ke=s.useCallback((t,a)=>{const o=a.target.files?.[0];if(!o)return;const u=new FileReader;u.onload=()=>{typeof u.result=="string"&&d({appIcons:{...h.appIcons,[t]:u.result}})},u.readAsDataURL(o),a.target.value=""},[h.appIcons,d]),Ne=s.useCallback(t=>{const a={...h.appIcons};delete a[t],d({appIcons:a})},[h.appIcons,d]),Se=_(r),ye=ee(r);return e.jsxs("div",{className:"mphone-root",children:[e.jsx("div",{className:"mphone-wallpaper",style:{backgroundImage:`url('${ce}')`},"aria-hidden":"true"}),e.jsx("div",{className:"mphone-wallpaper-overlay","aria-hidden":"true"}),e.jsx("div",{className:"mphone-dynamic-island","aria-hidden":"true"}),e.jsxs("div",{className:`mphone-screen mphone-lock ${R("lock",j)}`,onTouchStart:he,onTouchEnd:de,children:[e.jsx(W,{now:r,hideTime:!0}),e.jsxs("div",{className:"mphone-lock-body",children:[e.jsxs("div",{className:"mphone-lock-hero",children:[e.jsx("div",{className:"mphone-lock-date",children:ye}),e.jsx("div",{className:"mphone-lock-time",children:Se})]}),e.jsx("div",{className:"mphone-lock-spacer"}),S&&e.jsx(Re,{song:S})]}),e.jsxs("div",{className:"mphone-lock-footer",children:[e.jsxs("div",{className:"mphone-lock-swipe-hint","aria-hidden":"true",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"none",width:"13",height:"13",children:e.jsx("path",{d:"M10 5v10M5 10l5 5 5-5",stroke:"rgba(255,255,255,0.4)",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{children:"å‘ä¸‹æ»‘å‹•æŸ¥çœ‹é€šçŸ¥"})]}),e.jsx("div",{className:"mphone-home-indicator"})]})]}),e.jsxs("div",{className:`mphone-screen mphone-notif ${R("notif",j)}`,onTouchStart:me,onTouchEnd:ue,children:[e.jsx(W,{now:r}),e.jsxs("div",{className:"mphone-notif-header",children:[e.jsx("div",{className:"mphone-notif-title",children:"é€šçŸ¥ä¸­å¿ƒ"}),e.jsx("button",{type:"button",className:"mphone-notif-close",onClick:E,"aria-label":"é—œé–‰é€šçŸ¥ä¸­å¿ƒ",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2.5",strokeLinecap:"round"})})})]}),e.jsx("div",{className:"mphone-notif-scroll",onScroll:t=>{F.current=t.currentTarget.scrollTop},children:z.map(t=>{const a=T[t],o=N[t]??a.staticTitle??"...",u=a.staticSub??a.label,M=h.appIcons[t];return e.jsxs("button",{type:"button",className:"mphone-notif-card mphone-glass",onClick:()=>y(t),children:[e.jsx("div",{className:"mphone-notif-ico",style:M?{backgroundImage:`url('${M}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:a.iconBg},children:!M&&a.icon}),e.jsxs("div",{className:"mphone-notif-body",children:[e.jsx("div",{className:"mphone-notif-app",children:a.label}),e.jsx("div",{className:"mphone-notif-title",children:o}),e.jsx("div",{className:"mphone-notif-sub",children:u})]}),e.jsx("div",{className:"mphone-notif-when",children:se[t]??a.timeAgo??"ä»Šå¤©"})]},t)})}),e.jsxs("div",{className:"mphone-notif-bottom",children:[e.jsx("button",{type:"button",className:"mphone-notif-home-btn",onClick:re,"aria-label":"å‰å¾€æ¡Œé¢",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M3 9.5L12 3l9 6.5V20a1 1 0 0 1-1 1H15v-5h-6v5H4a1 1 0 0 1-1-1V9.5z",fill:"rgba(255,255,255,0.88)"})})}),e.jsx("div",{className:"mphone-home-indicator"})]})]}),e.jsxs("div",{className:`mphone-screen mphone-home ${R("home",j)}`,children:[e.jsx(W,{now:r}),e.jsxs("div",{ref:q,className:"mphone-home-pager",children:[e.jsxs("section",{className:"mphone-home-page",children:[e.jsx(We,{now:r}),e.jsx("div",{className:"mphone-app-grid",children:ae.map(t=>e.jsx(P,{appId:t,onLaunch:y,customIconUrl:h.appIcons[t]},t))})]}),e.jsxs("section",{className:"mphone-home-page",children:[e.jsx(_e,{song:S}),e.jsxs("div",{className:"mphone-app-grid",children:[ie.map(t=>e.jsx(P,{appId:t,onLaunch:y,customIconUrl:h.appIcons[t]},t)),le.map(t=>e.jsx(P,{appId:t,onLaunch:y,customIconUrl:h.appIcons[t]},t)),e.jsxs("button",{type:"button",className:"mphone-app-item",onClick:pe,"aria-label":"Anni's Phone",children:[e.jsx("div",{className:"mphone-app-icon mphone-annisphone-icon",children:e.jsx("span",{children:"A"})}),e.jsx("span",{className:"mphone-app-label",children:"Anni's Phone"})]})]})]})]}),e.jsx("div",{className:"mphone-page-dots","aria-hidden":"true",children:[0,1].map(t=>e.jsx("span",{className:`mphone-page-dot${t===L?" is-active":""}`},t))}),e.jsx("div",{className:"mphone-dock-wrap",children:e.jsxs("div",{className:"mphone-dock",children:[oe.map(t=>e.jsx(P,{appId:t,onLaunch:y,dockSize:!0,customIconUrl:h.appIcons[t]},t)),e.jsx("button",{type:"button",className:"mphone-app-item mphone-dock-item","aria-label":"è¨­å®š",onClick:()=>c(!0),children:e.jsx("div",{className:"mphone-app-icon",style:{background:"linear-gradient(145deg,#636366,#48484a)"},children:e.jsx("span",{children:"âš™"})})})]})}),e.jsx("div",{className:"mphone-home-indicator"})]}),B&&e.jsx("div",{className:"mphone-confirm-overlay",onClick:G,role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"mphone-confirm-dialog",onClick:t=>t.stopPropagation(),children:[e.jsx("p",{className:"mphone-confirm-title",children:"é›¢é–‹ M çš„æ‰‹æ©Ÿï¼Ÿ"}),e.jsx("p",{className:"mphone-confirm-sub",children:"åˆ‡æ›å› Anni's Phone"}),e.jsxs("div",{className:"mphone-confirm-actions",children:[e.jsx("button",{type:"button",className:"mphone-confirm-cancel",onClick:G,children:"å–æ¶ˆ"}),e.jsx("button",{type:"button",className:"mphone-confirm-ok",onClick:ge,children:"ç¢ºå®š"})]})]})}),C&&e.jsx($e,{settings:h,wallpaperDraft:A,iconDrafts:D,currentApps:z,onWallpaperDraftChange:$,onWallpaperApply:be,onWallpaperUpload:xe,onWallpaperClear:fe,onIconDraftChange:je,onIconApply:ve,onIconUpload:ke,onIconClear:Ne,onClose:()=>c(!1)})]})}export{ze as MPhonePage};
