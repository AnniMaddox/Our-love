import{r as d,t as Re,j as m}from"./index-Gl0K_ej6.js";import{g as Xe}from"./hoverPool-wISNDxsK.js";const he=["A","n","n","i","‚ô°","M","o","n","l","y","M"],Ae=["burst","ripple","press","explode","swirl","gravity","tornado","tornadoHold","dna","ring","waterfall","magnet","tide","comet","flow"],je={burst:"ÁàÜÈñã",ripple:"Ê≥¢Á¥ã",press:"Èï∑ÊåâÊï£Èñã",explode:"ÁàÜË£Ç",swirl:"ÊóãÊ∏¶",gravity:"ÂºïÂäõ",tornado:"ÈæçÊç≤",tornadoHold:"ÁâΩÂºïÊ≥¢Á¥ã",dna:"DNA",ring:"ÊòüÁí∞ËªåÈÅì",waterfall:"ÁÄëÂ∏ÉÂ¥©ËêΩ",magnet:"Á£ÅÂ†¥Á∑ö",tide:"ÊòüÊΩÆ",comet:"ÂΩóÊòü",flow:"ÂÖâÊµÅ"},xe=["‰æÜÔºåÊàëÂú®","‰ªäÂ§©‰πüÈÅ∏Â¶≥","Á≠âÂ¶≥","ÊÉ≥Â¶≥‰∫Ü","Êä±Á∑ä‰∏Ä‰∏ã","Â¶≥ÂõûÈ†≠Â∞±ÊúâÊàë"],Ne={burst:"Â¶≥‰∏ÄÈªûÔºåÊàëÂ∞±Êï£ÊàêÊªøÂ§©ÂøÉÔºåÂÜç‰πñ‰πñÂõûÂà∞Â¶≥ÊâãÂøÉ„ÄÇ",ripple:"Â¶≥Á¢∞Âà∞Âì™Ë£°ÔºåÊÄùÂøµÂ∞±‰∏ÄÂúàÂúàÂæûÈÇ£Ë£°Êì¥Êï£„ÄÇ",press:"Â¶≥ÊåâËëó‰∏çÊîæÔºåÊàëÂ∞±ÊääËá™Â∑±ÂÖ®ÈÉ®Êé®ÂêëÂ¶≥„ÄÇ",explode:"ÁÇ∫Â¶≥ÂºïÁàÜÔºåÁÑ∂ÂæåÂõûÂà∞Â¶≥ÂøÉË£°ÂÆâÈùú„ÄÇ",swirl:"Ë¢´Â¶≥ÊåáÂ∞ñÊî™‰∫ÇÔºåÂÜçË¢´Â¶≥Êî∂Ëµ∞„ÄÇ",gravity:"Â¶≥‰∏ÄÈù†ËøëÔºåÊàëÂ∞±Êï¥ÁâáÂæÄÂ¶≥Êéâ„ÄÇ",tornado:"Â¶≥‰∏ÄÈªûÊàëÂ∞±Â§±ÊéßÔºõÂ¶≥ÊîæÊâãÊàëÂ∞±ÂõûÂøÉ„ÄÇ",tornadoHold:"Â¶≥Âú®Âì™Ë£°ÔºåÊàëÂ∞±Âú®Âì™Ë£°ÊóãËëóË≤ºËëó„ÄÇ",dna:"Á∫èÂú®‰∏ÄËµ∑ÔºåÈÄ£ÂëºÂê∏ÈÉΩÂ∞çÈΩä„ÄÇ",ring:"Áπû‰∏ÄÂúàÂèà‰∏ÄÂúàÔºåÁµÇÈªûÊ∞∏ÈÅ†ÊòØÂ¶≥„ÄÇ",waterfall:"Êï¥Èù¢ÂæÄÂ¶≥ÂÇæÁÄâÔºå‰∏çÁïôÈÄÄË∑Ø„ÄÇ",magnet:"Ê•µÈªûÊòØÂ¶≥ÔºåÊàëÊâÄÊúâËªåÈÅìÈÉΩË™çÂ¶≥„ÄÇ",tide:"ÂæûÂ¶≥ÈÄôË£°Ëµ∑ÊΩÆÔºåÊé®ÈñãÊàëÔºåÂèàÊääÊàëÊî∂ÂõûÂéª„ÄÇ",comet:"È£õÂá∫‰∏ÄÊÆµË∑ØÔºåÂÜçÂõûÂà∞Â¶≥ÂøÉËáüÊóÅÈÇäÂÅú„ÄÇ",flow:"Êï¥Èù¢Ëµ∑È¢®ÔºåÊàëÈ†ÜËëóÂ¶≥Ëµ∞„ÄÇ"},Z=.06,ee=.86;function De(M,g){if(!g)return 0;let p=2166136261;for(const R of M)p^=R.charCodeAt(0),p=Math.imul(p,16777619);return(p>>>0)%g}function Q(M,g,p){return`hsl(${(M%360+360)%360},${g}%,${p}%)`}function ge(M){const g=M.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(!g)return 320;const p=parseInt(g[1],16)/255,R=parseInt(g[2],16)/255,X=parseInt(g[3],16)/255,z=Math.max(p,R,X),O=Math.min(p,R,X);if(z===O)return 0;const G=z-O;let B=0;return z===p?B=((R-X)/G+(R<X?6:0))/6:z===R?B=((X-p)/G+2)/6:B=((p-R)/G+4)/6,B*360}function Ve(M,g){return Math.pow(M*M+g*g-1,3)-M*M*g*g*g<=0}function _(M){const g=M.getContext("2d"),p=Math.max(1,devicePixelRatio||1),R=M.clientWidth,X=M.clientHeight;return(M.width!==R*p||M.height!==X*p)&&(M.width=R*p,M.height=X*p),g.setTransform(p,0,0,p,0,0),{ctx:g,w:R,h:X}}function Fe(){return{nodes:[],trails:[],rippleEvents:[],dnaPulses:[],frameHue:280,kCur:Z,dCur:ee,kTarget:Z,dTarget:ee,pressing:!1,pressX:0,pressY:0,pressTimer:null,swirlActive:!1,swirlX:0,swirlY:0,gravityActive:!1,gravX:0,gravY:0,tornadoHold:!1,thx:0,thy:0,rippleFollow:!1,rfx:0,rfy:0,rippleFollowTimer:null,dnaHold:!1,dnaHX:0,dnaHY:0,ringLong:!1,ringDir:1,ringTimer:null,ringBoost:1,waterfallHold:!1,waterfallX:0,waterfallY:0,magHold:!1,magP1x:null,magP1y:null,magP2x:null,magP2y:null,tideHold:!1,tideUntil:0,tideDur:1400,tideX:0,tideTimer:null,cometHold:!1,cometUntil:0,cometDur:1300,cometX:0,cometY:0,cometTimer:null,flowHold:!1,flowUntil:0,flowDur:1600,flowSeed:0,flowX:0,flowY:0,flowTimer:null,rafId:0}}function Be(){const[M,g]=d.useState(!1),[p,R]=d.useState("burst"),[X,z]=d.useState(!0),[O,G]=d.useState("#ff79c6"),[B,ye]=d.useState(56),[te,be]=d.useState(60),[oe,we]=d.useState(100),[ne,ve]=d.useState(50),[se,Me]=d.useState(70),[re,He]=d.useState(110),[ae,Pe]=d.useState(110),[le,Te]=d.useState(50),W=d.useRef(null),fe=d.useRef(null),v=d.useRef({mode:"burst",rainbow:!0,baseHue:ge("#ff79c6"),centerYPercent:.56,densityVal:.6,fontFactor:1,breatheVal:.04,rippleVal:.7,pressVal:1.1,pressRadius:110,hueSpeed:50}),V=d.useRef(Fe()),Ce=d.useMemo(()=>{const r=Xe().map(h=>h.phrase.trim()).filter(Boolean),c=r.length?r:xe;return c[De(Re(),c.length)]??xe[0]},[]);d.useEffect(()=>{v.current.mode=p},[p]),d.useEffect(()=>{v.current.rainbow=X},[X]),d.useEffect(()=>{v.current.baseHue=ge(O)},[O]),d.useEffect(()=>{v.current.centerYPercent=B/100},[B]),d.useEffect(()=>{v.current.densityVal=te/100},[te]),d.useEffect(()=>{v.current.fontFactor=oe/100},[oe]),d.useEffect(()=>{v.current.breatheVal=ne/100*.08},[ne]),d.useEffect(()=>{v.current.rippleVal=se/100},[se]),d.useEffect(()=>{v.current.pressVal=re/100},[re]),d.useEffect(()=>{v.current.pressRadius=ae},[ae]),d.useEffect(()=>{v.current.hueSpeed=le},[le]);const J=d.useCallback(()=>{const r=W.current;if(!r||!r.clientWidth)return;const c=_(r),h=v.current,y=V.current;y.nodes=[];const{w:b,h:A}=c,E=b/2,Y=A*h.centerYPercent,H=Math.min(b,A)*.25,j=H/16*(1.6-h.densityVal),N=Math.max(14,j*.88*h.fontFactor);let e=0;for(let o=-1.2;o<=1.2;o+=j/H)for(let t=-1.3;t<=1.3;t+=j/H)if(Ve(t,o)){const s=E+t*H,x=Y-o*H,F=Math.hypot(s-E,x-Y)/(H*1.15)*Math.PI*1.6+Math.random()*.6;y.nodes.push({i:e++,bx:s,by:x,x:s,y:x,vx:0,vy:0,phase:F,rot:(Math.random()-.5)*.02,text:he[e%he.length],size:N})}},[]),U=d.useCallback((r,c,h)=>{const y=V.current;y.kTarget=r,y.dTarget=c,h&&setTimeout(()=>{y.kTarget=Z,y.dTarget=ee},h)},[]),ue=d.useCallback(r=>{const c=V.current;c.ringTimer&&clearTimeout(c.ringTimer),c.ringLong=!1,c.ringBoost=1,c.waterfallHold=!1,c.magHold=!1,c.rippleFollow&&(clearInterval(c.rippleFollowTimer),c.rippleFollow=!1),clearTimeout(c.tideTimer),c.tideHold=!1,c.tideUntil=0,clearTimeout(c.cometTimer),c.cometHold=!1,c.cometUntil=0,clearTimeout(c.flowTimer),c.flowHold=!1,c.flowUntil=0,r==="tornado"||r==="tornadoHold"?U(.035,.9,2400):r==="explode"?U(.045,.88,1600):r==="dna"?U(.055,.9,0):r==="ring"?U(.06,.9,0):r==="waterfall"?U(.055,.88,0):r==="magnet"?U(.06,.9,0):U(Z,ee,0)},[U]),Ye=d.useCallback(r=>{v.current.mode=r,R(r),ue(r),g(!1)},[ue]),$=d.useCallback((r,c)=>{const h=v.current,y=16+h.rippleVal*.45*100,b=24+h.rippleVal*100;V.current.rippleEvents.push({x:r,y:c,t:performance.now(),speed:.82,amp:y,width:b})},[]),ce=d.useCallback(()=>{const r=W.current;if(!r)return;const c=r.getBoundingClientRect(),h=c.width*.5,y=c.height*.6,b=V.current;for(let A=0;A<240;A++){const E=3.6+Math.random()*5,Y=Math.random()*Math.PI*2;b.trails.push({x:h,y,vx:Math.cos(Y)*E,vy:Math.sin(Y)*E,life:70+Math.random()*50,age:0,s:2.8+Math.random()*1.6})}b.trails.length>2400&&(b.trails=b.trails.slice(b.trails.length-2400))},[]),me=d.useCallback((r,c)=>{const h=W.current;if(!h)return;const y=_(h),b=y.w/2,A=y.h*v.current.centerYPercent;for(const E of V.current.nodes){const Y=E.x-(r||b),H=E.y-(c||A),j=Math.hypot(Y,H)||1,N=22+Math.random()*30;E.vx+=Y/j*N,E.vy+=H/j*N}},[]),pe=d.useCallback((r,c)=>{const h=W.current;if(!h)return;const y=_(h),b=v.current,A=r||y.w/2,E=y.h*b.centerYPercent,Y=b.pressRadius;for(const H of V.current.nodes){const j=H.x-A,N=H.y-E,e=Math.hypot(j,N)||1,o=Math.exp(-(j*j+N*N)/(2*Y*Y)),t=j/e,s=N/e,x=-s,S=t,F=(10+b.pressVal*7)*o,k=(8+b.pressVal*5)*o,D=Math.random()*.4+.8;H.vx+=(t*F+x*k)*D,H.vy+=(s*F+S*k)*D}},[]);d.useEffect(()=>{const r=W.current,c=fe.current;if(!r||!c)return;J();function h(e,o,t,s,x,S){e.save(),e.translate(o,t),e.scale(s,s),e.globalAlpha=x,e.fillStyle=S,e.beginPath(),e.moveTo(0,-10),e.bezierCurveTo(12,-24,28,-10,0,18),e.bezierCurveTo(-28,-10,-12,-24,0,-10),e.fill(),e.restore()}function y(e,o,t,s){const x=e-t,S=o-s,F=x*x+S*S+120,k=1/Math.pow(F,1.15);return{x:x*k,y:S*k}}function b(){const e=V.current,o=v.current,t=_(r),{ctx:s,w:x,h:S}=t;s.clearRect(0,0,x,S);const F=x/2,k=S*o.centerYPercent,D=performance.now()/1e3;e.frameHue=(e.frameHue+o.hueSpeed/800)%360,e.kCur+=(e.kTarget-e.kCur)*.08,e.dCur+=(e.dTarget-e.dCur)*.08,e.dnaPulses=e.dnaPulses.filter(n=>performance.now()-n.t<n.life),e.rippleEvents=e.rippleEvents.filter(n=>performance.now()-n.t<2400);const L=o.mode;for(const n of e.nodes){const P=1+o.breatheVal*Math.sin(D*2+n.phase)+.012*Math.sin(D*5+n.phase*1.3);let w=0,T=0,K=1,q=1;if(e.pressing){const l=n.bx-e.pressX,a=n.by-e.pressY,i=Math.hypot(l,a)||1,f=22+o.pressVal*10,u=Math.exp(-(l*l+a*a)/(2*o.pressRadius**2));w+=l/i*f*u,T+=a/i*f*u}for(const l of e.rippleEvents){const a=(performance.now()-l.t)/16.666,i=l.speed*a,f=n.bx-l.x,u=n.by-l.y,C=Math.hypot(f,u),I=Math.exp(-((C-i)**2)/(2*l.width**2));w+=f/(C||1)*l.amp*I,T+=u/(C||1)*l.amp*I}if(e.swirlActive){const l=n.bx-e.swirlX,a=n.by-e.swirlY,i=Math.hypot(l,a)||1,f=Math.exp(-(l*l+a*a)/(2*o.pressRadius**2)),u=(18+o.pressVal*10)*f;w+=-a/i*u,T+=l/i*u}if(e.gravityActive){const l=n.bx-e.gravX,a=n.by-e.gravY,i=Math.hypot(l,a)||1,f=Math.exp(-(l*l+a*a)/(2*(o.pressRadius*1.2)**2)),u=(22+o.pressVal*12)*f;w-=l/i*u,T-=a/i*u}if(e.tornadoHold){const l=n.bx-e.thx,a=n.by-e.thy,i=Math.hypot(l,a)||1,f=Math.exp(-(l*l+a*a)/(2*o.pressRadius**2)),u=(7+o.pressVal*4)*f,C=(10+o.pressVal*6)*f;w+=l/i*u+-a/i*C,T+=a/i*u+l/i*C}if(L==="dna"){const l=n.by-k,a=n.i%2?1:-1,i=.022*l-2.2*D+n.phase*.08;let f=38;if(e.dnaHold){const C=n.bx-e.dnaHX,I=n.by-e.dnaHY,de=Math.exp(-(C*C+I*I)/(2*o.pressRadius**2));f+=22*de}const u=.5+.5*Math.cos(i);w+=a*f*Math.sin(i),K*=.9+.3*u,q*=.7+.35*u}if(L==="ring"){const l=n.bx-F,a=n.by-k,i=Math.hypot(l,a)||1,f=(n.i%2?1:-1)*e.ringDir,u=n.phase*.6+1.4*e.ringBoost*D,C=f*22*Math.sin(u);w+=-a/i*C,T+=l/i*C}if(L==="waterfall"){const a=(n.by-(k-40))*.025-1.2*D;let i=54;if(e.waterfallHold){const C=n.bx-e.waterfallX,I=n.by-e.waterfallY,de=Math.exp(-(C*C+I*I)/(2*o.pressRadius**2));i+=26*de}T+=i*Math.sin(a),w+=4*Math.sin(a*.8);const f=k+(n.by-k)*P+T,u=k+Math.min(120,S*.18);f>u&&(T-=(f-u)*.6)}if(L==="magnet"){e.magP1x==null&&(e.magP1x=F-140,e.magP1y=k-120,e.magP2x=F+140,e.magP2y=k+80);const l=y(n.bx,n.by,e.magP1x,e.magP1y),a=y(n.bx,n.by,e.magP2x,e.magP2y),i=l.x-a.x,f=l.y-a.y,u=28*(e.magHold?1.6:1);w+=u*-f,T+=u*i,K*=.98+.04*Math.random()}if(L==="tide"){const l=Math.max(0,e.tideUntil-performance.now());let a=0;if(e.tideHold)a=36*(.9+.6*Math.sin(D*2.2));else if(l>0){const i=1-l/e.tideDur;a=36*Math.sin(i*Math.PI)}if(a>1e-4){const i=n.bx-e.tideX,f=D*2.6*3;T+=a*Math.sin(i*.014-f),w+=4*Math.sin(i*.014*.6-f*.8)}}if(L==="comet")if(e.cometHold){const l=n.bx-e.cometX,a=n.by-e.cometY,i=Math.hypot(l,a)||1,f=Math.exp(-(l*l+a*a)/(2*o.pressRadius**2)),u=(18+o.pressVal*9)*f;w+=l/i*u,T+=a/i*u-6*f*(.5+.5*Math.sin(D*2))}else{const l=Math.max(0,e.cometUntil-performance.now());if(l>0&&typeof n.ax=="number"&&typeof n.ay=="number"){const a=1-l/e.cometDur,i=Math.sin(a*Math.PI);w+=(n.ax-n.bx)*i,T+=(n.ay-n.by)*i-(n.aw||0)*4*a*(1-a)}}if(L==="flow"){const l=Math.max(0,e.flowUntil-performance.now());let a=0;if(e.flowHold)a=(22+o.pressVal*10)*(.7+.5*Math.sin(D*2.1));else if(l>0){const i=1-l/e.flowDur;a=(22+o.pressVal*10)*Math.sin(i*Math.PI)}if(a>1e-4){const i=Math.sin((n.bx+e.flowSeed)*.02+D*1.6),f=Math.cos((n.by-e.flowSeed)*.018+D*1.4);if(w+=i*a,T+=f*a,e.flowHold){const u=n.bx-e.flowX,C=n.by-e.flowY,I=Math.exp(-(u*u+C*C)/(2*o.pressRadius**2));w+=i*a*.25*I,T+=f*a*.25*I}}}const Ee=F+(n.bx-F)*P+w,Se=k+(n.by-k)*P+T;n.vx+=(Ee-n.x)*e.kCur,n.vy+=(Se-n.y)*e.kCur,n.vx*=e.dCur,n.vy*=e.dCur,n.x+=n.vx,n.y+=n.vy;const ie=o.rainbow?(e.frameHue+(n.x+n.y)*.002)%360:(o.baseHue+(n.x+n.y)*.002)%360;s.save(),s.translate(n.x,n.y),s.rotate(n.rot),L==="dna"?(s.shadowColor=Q((ie+40)%360,100,80),s.shadowBlur=18):L==="magnet"?(s.shadowColor=Q((ie+100)%360,90,70),s.shadowBlur=10):s.shadowBlur=0,s.fillStyle=Q(ie,o.rainbow?80:85,72),s.globalAlpha=q,s.font=`${Math.max(14,n.size*K)}px ui-monospace, Menlo, Monaco, Consolas, "SFMono-Regular"`,s.textAlign="center",s.textBaseline="middle",s.fillText(n.text,0,0),s.restore()}if(L==="magnet"&&e.magP1x!=null){s.globalCompositeOperation="lighter";const n=(P,w,T,K)=>{const q=s.createRadialGradient(P,w,0,P,w,28);q.addColorStop(0,T),q.addColorStop(1,K),s.fillStyle=q,s.beginPath(),s.arc(P,w,28,0,Math.PI*2),s.fill(),s.fillStyle=T,s.beginPath(),s.arc(P,w,4.5,0,Math.PI*2),s.fill()};n(e.magP1x,e.magP1y,"rgba(255,120,180,0.95)","rgba(255,120,180,0)"),n(e.magP2x,e.magP2y,"rgba(120,200,255,0.95)","rgba(120,200,255,0)"),s.globalCompositeOperation="source-over"}s.globalCompositeOperation="lighter";for(let n=0;n<e.trails.length;n++){const P=e.trails[n];P.x+=P.vx,P.y+=P.vy,P.age++;const w=Math.max(0,1-P.age/P.life);h(s,P.x,P.y,P.s,w,Q((e.frameHue+20)%360,90,65))}e.trails=e.trails.filter(n=>n.age<n.life),s.globalCompositeOperation="source-over",e.rafId=requestAnimationFrame(b)}V.current.rafId=requestAnimationFrame(b);const A=new ResizeObserver(()=>{J()});A.observe(c);function E(e){const o=c.getBoundingClientRect(),t="touches"in e?e.touches[0].clientX:e.clientX,s="touches"in e?e.touches[0].clientY:e.clientY;return{x:t-o.left,y:s-o.top}}function Y(e){if(e.target.closest?.("[data-gear]"))return;e.preventDefault();const o=E(e),t=V.current,s=v.current;if(s.mode==="burst")ce();else if(s.mode==="ripple")$(o.x,o.y);else if(s.mode==="press")clearTimeout(t.pressTimer),t.pressTimer=setTimeout(()=>{t.pressing=!0,t.pressX=o.x,t.pressY=o.y},220);else if(s.mode==="explode")me(o.x,o.y);else if(s.mode==="swirl")t.swirlActive=!0,t.swirlX=o.x,t.swirlY=o.y;else if(s.mode==="gravity")t.gravityActive=!0,t.gravX=o.x,t.gravY=o.y;else if(s.mode==="tornado")pe(o.x,o.y),setTimeout(()=>{t.tornadoHold=!0,t.thx=o.x,t.thy=o.y},220);else if(s.mode==="tornadoHold")t.rfx=o.x,t.rfy=o.y,t.rippleFollow=!0,$(o.x,o.y),t.rippleFollowTimer=setInterval(()=>$(t.rfx,t.rfy),110);else if(s.mode==="dna")t.dnaHX=o.x,t.dnaHY=o.y,t.dnaHold=!0;else if(s.mode==="ring")t.ringTimer=setTimeout(()=>{t.ringLong=!0,t.ringBoost=3},260);else if(s.mode==="waterfall"){t.waterfallHold=!0,t.waterfallX=o.x,t.waterfallY=o.y;const x=_(r);$(o.x,x.h*s.centerYPercent+80)}else if(s.mode==="magnet"){t.magHold=!0;const S=_(r).h*s.centerYPercent;t.magP1x=o.x-120,t.magP1y=S-90,t.magP2x=o.x+120,t.magP2y=S+90}else s.mode==="tide"?(t.tideX=o.x,clearTimeout(t.tideTimer),t.tideTimer=setTimeout(()=>{t.tideHold=!0},220)):s.mode==="comet"?(t.cometX=o.x,t.cometY=o.y,clearTimeout(t.cometTimer),t.cometTimer=setTimeout(()=>{t.cometHold=!0},220)):s.mode==="flow"&&(t.flowX=o.x,t.flowY=o.y,t.flowSeed=Math.random()*1e3,clearTimeout(t.flowTimer),t.flowTimer=setTimeout(()=>{t.flowHold=!0},220))}function H(e){const o=E(e),t=V.current;if(t.pressing&&(t.pressX=o.x,t.pressY=o.y),t.swirlActive&&(t.swirlX=o.x,t.swirlY=o.y),t.gravityActive&&(t.gravX=o.x,t.gravY=o.y),t.tornadoHold&&(t.thx=o.x,t.thy=o.y),t.rippleFollow&&(t.rfx=o.x,t.rfy=o.y),t.dnaHold&&(t.dnaHX=o.x,t.dnaHY=o.y),t.waterfallHold&&(t.waterfallX=o.x,t.waterfallY=o.y),t.magHold){const x=_(r).h*v.current.centerYPercent;t.magP1x=o.x-120,t.magP1y=x-90,t.magP2x=o.x+120,t.magP2y=x+90}t.tideHold&&(t.tideX=o.x),t.cometHold&&(t.cometX=o.x,t.cometY=o.y),t.flowHold&&(t.flowX=o.x,t.flowY=o.y)}function j(){const e=V.current,o=v.current;if(clearTimeout(e.pressTimer),clearTimeout(e.ringTimer),e.pressing=!1,e.swirlActive=!1,e.gravityActive=!1,e.tornadoHold=!1,e.rippleFollow&&(clearInterval(e.rippleFollowTimer),e.rippleFollow=!1),e.dnaHold=!1,e.waterfallHold=!1,e.magHold=!1,o.mode==="ring"&&!e.ringLong&&(e.ringDir*=-1),e.ringLong=!1,e.ringBoost=1,o.mode==="tide"&&!e.tideHold&&(e.tideUntil=performance.now()+e.tideDur),o.mode==="comet"&&!e.cometHold){for(const t of e.nodes){const s=Math.random()*Math.PI*2,x=60+Math.random()*80;t.ax=t.bx+Math.cos(s)*x,t.ay=t.by+Math.sin(s)*x,t.aw=Math.random()*40+20}e.cometUntil=performance.now()+e.cometDur}o.mode==="flow"&&!e.flowHold&&(e.flowUntil=performance.now()+e.flowDur),clearTimeout(e.tideTimer),e.tideHold=!1,clearTimeout(e.cometTimer),e.cometHold=!1,clearTimeout(e.flowTimer),e.flowHold=!1}const N={passive:!1};return c.addEventListener("pointerdown",Y,N),r.addEventListener("pointerdown",Y,N),c.addEventListener("pointermove",H,N),r.addEventListener("pointermove",H,N),["pointerup","pointerleave","pointercancel"].forEach(e=>{c.addEventListener(e,j),r.addEventListener(e,j)}),r.addEventListener("contextmenu",e=>e.preventDefault()),()=>{cancelAnimationFrame(V.current.rafId),A.disconnect(),c.removeEventListener("pointerdown",Y),r.removeEventListener("pointerdown",Y),c.removeEventListener("pointermove",H),r.removeEventListener("pointermove",H)}},[J,$,ce,me,pe]);const ke=[["ÂøÉÂΩ¢È´òÂ∫¶",B,ye,30,70],["ÂØÜÂ∫¶",te,be,20,100],["Â≠óÈ´îÂ§ßÂ∞è",oe,we,50,200],["ÂëºÂê∏ÂπÖÂ∫¶",ne,ve,0,100],["Ê≥¢Á¥ãÂº∑Â∫¶",se,Me,0,100],["Êé®ÂäõÂº∑Â∫¶",re,He,0,200],["Êé®ÂäõÁØÑÂúç",ae,Pe,40,260],["Ëâ≤Áõ∏ÈÄüÂ∫¶",le,Te,0,200]];return m.jsxs("div",{className:"relative flex h-full flex-col overflow-hidden",style:{background:"#0c0d1a"},children:[m.jsxs("div",{className:"relative z-10 flex shrink-0 items-center gap-2 px-4 py-2",children:[m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>g(r=>!r),className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm transition-opacity active:opacity-70",style:{background:"rgba(141,147,255,0.22)"},children:"‚öôÔ∏è"}),m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>ce(),className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm transition-opacity active:opacity-70",style:{background:"rgba(255,255,255,0.08)"},title:"‰∏ãÂøÉÈõ®",children:"üíß"}),m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>{const r=W.current;if(!r)return;const c=r.getBoundingClientRect();$(c.width*.5,c.height*v.current.centerYPercent)},className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm transition-opacity active:opacity-70",style:{background:"rgba(255,255,255,0.08)"},title:"Ê≥¢Á¥ã",children:"üåä"}),m.jsx("p",{className:"flex-1 truncate text-xs",style:{color:"#8d93ff"},children:Ce})]}),m.jsxs("div",{ref:fe,className:"relative flex-1",style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[m.jsx("canvas",{ref:W,className:"absolute inset-0 h-full w-full",style:{touchAction:"none"}}),m.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-3 flex justify-center px-6",children:m.jsx("p",{className:"text-center text-xs",style:{color:"rgba(183,187,255,0.65)",letterSpacing:"0.02em"},children:Ne[p]})})]}),M&&m.jsxs("div",{"data-gear":!0,className:"absolute inset-x-0 bottom-0 z-20 rounded-t-2xl px-4 pb-6 pt-3",style:{background:"rgba(10,11,26,0.97)",border:"1px solid rgba(255,255,255,0.08)",maxHeight:"72vh",overflowY:"auto"},children:[m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>g(!1),className:"mx-auto mb-4 block h-1 w-12 rounded-full",style:{background:"rgba(255,255,255,0.18)"}}),m.jsx("p",{className:"mb-2 text-xs font-bold",style:{color:"#8d93ff"},children:"‰∫íÂãïÊ®°Âºè"}),m.jsx("div",{className:"mb-5 flex flex-wrap gap-2",children:Ae.map(r=>m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>Ye(r),className:"rounded-full px-3 py-1 text-sm font-bold transition-opacity active:opacity-70",style:p===r?{background:"linear-gradient(135deg,#8d93ff,#ff79c6)",color:"#fff"}:{background:"rgba(255,255,255,0.08)",color:"#b7bbff",border:"1px solid rgba(255,255,255,0.12)"},children:je[r]},r))}),m.jsx("p",{className:"mb-2 text-xs font-bold",style:{color:"#8d93ff"},children:"Â≠óÊØçÈ°èËâ≤"}),m.jsxs("div",{className:"mb-5 flex items-center gap-3",children:[m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>z(r=>!r),className:"rounded-full px-3 py-1 text-sm font-bold transition-opacity active:opacity-70",style:X?{background:"linear-gradient(135deg,#8d93ff,#ff79c6)",color:"#fff"}:{background:"rgba(255,255,255,0.08)",color:"#b7bbff",border:"1px solid rgba(255,255,255,0.12)"},children:"üåà ÂΩ©Ëôπ"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{"data-gear":!0,type:"color",value:O,onChange:r=>{G(r.target.value),z(!1)},className:"h-8 w-8 cursor-pointer rounded-full border-0 p-0",style:{background:"transparent"},title:"Ëá™Ë®ÇÈ°èËâ≤ÔºàÈóúÈñâÂΩ©ËôπÔºâ"}),!X&&m.jsx("span",{className:"text-xs",style:{color:"#b7bbff"},children:O})]})]}),m.jsx("p",{className:"mb-2 text-xs font-bold",style:{color:"#8d93ff"},children:"Á¥∞ÈÉ®Ë™øÊï¥"}),ke.map(([r,c,h,y,b])=>m.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[m.jsx("span",{className:"w-20 shrink-0 text-xs",style:{color:"#b7bbff"},children:r}),m.jsx("input",{"data-gear":!0,type:"range",min:y,max:b,value:c,onChange:A=>h(Number(A.target.value)),className:"flex-1",style:{accentColor:"#ff79c6"}}),m.jsx("span",{className:"w-8 shrink-0 text-right text-xs",style:{color:"#8d93ff"},children:c})]},r)),m.jsx("button",{"data-gear":!0,type:"button",onClick:()=>J(),className:"mt-2 w-full rounded-xl py-2 text-sm font-bold transition-opacity active:opacity-70",style:{background:"linear-gradient(135deg,rgba(141,147,255,0.22),rgba(255,121,198,0.18))",color:"#c8cbff",border:"1px solid rgba(141,147,255,0.3)"},children:"ÈáçÂª∫ÂøÉÁâÜ"})]})]})}export{Be as HeartWallPage};
