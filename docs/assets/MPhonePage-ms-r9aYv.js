import{r as n,j as e}from"./index-BGfwlDHm.js";const Z="mphone-settings-v1";function we(){try{const s=localStorage.getItem(Z);if(s)return{wallpaper:"",appIcons:{},...JSON.parse(s)}}catch{}return{wallpaper:"",appIcons:{}}}function Ce(s){try{localStorage.setItem(Z,JSON.stringify(s))}catch{}}const K=["M-022","M-037","M-041","M-042","M-045","M-046","M-048","M-052","M-053","M-054","M-055","M-056","M-057","M-058","M-059","M-060","M-061","M-065","M-066","M-071","M-073","M-078","M-079","M-084","M-085"],Ae=3,A={diary:{label:"Mæ—¥è¨˜",icon:"è¨˜",iconBg:"linear-gradient(145deg,#ff9f0a,#e8550a)",dataPath:"data/m-diary/index.json",timeAgo:"å‰›å‰›"},questionnaire:{label:"å•å·",icon:"å•",iconBg:"linear-gradient(145deg,#5e5ce6,#3634a3)",dataPath:"data/questionnaire/index.json",timeAgo:"æ˜¨å¤©"},memo:{label:"M's memo",icon:"å‚™",iconBg:"linear-gradient(145deg,#ffd60a,#ffb800)",dataPath:"data/memo/index.json",timeAgo:"ä»Šå¤©"},murmur:{label:"ç¢ç¢å¿µ",icon:"ç¢",iconBg:"linear-gradient(145deg,#32aae0,#1a72c0)",dataPath:"data/murmur/index.json",timeAgo:"2å¤©å‰"},selfIntro:{label:"è‡ªæˆ‘ä»‹ç´¹",icon:"ä»‹",iconBg:"linear-gradient(145deg,#c9a66b,#9e7a3c)",dataPath:"data/self-intro/index.json",timeAgo:"æœ¬é€±"},letters:{label:"æƒ…æ›¸",icon:"æƒ…",iconBg:"linear-gradient(145deg,#ff6b9d,#c44d6e)",staticTitle:"æœ‰æ–°çš„æƒ…æ›¸ç­‰è‘—ä½ ",staticSub:"æƒ…æ›¸",timeAgo:"ä»Šå¤©"},album:{label:"ç›¸å†Š",icon:"ç›¸",iconBg:"linear-gradient(145deg,#30d158,#25a244)",staticTitle:"ç¿»ä¸€ç¿»æˆ‘å€‘çš„ç…§ç‰‡",staticSub:"ç›¸å†Š",timeAgo:"ä¸Šé€±"},bookshelf:{label:"æ›¸æ¶",icon:"æ›¸",iconBg:"linear-gradient(145deg,#bf5af2,#9b3bc4)",staticTitle:"æ›¸æ¶ä¸Šé‚„æœ‰æ•…äº‹",staticSub:"æ›¸å–®",timeAgo:"æœ¬æœˆ"},tarot:{label:"å¡”ç¾…",icon:"ç‰Œ",iconBg:"linear-gradient(145deg,#2c2c3e,#1a1a2e)",staticTitle:"ä»Šå¤©çš„ç‰Œé™£ç­‰è‘—ä½ ç¿»é–‹",staticSub:"å¡”ç¾…ç‰Œ",timeAgo:"ä»Šå¤©"},wishlist:{label:"é¡˜æœ›",icon:"ğŸŒ ",iconBg:"linear-gradient(145deg,#ff6b9d,#c44d6e)",staticTitle:"è¨±ä¸‹å¿ƒé¡˜",staticSub:"é¡˜æœ›",timeAgo:"ä»Šå¤©"},list:{label:"æ¸…å–®",icon:"ğŸ´",iconBg:"linear-gradient(145deg,#5e5ce6,#3634a3)",staticTitle:"æŸ¥çœ‹æ¸…å–®",staticSub:"æ¸…å–®",timeAgo:"ä»Šå¤©"},fitness:{label:"å¥èº«",icon:"ğŸ‹ï¸",iconBg:"linear-gradient(145deg,#30d158,#25a244)",staticTitle:"ä»Šå¤©å‹•èµ·ä¾†",staticSub:"å¥èº«",timeAgo:"ä»Šå¤©"},lettersAB:{label:"å¹´åº¦ä¿¡ä»¶",icon:"ğŸ“œ",iconBg:"linear-gradient(145deg,#c9a66b,#9e7a3c)",staticTitle:"ç¿»é–‹æˆ‘å€‘çš„æ•…äº‹",staticSub:"å¹´åº¦ä¿¡ä»¶",timeAgo:"ä¸Šé€±"},archive:{label:"ç¸½æ”¬",icon:"ğŸ—‚",iconBg:"linear-gradient(145deg,#2c2c3e,#1a1a2e)",staticTitle:"æ‰€æœ‰è¨˜æ†¶éƒ½åœ¨é€™è£¡",staticSub:"ç¸½æ”¬",timeAgo:"æœ¬æœˆ"},lightPath:{label:"ç•™å…‰",icon:"âœ¨",iconBg:"linear-gradient(145deg,#32aae0,#1a72c0)",staticTitle:"ç•™å…‰çµ¦å¦³çš„è·¯",staticSub:"ç•™å…‰",timeAgo:"ä»Šå¤©"},healingCampfire:{label:"ç¯ç«",icon:"ğŸ”¥",iconBg:"linear-gradient(145deg,#bf5af2,#9b3bc4)",staticTitle:"æº«æš–çš„ç¯ç«",staticSub:"æ²»ç™’ç¯ç«",timeAgo:"ä»Šå¤©"},moodLetters:{label:"å¿ƒæƒ…æ˜Ÿçƒ",icon:"ğŸ«§",iconBg:"linear-gradient(145deg,#ffd60a,#ffb800)",staticTitle:"ä»Šå¤©çš„å¿ƒæƒ…",staticSub:"å¿ƒæƒ…æ˜Ÿçƒ",timeAgo:"ä»Šå¤©"}},Pe={diary:"diary",questionnaire:"questionnaire",memo:"memo",murmur:"murmur","self-intro":"selfIntro",letters:"letters",album:"album",bookshelf:"bookshelf",tarot:"tarot",wishlist:"wishlist",list:"list",fitness:"fitness","letters-ab":"lettersAB",archive:"archive","light-path":"lightPath","healing-campfire":"healingCampfire","mood-letters":"moodLetters"},J=["diary","questionnaire","memo","murmur","selfIntro","letters","album","bookshelf","tarot"],I=["wishlist","list","fitness","lettersAB","archive","lightPath","healingCampfire","moodLetters"],Te=["questionnaire","murmur","selfIntro","album"],Le=["bookshelf","tarot"],Be=["diary","letters","memo"],Q={diary:7,questionnaire:13,memo:31,murmur:53,selfIntro:79};function De(s){const i=Math.floor(Date.now()/864e5),l=Math.floor(i/Ae)%K.length;return`${s}photos/album04/${K[l]}.webp`}function Ee(s,i){if(!s.length)return"";const l=new Date,g=l.getFullYear()*1e4+(l.getMonth()+1)*100+l.getDate()+i,h=s[Math.abs(g)%s.length];return h?.title??h?.timeLabel??""}function Ie(s){if(!s.length)return"";const i=new Date,l=i.getFullYear()*1e4+(i.getMonth()+1)*100+i.getDate()+97;return s[Math.abs(l)%s.length]?.title??""}function $(s){return`${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`}function ee(s){const i=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];return`${s.getMonth()+1}æœˆ${s.getDate()}æ—¥ é€±${i[s.getDay()]}`}function R(s,i){if(s===i)return"s-active";const l={lock:0,notif:1,home:2};return l[s]<l[i]?"s-exit-up":"s-enter-below"}const X=["å‰›å‰›","1åˆ†é˜å‰","5åˆ†é˜å‰","10åˆ†é˜å‰","ä»Šå¤©","ä»Šå¤©æ—©ä¸Š","ä»Šå¤©ä¸‹åˆ","ä»Šå¤©æ™šä¸Š","æ˜¨å¤©","æ˜¨å¤©æ—©ä¸Š","æ˜¨å¤©æ™šä¸Š","2å¤©å‰","3å¤©å‰","æœ¬é€±","ä¸Šé€±","æœ¬æœˆ"];function Re(s){const i=new Date,l=i.getFullYear()*1e4+(i.getMonth()+1)*100+i.getDate()+s;return X[Math.abs(l)%X.length]}function te(s){const i=s.split(" - ");return i.length>=2?{artist:i[0],title:i.slice(1).join(" - ")}:{artist:"",title:s}}function W({now:s,hideTime:i=!1}){return e.jsxs("div",{className:"mphone-status-bar",children:[e.jsx("div",{className:"mphone-sb-left",children:!i&&e.jsx("span",{className:"mphone-sb-time",children:$(s)})}),e.jsxs("div",{className:"mphone-sb-right",children:[e.jsxs("div",{className:"mphone-sb-signal",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsxs("svg",{className:"mphone-sb-wifi",viewBox:"0 0 16 12",fill:"none","aria-hidden":"true",children:[e.jsx("path",{d:"M8 9.5a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4z",fill:"rgba(255,255,255,0.9)"}),e.jsx("path",{d:"M4.8 7.2a4.5 4.5 0 0 1 6.4 0",stroke:"rgba(255,255,255,0.9)",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M1.8 4.4a8.4 8.4 0 0 1 12.4 0",stroke:"rgba(255,255,255,0.7)",strokeWidth:"1.4",strokeLinecap:"round",fill:"none"})]}),e.jsxs("div",{className:"mphone-sb-battery",children:[e.jsx("div",{className:"mphone-sb-battery-fill"}),e.jsx("div",{className:"mphone-sb-battery-cap"})]})]})]})}function We({song:s}){const{title:i,artist:l}=te(s);return e.jsxs("div",{className:"mphone-lock-music mphone-glass",children:[e.jsxs("div",{className:"mphone-lock-music-row1",children:[e.jsxs("div",{className:"mphone-lock-music-texts",children:[e.jsx("div",{className:"mphone-lock-music-title",children:i||"â€”"}),l&&e.jsx("div",{className:"mphone-lock-music-artist",children:l})]}),e.jsx("button",{type:"button",className:"mphone-lock-music-playbtn",tabIndex:-1,"aria-label":"æ’­æ”¾",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"22",height:"22","aria-hidden":"true",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"mphone-lock-music-progress-wrap",children:[e.jsxs("div",{className:"mphone-lock-music-bar",children:[e.jsx("div",{className:"mphone-lock-music-fill"}),e.jsx("div",{className:"mphone-lock-music-thumb"})]}),e.jsxs("div",{className:"mphone-lock-music-times",children:[e.jsx("span",{children:"0:07"}),e.jsx("span",{children:"-3:04"})]})]}),e.jsxs("div",{className:"mphone-lock-music-controls",children:[e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--side","aria-label":"æ”¶è—",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:e.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl","aria-label":"ä¸Šä¸€é¦–",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"26",height:"26","aria-hidden":"true",children:e.jsx("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--play","aria-label":"æš«åœ",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"32",height:"32","aria-hidden":"true",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl","aria-label":"ä¸‹ä¸€é¦–",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"26",height:"26","aria-hidden":"true",children:e.jsx("path",{d:"M6 18 14.5 12 6 6v12zm8.5-6v6h2V6h-2v6z"})})}),e.jsx("button",{type:"button",className:"mphone-lock-music-ctrl mphone-lock-music-ctrl--side","aria-label":"AirPlay",tabIndex:-1,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[e.jsx("path",{d:"M5 17H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h18a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-2"}),e.jsx("polygon",{points:"12 15 17 21 7 21 12 15"})]})})]})]})}function $e({now:s}){return e.jsxs("div",{className:"mphone-home-clock",children:[e.jsx("div",{className:"mphone-home-clock-date",children:ee(s)}),e.jsx("div",{className:"mphone-home-clock-time",children:$(s)})]})}function _e({song:s}){const{title:i,artist:l}=te(s);return e.jsxs("div",{className:"mphone-music-widget mphone-glass",children:[e.jsxs("div",{className:"mphone-music-info",children:[e.jsx("div",{className:"mphone-music-app",children:"éŸ³æ¨‚"}),e.jsx("div",{className:"mphone-music-title",children:i||"â€”"}),l&&e.jsx("div",{className:"mphone-music-artist",children:l})]}),e.jsx("button",{type:"button",className:"mphone-music-play","aria-label":"æ’­æ”¾",tabIndex:-1,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"white",width:"20",height:"20","aria-hidden":"true",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]})}function C({appId:s,onLaunch:i,dockSize:l=!1,customIconUrl:g}){const h=A[s],m=g?{backgroundImage:`url('${g}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:h.iconBg};return e.jsxs("button",{type:"button",className:`mphone-app-item${l?" mphone-dock-item":""}`,onClick:()=>i(s),"aria-label":h.label,children:[e.jsx("div",{className:"mphone-app-icon",style:m,children:!g&&e.jsx("span",{children:h.icon})}),!l&&e.jsx("span",{className:"mphone-app-label",children:h.label})]})}function Oe({settings:s,wallpaperDraft:i,iconDrafts:l,currentApps:g,onWallpaperDraftChange:h,onWallpaperApply:m,onWallpaperUpload:P,onWallpaperClear:k,onIconDraftChange:N,onIconApply:M,onIconUpload:T,onIconClear:L,onClose:x}){return e.jsx("div",{className:"mphone-settings-overlay",onClick:x,children:e.jsxs("div",{className:"mphone-settings-sheet",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"mphone-settings-header",children:[e.jsx("div",{className:"mphone-settings-title",children:"M çš„è¨­å®š"}),e.jsx("button",{type:"button",className:"mphone-settings-close",onClick:x,"aria-label":"é—œé–‰",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2.5",strokeLinecap:"round"})})})]}),e.jsxs("div",{className:"mphone-settings-scroll",children:[e.jsxs("div",{className:"mphone-settings-section",children:[e.jsx("div",{className:"mphone-settings-section-title",children:"æ¡Œå¸ƒ"}),e.jsxs("div",{className:"mphone-settings-row",children:[e.jsx("input",{type:"text",className:"mphone-settings-input",placeholder:"è²¼ä¸Šåœ–ç‰‡ç¶²å€...",value:i,onChange:c=>h(c.target.value),onKeyDown:c=>{c.key==="Enter"&&m()}}),e.jsx("button",{type:"button",className:"mphone-settings-btn",onClick:m,children:"å¥—ç”¨"})]}),e.jsxs("label",{className:"mphone-settings-upload-label",children:[e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:P}),e.jsx("svg",{viewBox:"0 0 24 24",width:"15",height:"15",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round","aria-hidden":"true",children:e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),"ä¸Šå‚³åœ–ç‰‡"]}),s.wallpaper&&e.jsx("button",{type:"button",className:"mphone-settings-clear-btn",onClick:k,children:"æ¸…é™¤è‡ªè¨‚æ¡Œå¸ƒ"})]}),e.jsxs("div",{className:"mphone-settings-section",children:[e.jsx("div",{className:"mphone-settings-section-title",children:"App åœ–ç¤º"}),g.map(c=>{const f=A[c],j=s.appIcons[c],B=j?{backgroundImage:`url('${j}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:f.iconBg};return e.jsxs("div",{className:"mphone-settings-icon-row",children:[e.jsx("div",{className:"mphone-settings-icon-preview",style:B,children:!j&&e.jsx("span",{children:f.icon})}),e.jsxs("div",{className:"mphone-settings-icon-info",children:[e.jsx("div",{className:"mphone-settings-icon-name",children:f.label}),e.jsxs("div",{className:"mphone-settings-icon-inputs",children:[e.jsx("input",{type:"text",className:"mphone-settings-input mphone-settings-input--sm",placeholder:"è²¼ä¸Šåœ–ç‰‡ç¶²å€...",value:l[c]??"",onChange:b=>N(c,b.target.value),onKeyDown:b=>{b.key==="Enter"&&M(c)}}),e.jsx("button",{type:"button",className:"mphone-settings-btn mphone-settings-btn--sm",onClick:()=>M(c),children:"å¥—ç”¨"}),e.jsxs("label",{className:"mphone-settings-upload-label mphone-settings-upload-label--sm",children:[e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:b=>T(c,b)}),"ä¸Šå‚³"]}),j&&e.jsx("button",{type:"button",className:"mphone-settings-clear-btn mphone-settings-clear-btn--sm",onClick:()=>L(c),children:"æ¸…é™¤"})]})]})]},c)})]})]})]})})}function He({onLaunchApp:s,onReturnToMyPhone:i,initialScreen:l,appsOnMPhone:g,mPhoneFontFamily:h}){const[m,P]=n.useState(()=>new Date),[k,N]=n.useState(l??"lock"),[M,T]=n.useState(0),[L,x]=n.useState(!1),[c,f]=n.useState(!1),[j,B]=n.useState({}),[b,se]=n.useState(""),[r,ne]=n.useState(()=>we()),[w,_]=n.useState(""),[D,O]=n.useState({}),ae=n.useMemo(()=>{const t=[...J,...I],a={};return t.forEach((o,p)=>{a[o]=Re(p*17+41)}),a},[]),u=n.useMemo(()=>{const t=new Set;return(g??[]).forEach(a=>{const o=Pe[a];o&&t.add(o)}),t},[g]),ie=n.useMemo(()=>Te.filter(t=>u.has(t)),[u]),oe=n.useMemo(()=>Le.filter(t=>u.has(t)),[u]),le=n.useMemo(()=>Be.filter(t=>u.has(t)),[u]),ce=n.useMemo(()=>I.filter(t=>u.has(t)),[u]),z=n.useMemo(()=>[...J.filter(t=>u.has(t)),...I.filter(t=>u.has(t))],[u]),H=n.useRef(0),U=n.useRef(0),Y=n.useRef(0),F=n.useRef(0),q=n.useRef(null),v="/Our-love/docs/",re=n.useMemo(()=>r.wallpaper||De(v),[v,r.wallpaper]);n.useEffect(()=>{const t=setInterval(()=>P(new Date),1e3);return()=>clearInterval(t)},[]),n.useEffect(()=>{Object.keys(Q).forEach(t=>{const a=A[t];a.dataPath&&fetch(`${v}${a.dataPath}`).then(o=>o.json()).then(o=>{const p=Ee(o.docs,Q[t]??0);p&&B(S=>({...S,[t]:p}))}).catch(()=>{})})},[v]),n.useEffect(()=>{fetch(`${v}data/songs.json`).then(t=>t.json()).then(t=>se(Ie(t))).catch(()=>{})},[v]),n.useEffect(()=>{const t=q.current;if(!t)return;const a=()=>{const o=t.clientWidth;o&&T(Math.round(t.scrollLeft/o))};return t.addEventListener("scroll",a,{passive:!0}),()=>t.removeEventListener("scroll",a)},[]);const V=n.useCallback(()=>N("notif"),[]),E=n.useCallback(()=>N("lock"),[]),he=n.useCallback(()=>N("home"),[]),de=n.useCallback(t=>{H.current=t.touches[0].clientY},[]),me=n.useCallback(t=>{t.changedTouches[0].clientY-H.current<-50&&V()},[V]),ue=n.useCallback(t=>{U.current=t.touches[0].clientY,Y.current=F.current},[]),pe=n.useCallback(t=>{t.changedTouches[0].clientY-U.current>50&&Y.current<=0&&E()},[E]),y=n.useCallback(t=>{s(t)},[s]),ge=n.useCallback(()=>x(!0),[]),G=n.useCallback(()=>x(!1),[]),be=n.useCallback(()=>{x(!1),i()},[i]),d=n.useCallback(t=>{ne(a=>{const o={...a,...t};return Ce(o),o})},[]),xe=n.useCallback(()=>{w.trim()&&(d({wallpaper:w.trim()}),_(""))},[w,d]),fe=n.useCallback(t=>{const a=t.target.files?.[0];if(!a)return;const o=new FileReader;o.onload=()=>{typeof o.result=="string"&&d({wallpaper:o.result})},o.readAsDataURL(a),t.target.value=""},[d]),je=n.useCallback(()=>{d({wallpaper:""})},[d]),ve=n.useCallback((t,a)=>{O(o=>({...o,[t]:a}))},[]),ke=n.useCallback(t=>{const a=D[t]?.trim();a&&(d({appIcons:{...r.appIcons,[t]:a}}),O(o=>({...o,[t]:""})))},[D,r.appIcons,d]),Ne=n.useCallback((t,a)=>{const o=a.target.files?.[0];if(!o)return;const p=new FileReader;p.onload=()=>{typeof p.result=="string"&&d({appIcons:{...r.appIcons,[t]:p.result}})},p.readAsDataURL(o),a.target.value=""},[r.appIcons,d]),ye=n.useCallback(t=>{const a={...r.appIcons};delete a[t],d({appIcons:a})},[r.appIcons,d]),Se=$(m),Me=ee(m);return e.jsxs("div",{className:"mphone-root",style:h?{"--mphone-font":`'${h}', -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif`}:void 0,children:[e.jsx("div",{className:"mphone-wallpaper",style:{backgroundImage:`url('${re}')`},"aria-hidden":"true"}),e.jsx("div",{className:"mphone-wallpaper-overlay","aria-hidden":"true"}),e.jsx("div",{className:"mphone-dynamic-island","aria-hidden":"true"}),e.jsxs("div",{className:`mphone-screen mphone-lock ${R("lock",k)}`,onTouchStart:de,onTouchEnd:me,children:[e.jsx(W,{now:m,hideTime:!0}),e.jsxs("div",{className:"mphone-lock-body",children:[e.jsxs("div",{className:"mphone-lock-hero",children:[e.jsx("div",{className:"mphone-lock-date",children:Me}),e.jsx("div",{className:"mphone-lock-time",children:Se})]}),e.jsx("div",{className:"mphone-lock-spacer"}),b&&e.jsx(We,{song:b})]}),e.jsxs("div",{className:"mphone-lock-footer",children:[e.jsxs("div",{className:"mphone-lock-swipe-hint","aria-hidden":"true",children:[e.jsx("svg",{viewBox:"0 0 20 20",fill:"none",width:"13",height:"13",children:e.jsx("path",{d:"M10 5v10M5 10l5 5 5-5",stroke:"rgba(255,255,255,0.4)",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{children:"å‘ä¸‹æ»‘å‹•æŸ¥çœ‹é€šçŸ¥"})]}),e.jsx("div",{className:"mphone-home-indicator"})]})]}),e.jsxs("div",{className:`mphone-screen mphone-notif ${R("notif",k)}`,onTouchStart:ue,onTouchEnd:pe,children:[e.jsx(W,{now:m}),e.jsxs("div",{className:"mphone-notif-header",children:[e.jsx("div",{className:"mphone-notif-title",children:"é€šçŸ¥ä¸­å¿ƒ"}),e.jsx("button",{type:"button",className:"mphone-notif-close",onClick:E,"aria-label":"é—œé–‰é€šçŸ¥ä¸­å¿ƒ",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"rgba(255,255,255,0.9)",strokeWidth:"2.5",strokeLinecap:"round"})})})]}),e.jsx("div",{className:"mphone-notif-scroll",onScroll:t=>{F.current=t.currentTarget.scrollTop},children:z.map(t=>{const a=A[t],o=j[t]??a.staticTitle??"...",p=a.staticSub??a.label,S=r.appIcons[t];return e.jsxs("button",{type:"button",className:"mphone-notif-card mphone-glass",onClick:()=>y(t),children:[e.jsx("div",{className:"mphone-notif-ico",style:S?{backgroundImage:`url('${S}')`,backgroundSize:"cover",backgroundPosition:"center"}:{background:a.iconBg},children:!S&&a.icon}),e.jsxs("div",{className:"mphone-notif-body",children:[e.jsx("div",{className:"mphone-notif-app",children:a.label}),e.jsx("div",{className:"mphone-notif-title",children:o}),e.jsx("div",{className:"mphone-notif-sub",children:p})]}),e.jsx("div",{className:"mphone-notif-when",children:ae[t]??a.timeAgo??"ä»Šå¤©"})]},t)})}),e.jsxs("div",{className:"mphone-notif-bottom",children:[e.jsx("button",{type:"button",className:"mphone-notif-home-btn",onClick:he,"aria-label":"å‰å¾€æ¡Œé¢",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M3 9.5L12 3l9 6.5V20a1 1 0 0 1-1 1H15v-5h-6v5H4a1 1 0 0 1-1-1V9.5z",fill:"rgba(255,255,255,0.88)"})})}),e.jsx("div",{className:"mphone-home-indicator"})]})]}),e.jsxs("div",{className:`mphone-screen mphone-home ${R("home",k)}`,children:[e.jsx(W,{now:m}),e.jsxs("div",{ref:q,className:"mphone-home-pager",children:[e.jsxs("section",{className:"mphone-home-page",children:[e.jsx($e,{now:m}),e.jsx("div",{className:"mphone-app-grid",children:ie.map(t=>e.jsx(C,{appId:t,onLaunch:y,customIconUrl:r.appIcons[t]},t))})]}),e.jsxs("section",{className:"mphone-home-page",children:[e.jsx(_e,{song:b}),e.jsxs("div",{className:"mphone-app-grid",children:[oe.map(t=>e.jsx(C,{appId:t,onLaunch:y,customIconUrl:r.appIcons[t]},t)),ce.map(t=>e.jsx(C,{appId:t,onLaunch:y,customIconUrl:r.appIcons[t]},t)),e.jsxs("button",{type:"button",className:"mphone-app-item",onClick:ge,"aria-label":"Anni's Phone",children:[e.jsx("div",{className:"mphone-app-icon mphone-annisphone-icon",children:e.jsx("span",{children:"A"})}),e.jsx("span",{className:"mphone-app-label",children:"Anni's Phone"})]})]})]})]}),e.jsx("div",{className:"mphone-page-dots","aria-hidden":"true",children:[0,1].map(t=>e.jsx("span",{className:`mphone-page-dot${t===M?" is-active":""}`},t))}),e.jsx("div",{className:"mphone-dock-wrap",children:e.jsxs("div",{className:"mphone-dock",children:[le.map(t=>e.jsx(C,{appId:t,onLaunch:y,dockSize:!0,customIconUrl:r.appIcons[t]},t)),e.jsx("button",{type:"button",className:"mphone-app-item mphone-dock-item","aria-label":"è¨­å®š",onClick:()=>f(!0),children:e.jsx("div",{className:"mphone-app-icon",style:{background:"linear-gradient(145deg,#636366,#48484a)"},children:e.jsx("span",{children:"âš™"})})})]})}),e.jsx("div",{className:"mphone-home-indicator"})]}),L&&e.jsx("div",{className:"mphone-confirm-overlay",onClick:G,role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"mphone-confirm-dialog",onClick:t=>t.stopPropagation(),children:[e.jsx("p",{className:"mphone-confirm-title",children:"é›¢é–‹ M çš„æ‰‹æ©Ÿï¼Ÿ"}),e.jsx("p",{className:"mphone-confirm-sub",children:"åˆ‡æ›å› Anni's Phone"}),e.jsxs("div",{className:"mphone-confirm-actions",children:[e.jsx("button",{type:"button",className:"mphone-confirm-cancel",onClick:G,children:"å–æ¶ˆ"}),e.jsx("button",{type:"button",className:"mphone-confirm-ok",onClick:be,children:"ç¢ºå®š"})]})]})}),c&&e.jsx(Oe,{settings:r,wallpaperDraft:w,iconDrafts:D,currentApps:z,onWallpaperDraftChange:_,onWallpaperApply:xe,onWallpaperUpload:fe,onWallpaperClear:je,onIconDraftChange:ve,onIconApply:ke,onIconUpload:Ne,onIconClear:ye,onClose:()=>f(!1)})]})}export{He as MPhonePage};
