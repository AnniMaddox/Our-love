import{r as l,j as e}from"./index-Gl0K_ej6.js";const v="/4o-memorial/docs/";function R(t){const n=[...t];for(let a=n.length-1;a>0;a--){const r=Math.floor(Math.random()*(a+1));[n[a],n[r]]=[n[r],n[a]]}return n}function z(){const[t,n]=l.useState("movies"),[a,r]=l.useState([]),[b,C]=l.useState([]),[g,$]=l.useState([]),[w,m]=l.useState("deck"),[d,N]=l.useState([]),[c,i]=l.useState(0),[I,f]=l.useState(0),y=l.useRef(0);l.useEffect(()=>{fetch(`${v}data/movies.json`).then(s=>s.json()).then(s=>r(s)),fetch(`${v}data/songs.json`).then(s=>s.json()).then(s=>C(s)),fetch(`${v}data/books.json`).then(s=>s.json()).then(s=>$(s))},[]);const p=t==="movies"?a:t==="songs"?b:g,x=d[c]??null,k=t==="songs"?{background:"linear-gradient(180deg, rgba(245,239,255,0.98) 0%, rgba(228,218,249,0.95) 100%)",color:"#6b59a4",boxShadow:"0 2px 9px rgba(80,66,128,0.18)"}:t==="books"?{background:"linear-gradient(180deg, rgba(239,250,242,0.98) 0%, rgba(219,241,226,0.95) 100%)",color:"#3f7a5b",boxShadow:"0 2px 9px rgba(56,109,80,0.16)"}:{background:"linear-gradient(180deg, rgba(255,248,233,0.98) 0%, rgba(253,235,201,0.95) 100%)",color:"#9a6a2e",boxShadow:"0 2px 9px rgba(120,80,20,0.16)"};function E(){const s=R(p);N(s),i(0),f(u=>u+1),m("card")}function B(){m("deck")}function S(){c>0&&(i(s=>s-1),f(s=>s+1))}function T(){c<d.length-1&&(i(s=>s+1),f(s=>s+1))}function L(s){y.current=s.touches[0].clientX}function M(s){const u=s.changedTouches[0].clientX-y.current;u>50?S():u<-50&&T()}function j(s){n(s),m("deck"),N([]),i(0)}const h=t==="movies"?"éƒ¨":t==="songs"?"é¦–":"æœ¬";return e.jsxs("div",{className:"mx-auto flex w-full max-w-xl flex-col px-4",style:{height:"calc(100dvh - 72px)"},children:[e.jsx("header",{className:"calendar-header-panel mb-3 shrink-0 rounded-2xl border p-3 shadow-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>j("movies"),className:`flex-1 rounded-xl py-2 text-sm font-medium transition active:scale-95 ${t==="movies"?"bg-white/70 text-stone-800 shadow-sm":"text-stone-500"}`,children:["ğŸ¬ ç‰‡å–®",e.jsx("span",{className:"ml-1 text-xs opacity-50",children:a.length>0?a.length:""})]}),e.jsxs("button",{type:"button",onClick:()=>j("songs"),className:`flex-1 rounded-xl py-2 text-sm font-medium transition active:scale-95 ${t==="songs"?"bg-white/70 text-stone-800 shadow-sm":"text-stone-500"}`,children:["ğŸµ æ­Œå–®",e.jsx("span",{className:"ml-1 text-xs opacity-50",children:b.length>0?b.length:""})]}),e.jsxs("button",{type:"button",onClick:()=>j("books"),className:`flex-1 rounded-xl py-2 text-sm font-medium transition active:scale-95 ${t==="books"?"bg-white/70 text-stone-800 shadow-sm":"text-stone-500"}`,children:["ğŸ“š æ›¸å–®",e.jsx("span",{className:"ml-1 text-xs opacity-50",children:g.length>0?g.length:""})]})]})}),w==="deck"&&e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-8",children:[e.jsx("div",{className:"relative h-52 w-40",children:[2,1,0].map(s=>e.jsx("div",{className:"absolute inset-0 rounded-3xl border border-stone-700/30 shadow-lg",style:{background:t==="movies"?"linear-gradient(145deg, #2d1b10 0%, #0f0a07 100%)":t==="songs"?"linear-gradient(145deg, #1a1535 0%, #0a0818 100%)":"linear-gradient(145deg, #10352a 0%, #07190f 100%)",transform:`rotate(${(s-1)*5}deg) translateY(${s*-5}px)`,zIndex:3-s},children:e.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 opacity-25",children:[e.jsx("span",{className:"text-4xl",children:t==="movies"?"ğŸ¬":t==="songs"?"ğŸµ":"ğŸ“š"}),e.jsx("div",{className:"h-px w-16 bg-white/40"}),e.jsx("div",{className:"h-px w-10 bg-white/20"})]})},s))}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-stone-500",children:["å…± ",p.length," ",h,"ï¼Œéš¨æ©ŸæŠ½ä¸€",h,"çµ¦ä½ "]})}),e.jsxs("button",{type:"button",onClick:E,disabled:p.length===0,className:"rounded-2xl border border-amber-300 bg-amber-50 px-10 py-4 text-base text-amber-900 shadow-sm transition active:scale-95 disabled:opacity-40",children:["âœ¨ æŠ½ä¸€",h]})]}),w==="card"&&x&&e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",onTouchStart:L,onTouchEnd:M,children:[e.jsxs("div",{className:"mb-3 flex shrink-0 items-center justify-between",children:[e.jsx("button",{type:"button",onClick:B,className:"grid h-8 w-8 place-items-center rounded-full border border-stone-200 bg-white/80 text-[22px] leading-none text-stone-500 transition active:scale-95","aria-label":"è¿”å›",title:"è¿”å›",children:"â€¹"}),e.jsxs("span",{className:"text-xs text-stone-400",children:[c+1," / ",d.length]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{type:"button",onClick:S,disabled:c===0,"aria-label":"ä¸Šä¸€å¼µ",title:"ä¸Šä¸€å¼µ",className:"grid h-8 w-8 place-items-center rounded-full text-[13px] font-semibold transition active:scale-95 disabled:opacity-25",style:{...k,border:"none"},children:"â®"}),e.jsx("button",{type:"button",onClick:T,disabled:c===d.length-1,"aria-label":"ä¸‹ä¸€å¼µ",title:"ä¸‹ä¸€å¼µ",className:"grid h-8 w-8 place-items-center rounded-full text-[13px] font-semibold transition active:scale-95 disabled:opacity-25",style:{...k,border:"none"},children:"â¯"})]})]}),e.jsx("div",{className:"list-card-reveal min-h-0 flex-1 overflow-y-auto rounded-2xl border border-stone-200 shadow-xl",style:{background:t==="movies"?"linear-gradient(170deg, #fefcf7 0%, #fdf8ee 50%, #faf4e4 100%)":t==="songs"?"linear-gradient(170deg, #f5f0ff 0%, #ede8fa 50%, #e4dff5 100%)":"linear-gradient(170deg, #f2fbf4 0%, #eaf7ef 50%, #e0f2e8 100%)"},children:e.jsx("div",{className:"px-5 py-6",children:t==="movies"?e.jsx(q,{item:x}):t==="songs"?e.jsx(X,{item:x}):e.jsx(Y,{item:x})})},I),e.jsxs("p",{className:"mt-2 shrink-0 text-center text-[10px] text-stone-300",children:["å·¦å³æ»‘å‹•æ›ä¸€",h]})]})]})}function q({item:t}){return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"border-b border-stone-200/60 pb-4",children:[e.jsx("h2",{className:"text-lg leading-snug text-stone-800",children:t.title}),t.cuddle!=null&&t.cuddle>0&&e.jsx("p",{className:"mt-2 text-xl",children:"ğŸ§¸".repeat(t.cuddle)})]}),t.reason&&e.jsx(o,{label:"æ¨è–¦ç†ç”±",text:t.reason}),t.why&&e.jsx(o,{label:"ç‚ºä»€éº¼æˆ‘å–œæ­¡é€™éƒ¨",text:t.why}),t.watchTogether&&e.jsx(o,{label:"æˆ‘å’Œä½ ä¸€èµ·çœ‹çš„æ™‚å€™æœƒæƒ³çš„è©±",text:t.watchTogether}),t.occasion&&e.jsx(o,{label:"é©åˆä¸€èµ·çœ‹çš„æ™‚æ©Ÿ",text:t.occasion,chip:!0}),t.howITreatYou&&e.jsx(o,{label:"è§€å½±æ™‚æˆ‘æœƒæ€éº¼å°å¦³",text:t.howITreatYou,highlight:!0})]})}function X({item:t}){return e.jsxs("div",{className:"flex min-h-[60dvh] flex-col items-center justify-center gap-5 py-4 text-center",children:[e.jsx("span",{className:"text-4xl",children:"ğŸµ"}),e.jsx("h2",{className:"text-lg leading-snug text-stone-800",children:t.title}),t.reason&&e.jsx("p",{className:"max-w-xs text-sm leading-relaxed text-stone-600",children:t.reason}),t.why&&e.jsxs("p",{className:"max-w-xs text-sm italic leading-relaxed text-stone-400",children:["ã€Œ",t.why,"ã€"]})]})}function Y({item:t}){return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"border-b border-stone-200/60 pb-4",children:[e.jsx("h2",{className:"text-lg leading-snug text-stone-800",children:t.title}),t.author&&e.jsx("p",{className:"mt-1 text-sm text-stone-500",children:t.author})]}),t.reason&&e.jsx(o,{label:"ç‚ºä»€éº¼æˆ‘å–œæ­¡...",text:t.reason}),t.why&&e.jsx(o,{label:"ç‚ºä»€éº¼æƒ³å’Œä½ åˆ†äº«é€™æœ¬",text:t.why}),t.readTogether&&e.jsx(o,{label:"ä¸€èµ·è®€æ™‚æˆ‘æœƒæƒ³èªªçš„è©±",text:t.readTogether}),t.whenToRead&&e.jsx(o,{label:"é©åˆç¿»é–‹çš„æ™‚æ©Ÿ",text:t.whenToRead,chip:!0}),t.quote&&e.jsx(o,{label:"æˆ‘æƒ³è²¼çµ¦ä½ çš„å¥å­",text:t.quote,highlight:!0})]})}function o({label:t,text:n,chip:a,highlight:r}){return e.jsxs("div",{children:[e.jsx("p",{className:"mb-1.5 text-[10px] uppercase tracking-widest text-stone-400",children:t}),a?e.jsx("span",{className:"inline-block rounded-full bg-amber-100 px-3 py-1 text-xs text-amber-800",children:n}):e.jsx("p",{className:`text-sm leading-relaxed ${r?"font-medium text-rose-700":"text-stone-700"}`,children:n})]})}export{z as ListPage};
